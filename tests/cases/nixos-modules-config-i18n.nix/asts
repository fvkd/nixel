---
Function {
 argument: None,
 arguments: FunctionArguments {
  arguments: [
   FunctionArgument {
    identifier: "pkgs",
    default: None,
   },
   FunctionArgument {
    identifier: "lib",
    default: None,
   },
   FunctionArgument {
    identifier: "config",
    default: None,
   },
  ],
  ellipsis: true,
 },
 definition: With {
  expression: Variable {
   identifier: "lib",
   position: (3, 6),
  },
  target: Map {
   bindings: [
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "options",
        position: (8, 3),
       },
      ],
     },
     Map {
      bindings: [
       KeyValue(
        AttributePath {
         attributes: [
          Raw {
           content: "i18n",
           position: (10, 5),
          },
         ],
        },
        Map {
         bindings: [
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "glibcLocales",
              position: (11, 7),
             },
            ],
           },
           FunctionApplication {
            function: Variable {
             identifier: "mkOption",
             position: (11, 22),
            },
            arguments: [
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "type",
                   position: (12, 9),
                  },
                 ],
                },
                PropertyAccess {
                 expression: Variable {
                  identifier: "types",
                  position: (12, 16),
                 },
                 attribute_path: AttributePath {
                  attributes: [
                   Raw {
                    content: "path",
                    position: (12, 22),
                   },
                  ],
                 },
                 default: None,
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "default",
                   position: (13, 9),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "pkgs",
                   position: (13, 19),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "buildPackages",
                     position: (13, 24),
                    },
                    Raw {
                     content: "glibcLocales",
                     position: (13, 38),
                    },
                    Raw {
                     content: "override",
                     position: (13, 51),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  Map {
                   bindings: [
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "allLocales",
                        position: (14, 11),
                       },
                      ],
                     },
                     FunctionApplication {
                      function: Variable {
                       identifier: "any",
                       position: (14, 24),
                      },
                      arguments: [
                       Function {
                        argument: Some(
                         "x",
                        ),
                        arguments: FunctionArguments {
                         arguments: [],
                         ellipsis: false,
                        },
                        definition: BinaryOperation {
                         operator: EqualTo,
                         operands: [
                          Variable {
                           identifier: "x",
                           position: (14, 32),
                          },
                          String {
                           parts: [
                            Raw {
                             content: "all",
                             position: (14, 38),
                            },
                           ],
                          },
                         ],
                         position: (14, 34),
                        },
                        position: (14, 29),
                       },
                       PropertyAccess {
                        expression: Variable {
                         identifier: "config",
                         position: (14, 44),
                        },
                        attribute_path: AttributePath {
                         attributes: [
                          Raw {
                           content: "i18n",
                           position: (14, 51),
                          },
                          Raw {
                           content: "supportedLocales",
                           position: (14, 56),
                          },
                         ],
                        },
                        default: None,
                       },
                      ],
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "locales",
                        position: (15, 11),
                       },
                      ],
                     },
                     PropertyAccess {
                      expression: Variable {
                       identifier: "config",
                       position: (15, 21),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "i18n",
                         position: (15, 28),
                        },
                        Raw {
                         content: "supportedLocales",
                         position: (15, 33),
                        },
                       ],
                      },
                      default: None,
                     },
                    ),
                   ],
                   recursive: false,
                   position: (13, 60),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "defaultText",
                   position: (17, 9),
                  },
                 ],
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "literalExpression",
                  position: (17, 23),
                 },
                 arguments: [
                  String {
                   parts: [
                    Raw {
                     content: "pkgs.buildPackages.glibcLocales.override {\n  allLocales = any (x: x == \"all\") config.i18n.supportedLocales;\n  locales = config.i18n.supportedLocales;\n}\n",
                     position: (18, 1),
                    },
                   ],
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "example",
                   position: (23, 9),
                  },
                 ],
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "literalExpression",
                  position: (23, 19),
                 },
                 arguments: [
                  String {
                   parts: [
                    Raw {
                     content: "pkgs.glibcLocales",
                     position: (23, 38),
                    },
                   ],
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "description",
                   position: (24, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "Customized pkg.glibcLocales package.\n\nChanging this option can disable handling of i18n.defaultLocale\nand supportedLocale.\n",
                   position: (25, 1),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (11, 31),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "defaultLocale",
              position: (32, 7),
             },
            ],
           },
           FunctionApplication {
            function: Variable {
             identifier: "mkOption",
             position: (32, 23),
            },
            arguments: [
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "type",
                   position: (33, 9),
                  },
                 ],
                },
                PropertyAccess {
                 expression: Variable {
                  identifier: "types",
                  position: (33, 16),
                 },
                 attribute_path: AttributePath {
                  attributes: [
                   Raw {
                    content: "str",
                    position: (33, 22),
                   },
                  ],
                 },
                 default: None,
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "default",
                   position: (34, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "en_US.UTF-8",
                   position: (34, 20),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "example",
                   position: (35, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "nl_NL.UTF-8",
                   position: (35, 20),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "description",
                   position: (36, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "The default locale.  It determines the language for program\nmessages, the format for dates and times, sort order, and so on.\nIt also determines the character set, such as UTF-8.\n",
                   position: (37, 1),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (32, 32),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "extraLocaleSettings",
              position: (43, 7),
             },
            ],
           },
           FunctionApplication {
            function: Variable {
             identifier: "mkOption",
             position: (43, 29),
            },
            arguments: [
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "type",
                   position: (44, 9),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (44, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "attrsOf",
                     position: (44, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (44, 30),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "str",
                      position: (44, 36),
                     },
                    ],
                   },
                   default: None,
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "default",
                   position: (45, 9),
                  },
                 ],
                },
                Map {
                 bindings: [],
                 recursive: false,
                 position: (45, 19),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "example",
                   position: (46, 9),
                  },
                 ],
                },
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "LC_MESSAGES",
                      position: (46, 21),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "en_US.UTF-8",
                      position: (46, 36),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "LC_TIME",
                      position: (46, 50),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "de_DE.UTF-8",
                      position: (46, 61),
                     },
                    ],
                   },
                  ),
                 ],
                 recursive: false,
                 position: (46, 19),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "description",
                   position: (47, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "A set of additional system-wide locale settings other than\n<literal>LANG</literal> which can be configured with\n<option>i18n.defaultLocale</option>.\n",
                   position: (48, 1),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (43, 38),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "supportedLocales",
              position: (54, 7),
             },
            ],
           },
           FunctionApplication {
            function: Variable {
             identifier: "mkOption",
             position: (54, 26),
            },
            arguments: [
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "type",
                   position: (55, 9),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (55, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "listOf",
                     position: (55, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (55, 29),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "str",
                      position: (55, 35),
                     },
                    ],
                   },
                   default: None,
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "default",
                   position: (56, 9),
                  },
                 ],
                },
                List {
                 elements: [
                  String {
                   parts: [
                    Raw {
                     content: "all",
                     position: (56, 21),
                    },
                   ],
                  },
                 ],
                 position: (56, 19),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "example",
                   position: (57, 9),
                  },
                 ],
                },
                List {
                 elements: [
                  String {
                   parts: [
                    Raw {
                     content: "en_US.UTF-8/UTF-8",
                     position: (57, 21),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "nl_NL.UTF-8/UTF-8",
                     position: (57, 41),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "nl_NL/ISO-8859-1",
                     position: (57, 61),
                    },
                   ],
                  },
                 ],
                 position: (57, 19),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "description",
                   position: (58, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "List of locales that the system should support.  The value\n<literal>\"all\"</literal> means that all locales supported by\nGlibc will be installed.  A full list of supported locales\ncan be found at <link\nxlink:href=\"https://sourceware.org/git/?p=glibc.git;a=blob;f=localedata/SUPPORTED\"/>.\n",
                   position: (59, 1),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (54, 35),
             },
            ],
           },
          ),
         ],
         recursive: false,
         position: (10, 12),
        },
       ),
      ],
      recursive: false,
      position: (8, 13),
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "config",
        position: (74, 3),
       },
      ],
     },
     Map {
      bindings: [
       KeyValue(
        AttributePath {
         attributes: [
          Raw {
           content: "environment",
           position: (76, 5),
          },
          Raw {
           content: "systemPackages",
           position: (76, 17),
          },
         ],
        },
        FunctionApplication {
         function: Variable {
          identifier: "optional",
          position: (78, 7),
         },
         arguments: [
          BinaryOperation {
           operator: NotEqualTo,
           operands: [
            PropertyAccess {
             expression: Variable {
              identifier: "config",
              position: (78, 17),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "i18n",
                position: (78, 24),
               },
               Raw {
                content: "supportedLocales",
                position: (78, 29),
               },
              ],
             },
             default: None,
            },
            List {
             elements: [],
             position: (78, 49),
            },
           ],
           position: (78, 46),
          },
          FunctionApplication {
           function: PropertyAccess {
            expression: Variable {
             identifier: "lib",
             position: (78, 54),
            },
            attribute_path: AttributePath {
             attributes: [
              Raw {
               content: "setPrio",
               position: (78, 58),
              },
             ],
            },
            default: None,
           },
           arguments: [
            UnaryOperation {
             operator: Negate,
             operand: Int {
              value: 1,
              position: (78, 68),
             },
             position: (78, 67),
            },
            PropertyAccess {
             expression: Variable {
              identifier: "config",
              position: (78, 71),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "i18n",
                position: (78, 78),
               },
               Raw {
                content: "glibcLocales",
                position: (78, 83),
               },
              ],
             },
             default: None,
            },
           ],
          },
         ],
        },
       ),
       KeyValue(
        AttributePath {
         attributes: [
          Raw {
           content: "environment",
           position: (80, 5),
          },
          Raw {
           content: "sessionVariables",
           position: (80, 17),
          },
         ],
        },
        BinaryOperation {
         operator: Update,
         operands: [
          Map {
           bindings: [
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "LANG",
                position: (81, 9),
               },
              ],
             },
             PropertyAccess {
              expression: Variable {
               identifier: "config",
               position: (81, 16),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "i18n",
                 position: (81, 23),
                },
                Raw {
                 content: "defaultLocale",
                 position: (81, 28),
                },
               ],
              },
              default: None,
             },
            ),
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "LOCALE_ARCHIVE",
                position: (82, 9),
               },
              ],
             },
             String {
              parts: [
               Raw {
                content: "/run/current-system/sw/lib/locale/locale-archive",
                position: (82, 27),
               },
              ],
             },
            ),
           ],
           recursive: false,
           position: (81, 7),
          },
          PropertyAccess {
           expression: Variable {
            identifier: "config",
            position: (83, 12),
           },
           attribute_path: AttributePath {
            attributes: [
             Raw {
              content: "i18n",
              position: (83, 19),
             },
             Raw {
              content: "extraLocaleSettings",
              position: (83, 24),
             },
            ],
           },
           default: None,
          },
         ],
         position: (83, 9),
        },
       ),
       KeyValue(
        AttributePath {
         attributes: [
          Raw {
           content: "systemd",
           position: (85, 5),
          },
          Raw {
           content: "globalEnvironment",
           position: (85, 13),
          },
         ],
        },
        FunctionApplication {
         function: Variable {
          identifier: "mkIf",
          position: (85, 33),
         },
         arguments: [
          BinaryOperation {
           operator: NotEqualTo,
           operands: [
            PropertyAccess {
             expression: Variable {
              identifier: "config",
              position: (85, 39),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "i18n",
                position: (85, 46),
               },
               Raw {
                content: "supportedLocales",
                position: (85, 51),
               },
              ],
             },
             default: None,
            },
            List {
             elements: [],
             position: (85, 71),
            },
           ],
           position: (85, 68),
          },
          Map {
           bindings: [
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "LOCALE_ARCHIVE",
                position: (86, 7),
               },
              ],
             },
             String {
              parts: [
               Expression {
                expression: PropertyAccess {
                 expression: Variable {
                  identifier: "config",
                  position: (86, 27),
                 },
                 attribute_path: AttributePath {
                  attributes: [
                   Raw {
                    content: "i18n",
                    position: (86, 34),
                   },
                   Raw {
                    content: "glibcLocales",
                    position: (86, 39),
                   },
                  ],
                 },
                 default: None,
                },
               },
               Raw {
                content: "/lib/locale/locale-archive",
                position: (86, 52),
               },
              ],
             },
            ),
           ],
           recursive: false,
           position: (85, 75),
          },
         ],
        },
       ),
       KeyValue(
        AttributePath {
         attributes: [
          Raw {
           content: "environment",
           position: (90, 5),
          },
          Raw {
           content: "etc",
           position: (90, 17),
          },
          Expression {
           expression: String {
            parts: [
             Raw {
              content: "locale.conf",
              position: (90, 22),
             },
            ],
           },
          },
          Raw {
           content: "source",
           position: (90, 35),
          },
         ],
        },
        FunctionApplication {
         function: PropertyAccess {
          expression: Variable {
           identifier: "pkgs",
           position: (90, 44),
          },
          attribute_path: AttributePath {
           attributes: [
            Raw {
             content: "writeText",
             position: (90, 49),
            },
           ],
          },
          default: None,
         },
         arguments: [
          String {
           parts: [
            Raw {
             content: "locale.conf",
             position: (90, 60),
            },
           ],
          },
          String {
           parts: [
            Raw {
             content: "LANG=",
             position: (92, 1),
            },
            Expression {
             expression: PropertyAccess {
              expression: Variable {
               identifier: "config",
               position: (92, 16),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "i18n",
                 position: (92, 23),
                },
                Raw {
                 content: "defaultLocale",
                 position: (92, 28),
                },
               ],
              },
              default: None,
             },
            },
            Raw {
             content: "\n",
             position: (92, 42),
            },
            Expression {
             expression: FunctionApplication {
              function: Variable {
               identifier: "concatStringsSep",
               position: (93, 11),
              },
              arguments: [
               String {
                parts: [
                 Raw {
                  content: "\n",
                  position: (93, 29),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mapAttrsToList",
                 position: (93, 34),
                },
                arguments: [
                 Function {
                  argument: Some(
                   "n",
                  ),
                  arguments: FunctionArguments {
                   arguments: [],
                   ellipsis: false,
                  },
                  definition: Function {
                   argument: Some(
                    "v",
                   ),
                   arguments: FunctionArguments {
                    arguments: [],
                    ellipsis: false,
                   },
                   definition: String {
                    parts: [
                     Expression {
                      expression: Variable {
                       identifier: "n",
                       position: (93, 59),
                      },
                     },
                     Raw {
                      content: "=",
                      position: (93, 61),
                     },
                     Expression {
                      expression: Variable {
                       identifier: "v",
                       position: (93, 64),
                      },
                     },
                    ],
                   },
                   position: (93, 53),
                  },
                  position: (93, 50),
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "config",
                   position: (93, 69),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "i18n",
                     position: (93, 76),
                    },
                    Raw {
                     content: "extraLocaleSettings",
                     position: (93, 81),
                    },
                   ],
                  },
                  default: None,
                 },
                ],
               },
              ],
             },
            },
            Raw {
             content: "\n",
             position: (93, 102),
            },
           ],
          },
         ],
        },
       ),
      ],
      recursive: false,
      position: (74, 12),
     },
    ),
   ],
   recursive: false,
   position: (5, 1),
  },
  position: (3, 1),
 },
 position: (1, 1),
}