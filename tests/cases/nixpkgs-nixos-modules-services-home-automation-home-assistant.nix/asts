---
Function {
 argument: Destructured {
  identifier: None,
  arguments: [
   DestructuredArgument {
    identifier: "pkgs",
    default: None,
   },
   DestructuredArgument {
    identifier: "lib",
    default: None,
   },
   DestructuredArgument {
    identifier: "config",
    default: None,
   },
  ],
  ellipsis: true,
 },
 definition: With {
  expression: Variable {
   identifier: "lib",
   position: (3, 6),
  },
  target: LetIn {
   bindings: [
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "cfg",
        position: (6, 3),
       },
      ],
     },
     to: PropertyAccess {
      expression: Variable {
       identifier: "config",
       position: (6, 9),
      },
      attribute_path: AttributePath {
       parts: [
        Raw {
         content: "services",
         position: (6, 16),
        },
        Raw {
         content: "home-assistant",
         position: (6, 25),
        },
       ],
      },
      default: None,
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "format",
        position: (7, 3),
       },
      ],
     },
     to: FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (7, 12),
       },
       attribute_path: AttributePath {
        parts: [
         Raw {
          content: "formats",
          position: (7, 17),
         },
         Raw {
          content: "yaml",
          position: (7, 25),
         },
        ],
       },
       default: None,
      },
      arguments: [
       Map {
        bindings: [],
        recursive: false,
        position: (7, 30),
       },
      ],
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "filteredConfig",
        position: (14, 3),
       },
      ],
     },
     to: FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "lib",
        position: (14, 20),
       },
       attribute_path: AttributePath {
        parts: [
         Raw {
          content: "converge",
          position: (14, 24),
         },
        ],
       },
       default: None,
      },
      arguments: [
       Parentheses {
        expression: FunctionApplication {
         function: PropertyAccess {
          expression: Variable {
           identifier: "lib",
           position: (14, 34),
          },
          attribute_path: AttributePath {
           parts: [
            Raw {
             content: "filterAttrsRecursive",
             position: (14, 38),
            },
           ],
          },
          default: None,
         },
         arguments: [
          Parentheses {
           expression: Function {
            argument: Simple {
             identifier: "_",
            },
            definition: Function {
             argument: Simple {
              identifier: "v",
             },
             definition: UnaryOperation {
              operator: Not,
              operand: FunctionApplication {
               function: Variable {
                identifier: "elem",
                position: (14, 68),
               },
               arguments: [
                Variable {
                 identifier: "v",
                 position: (14, 73),
                },
                List {
                 elements: [
                  Variable {
                   identifier: "null",
                   position: (14, 77),
                  },
                 ],
                 position: (14, 75),
                },
               ],
              },
              position: (14, 66),
             },
             position: (14, 63),
            },
            position: (14, 60),
           },
           position: (14, 59),
          },
         ],
        },
        position: (14, 33),
       },
       PropertyAccess {
        expression: Variable {
         identifier: "cfg",
         position: (14, 86),
        },
        attribute_path: AttributePath {
         parts: [
          Raw {
           content: "config",
           position: (14, 90),
          },
         ],
        },
        default: Some(
         Map {
          bindings: [],
          recursive: false,
          position: (14, 100),
         },
        ),
       },
      ],
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "configFile",
        position: (15, 3),
       },
      ],
     },
     to: FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (15, 16),
       },
       attribute_path: AttributePath {
        parts: [
         Raw {
          content: "runCommand",
          position: (15, 21),
         },
        ],
       },
       default: None,
      },
      arguments: [
       String {
        parts: [
         Raw {
          content: "configuration.yaml",
          position: (15, 33),
         },
        ],
        position: (15, 32),
       },
       Map {
        bindings: [
         Binding {
          from: AttributePath {
           parts: [
            Raw {
             content: "preferLocalBuild",
             position: (15, 55),
            },
           ],
          },
          to: Variable {
           identifier: "true",
           position: (15, 74),
          },
         },
        ],
        recursive: false,
        position: (15, 53),
       },
       String {
        parts: [
         Raw {
          content: "cp ",
          position: (16, 1),
         },
         Expression {
          expression: FunctionApplication {
           function: PropertyAccess {
            expression: Variable {
             identifier: "format",
             position: (16, 10),
            },
            attribute_path: AttributePath {
             parts: [
              Raw {
               content: "generate",
               position: (16, 17),
              },
             ],
            },
            default: None,
           },
           arguments: [
            String {
             parts: [
              Raw {
               content: "configuration.yaml",
               position: (16, 27),
              },
             ],
             position: (16, 26),
            },
            Variable {
             identifier: "filteredConfig",
             position: (16, 47),
            },
           ],
          },
         },
         Raw {
          content: " $out\nsed -i -e \"s/'\\!\\([a-z_]\\+\\) \\(.*\\)'/\\!\\1 \\2/;s/^\\!\\!/\\!/;\" $out\n",
          position: (16, 62),
         },
        ],
        position: (15, 82),
       },
      ],
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "lovelaceConfig",
        position: (19, 3),
       },
      ],
     },
     to: PropertyAccess {
      expression: Variable {
       identifier: "cfg",
       position: (19, 20),
      },
      attribute_path: AttributePath {
       parts: [
        Raw {
         content: "lovelaceConfig",
         position: (19, 24),
        },
       ],
      },
      default: Some(
       Map {
        bindings: [],
        recursive: false,
        position: (19, 42),
       },
      ),
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "lovelaceConfigFile",
        position: (20, 3),
       },
      ],
     },
     to: FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "format",
        position: (20, 24),
       },
       attribute_path: AttributePath {
        parts: [
         Raw {
          content: "generate",
          position: (20, 31),
         },
        ],
       },
       default: None,
      },
      arguments: [
       String {
        parts: [
         Raw {
          content: "ui-lovelace.yaml",
          position: (20, 41),
         },
        ],
        position: (20, 40),
       },
       Variable {
        identifier: "lovelaceConfig",
        position: (20, 59),
       },
      ],
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "availableComponents",
        position: (23, 3),
       },
      ],
     },
     to: PropertyAccess {
      expression: Variable {
       identifier: "cfg",
       position: (23, 25),
      },
      attribute_path: AttributePath {
       parts: [
        Raw {
         content: "package",
         position: (23, 29),
        },
        Raw {
         content: "availableComponents",
         position: (23, 37),
        },
       ],
      },
      default: None,
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "explicitComponents",
        position: (26, 3),
       },
      ],
     },
     to: PropertyAccess {
      expression: Variable {
       identifier: "cfg",
       position: (26, 24),
      },
      attribute_path: AttributePath {
       parts: [
        Raw {
         content: "package",
         position: (26, 28),
        },
        Raw {
         content: "extraComponents",
         position: (26, 36),
        },
       ],
      },
      default: None,
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "useExplicitComponent",
        position: (27, 3),
       },
      ],
     },
     to: Function {
      argument: Simple {
       identifier: "component",
      },
      definition: FunctionApplication {
       function: Variable {
        identifier: "elem",
        position: (27, 37),
       },
       arguments: [
        Variable {
         identifier: "component",
         position: (27, 42),
        },
        Variable {
         identifier: "explicitComponents",
         position: (27, 52),
        },
       ],
      },
      position: (27, 26),
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "usedPlatforms",
        position: (37, 3),
       },
      ],
     },
     to: Function {
      argument: Simple {
       identifier: "config",
      },
      definition: IfThenElse {
       predicate: FunctionApplication {
        function: Variable {
         identifier: "isAttrs",
         position: (38, 8),
        },
        arguments: [
         Variable {
          identifier: "config",
          position: (38, 16),
         },
        ],
       },
       then: BinaryOperation {
        operator: Concatenation,
        operands: [
         FunctionApplication {
          function: Variable {
           identifier: "optional",
           position: (39, 7),
          },
          arguments: [
           Parentheses {
            expression: HasProperty {
             expression: Variable {
              identifier: "config",
              position: (39, 17),
             },
             attribute_path: AttributePath {
              parts: [
               Raw {
                content: "platform",
                position: (39, 26),
               },
              ],
             },
             position: (39, 24),
            },
            position: (39, 16),
           },
           PropertyAccess {
            expression: Variable {
             identifier: "config",
             position: (39, 36),
            },
            attribute_path: AttributePath {
             parts: [
              Raw {
               content: "platform",
               position: (39, 43),
              },
             ],
            },
            default: None,
           },
          ],
         },
         FunctionApplication {
          function: Variable {
           identifier: "concatMap",
           position: (40, 10),
          },
          arguments: [
           Variable {
            identifier: "usedPlatforms",
            position: (40, 20),
           },
           Parentheses {
            expression: FunctionApplication {
             function: Variable {
              identifier: "attrValues",
              position: (40, 35),
             },
             arguments: [
              Variable {
               identifier: "config",
               position: (40, 46),
              },
             ],
            },
            position: (40, 34),
           },
          ],
         },
        ],
        position: (40, 7),
       },
       else_: IfThenElse {
        predicate: FunctionApplication {
         function: Variable {
          identifier: "isList",
          position: (41, 13),
         },
         arguments: [
          Variable {
           identifier: "config",
           position: (41, 20),
          },
         ],
        },
        then: FunctionApplication {
         function: Variable {
          identifier: "concatMap",
          position: (42, 7),
         },
         arguments: [
          Variable {
           identifier: "usedPlatforms",
           position: (42, 17),
          },
          Variable {
           identifier: "config",
           position: (42, 31),
          },
         ],
        },
        else_: List {
         elements: [],
         position: (43, 10),
        },
        position: (41, 10),
       },
       position: (38, 5),
      },
      position: (37, 19),
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "useComponentPlatform",
        position: (45, 3),
       },
      ],
     },
     to: Function {
      argument: Simple {
       identifier: "component",
      },
      definition: FunctionApplication {
       function: Variable {
        identifier: "elem",
        position: (45, 37),
       },
       arguments: [
        Variable {
         identifier: "component",
         position: (45, 42),
        },
        Parentheses {
         expression: FunctionApplication {
          function: Variable {
           identifier: "usedPlatforms",
           position: (45, 53),
          },
          arguments: [
           PropertyAccess {
            expression: Variable {
             identifier: "cfg",
             position: (45, 67),
            },
            attribute_path: AttributePath {
             parts: [
              Raw {
               content: "config",
               position: (45, 71),
              },
             ],
            },
            default: None,
           },
          ],
         },
         position: (45, 52),
        },
       ],
      },
      position: (45, 26),
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "useComponent",
        position: (49, 3),
       },
      ],
     },
     to: Function {
      argument: Simple {
       identifier: "component",
      },
      definition: BinaryOperation {
       operator: LogicalOr,
       operands: [
        BinaryOperation {
         operator: LogicalOr,
         operands: [
          BinaryOperation {
           operator: LogicalOr,
           operands: [
            FunctionApplication {
             function: Variable {
              identifier: "hasAttrByPath",
              position: (50, 5),
             },
             arguments: [
              Parentheses {
               expression: FunctionApplication {
                function: Variable {
                 identifier: "splitString",
                 position: (50, 20),
                },
                arguments: [
                 String {
                  parts: [
                   Raw {
                    content: ".",
                    position: (50, 33),
                   },
                  ],
                  position: (50, 32),
                 },
                 Variable {
                  identifier: "component",
                  position: (50, 36),
                 },
                ],
               },
               position: (50, 19),
              },
              PropertyAccess {
               expression: Variable {
                identifier: "cfg",
                position: (50, 47),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "config",
                  position: (50, 51),
                 },
                ],
               },
               default: None,
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "useComponentPlatform",
              position: (51, 8),
             },
             arguments: [
              Variable {
               identifier: "component",
               position: (51, 29),
              },
             ],
            },
           ],
           position: (51, 5),
          },
          FunctionApplication {
           function: Variable {
            identifier: "useExplicitComponent",
            position: (52, 8),
           },
           arguments: [
            Variable {
             identifier: "component",
             position: (52, 29),
            },
           ],
          },
         ],
         position: (52, 5),
        },
        FunctionApplication {
         function: PropertyAccess {
          expression: Variable {
           identifier: "builtins",
           position: (53, 8),
          },
          attribute_path: AttributePath {
           parts: [
            Raw {
             content: "elem",
             position: (53, 17),
            },
           ],
          },
          default: None,
         },
         arguments: [
          Variable {
           identifier: "component",
           position: (53, 22),
          },
          PropertyAccess {
           expression: Variable {
            identifier: "cfg",
            position: (53, 32),
           },
           attribute_path: AttributePath {
            parts: [
             Raw {
              content: "extraComponents",
              position: (53, 36),
             },
            ],
           },
           default: None,
          },
         ],
        },
       ],
       position: (53, 5),
      },
      position: (49, 18),
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "extraComponents",
        position: (56, 3),
       },
      ],
     },
     to: FunctionApplication {
      function: Variable {
       identifier: "filter",
       position: (56, 21),
      },
      arguments: [
       Variable {
        identifier: "useComponent",
        position: (56, 28),
       },
       Variable {
        identifier: "availableComponents",
        position: (56, 41),
       },
      ],
     },
    },
    Binding {
     from: AttributePath {
      parts: [
       Raw {
        content: "package",
        position: (58, 3),
       },
      ],
     },
     to: Parentheses {
      expression: FunctionApplication {
       function: PropertyAccess {
        expression: Variable {
         identifier: "cfg",
         position: (58, 14),
        },
        attribute_path: AttributePath {
         parts: [
          Raw {
           content: "package",
           position: (58, 18),
          },
          Raw {
           content: "override",
           position: (58, 26),
          },
         ],
        },
        default: None,
       },
       arguments: [
        Parentheses {
         expression: Function {
          argument: Simple {
           identifier: "oldArgs",
          },
          definition: Map {
           bindings: [
            Binding {
             from: AttributePath {
              parts: [
               Raw {
                content: "extraComponents",
                position: (61, 5),
               },
              ],
             },
             to: BinaryOperation {
              operator: Concatenation,
              operands: [
               PropertyAccess {
                expression: Variable {
                 identifier: "oldArgs",
                 position: (61, 23),
                },
                attribute_path: AttributePath {
                 parts: [
                  Raw {
                   content: "extraComponents",
                   position: (61, 31),
                  },
                 ],
                },
                default: Some(
                 List {
                  elements: [],
                  position: (61, 50),
                 },
                ),
               },
               Variable {
                identifier: "extraComponents",
                position: (61, 56),
               },
              ],
              position: (61, 53),
             },
            },
            Binding {
             from: AttributePath {
              parts: [
               Raw {
                content: "extraPackages",
                position: (62, 5),
               },
              ],
             },
             to: Function {
              argument: Simple {
               identifier: "ps",
              },
              definition: BinaryOperation {
               operator: Concatenation,
               operands: [
                Parentheses {
                 expression: FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "oldArgs",
                    position: (62, 26),
                   },
                   attribute_path: AttributePath {
                    parts: [
                     Raw {
                      content: "extraPackages",
                      position: (62, 34),
                     },
                    ],
                   },
                   default: Some(
                    Parentheses {
                     expression: Function {
                      argument: Simple {
                       identifier: "_",
                      },
                      definition: List {
                       elements: [],
                       position: (62, 55),
                      },
                      position: (62, 52),
                     },
                     position: (62, 51),
                    },
                   ),
                  },
                  arguments: [
                   Variable {
                    identifier: "ps",
                    position: (62, 59),
                   },
                  ],
                 },
                 position: (62, 25),
                },
                Parentheses {
                 expression: FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (62, 67),
                   },
                   attribute_path: AttributePath {
                    parts: [
                     Raw {
                      content: "extraPackages",
                      position: (62, 71),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   Variable {
                    identifier: "ps",
                    position: (62, 85),
                   },
                  ],
                 },
                 position: (62, 66),
                },
               ],
               position: (62, 63),
              },
              position: (62, 21),
             },
            },
           ],
           recursive: false,
           position: (58, 45),
          },
          position: (58, 36),
         },
         position: (58, 35),
        },
       ],
      },
      position: (58, 13),
     },
    },
   ],
   target: Map {
    bindings: [
     Binding {
      from: AttributePath {
       parts: [
        Raw {
         content: "imports",
         position: (65, 3),
        },
       ],
      },
      to: List {
       elements: [
        Parentheses {
         expression: FunctionApplication {
          function: Variable {
           identifier: "mkRemovedOptionModule",
           position: (67, 6),
          },
          arguments: [
           List {
            elements: [
             String {
              parts: [
               Raw {
                content: "services",
                position: (67, 31),
               },
              ],
              position: (67, 30),
             },
             String {
              parts: [
               Raw {
                content: "home-assistant",
                position: (67, 42),
               },
              ],
              position: (67, 41),
             },
             String {
              parts: [
               Raw {
                content: "applyDefaultConfig",
                position: (67, 59),
               },
              ],
              position: (67, 58),
             },
            ],
            position: (67, 28),
           },
           String {
            parts: [
             Raw {
              content: "The default config was migrated into services.home-assistant.config",
              position: (67, 82),
             },
            ],
            position: (67, 81),
           },
          ],
         },
         position: (67, 5),
        },
        Parentheses {
         expression: FunctionApplication {
          function: Variable {
           identifier: "mkRemovedOptionModule",
           position: (68, 6),
          },
          arguments: [
           List {
            elements: [
             String {
              parts: [
               Raw {
                content: "services",
                position: (68, 31),
               },
              ],
              position: (68, 30),
             },
             String {
              parts: [
               Raw {
                content: "home-assistant",
                position: (68, 42),
               },
              ],
              position: (68, 41),
             },
             String {
              parts: [
               Raw {
                content: "autoExtraComponents",
                position: (68, 59),
               },
              ],
              position: (68, 58),
             },
            ],
            position: (68, 28),
           },
           String {
            parts: [
             Raw {
              content: "Components are now parsed from services.home-assistant.config unconditionally",
              position: (68, 83),
             },
            ],
            position: (68, 82),
           },
          ],
         },
         position: (68, 5),
        },
        Parentheses {
         expression: FunctionApplication {
          function: Variable {
           identifier: "mkRenamedOptionModule",
           position: (69, 6),
          },
          arguments: [
           List {
            elements: [
             String {
              parts: [
               Raw {
                content: "services",
                position: (69, 31),
               },
              ],
              position: (69, 30),
             },
             String {
              parts: [
               Raw {
                content: "home-assistant",
                position: (69, 42),
               },
              ],
              position: (69, 41),
             },
             String {
              parts: [
               Raw {
                content: "port",
                position: (69, 59),
               },
              ],
              position: (69, 58),
             },
            ],
            position: (69, 28),
           },
           List {
            elements: [
             String {
              parts: [
               Raw {
                content: "services",
                position: (69, 70),
               },
              ],
              position: (69, 69),
             },
             String {
              parts: [
               Raw {
                content: "home-assistant",
                position: (69, 81),
               },
              ],
              position: (69, 80),
             },
             String {
              parts: [
               Raw {
                content: "config",
                position: (69, 98),
               },
              ],
              position: (69, 97),
             },
             String {
              parts: [
               Raw {
                content: "http",
                position: (69, 107),
               },
              ],
              position: (69, 106),
             },
             String {
              parts: [
               Raw {
                content: "server_port",
                position: (69, 114),
               },
              ],
              position: (69, 113),
             },
            ],
            position: (69, 67),
           },
          ],
         },
         position: (69, 5),
        },
       ],
       position: (65, 13),
      },
     },
     Binding {
      from: AttributePath {
       parts: [
        Raw {
         content: "meta",
         position: (72, 3),
        },
       ],
      },
      to: Map {
       bindings: [
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "buildDocsInSandbox",
            position: (73, 5),
           },
          ],
         },
         to: Variable {
          identifier: "false",
          position: (73, 26),
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "maintainers",
            position: (74, 5),
           },
          ],
         },
         to: PropertyAccess {
          expression: Variable {
           identifier: "teams",
           position: (74, 19),
          },
          attribute_path: AttributePath {
           parts: [
            Raw {
             content: "home-assistant",
             position: (74, 25),
            },
            Raw {
             content: "members",
             position: (74, 40),
            },
           ],
          },
          default: None,
         },
        },
       ],
       recursive: false,
       position: (72, 10),
      },
     },
     Binding {
      from: AttributePath {
       parts: [
        Raw {
         content: "options",
         position: (77, 3),
        },
        Raw {
         content: "services",
         position: (77, 11),
        },
        Raw {
         content: "home-assistant",
         position: (77, 20),
        },
       ],
      },
      to: Map {
       bindings: [
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "enable",
            position: (80, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkEnableOption",
           position: (80, 14),
          },
          arguments: [
           String {
            parts: [
             Raw {
              content: "Home Assistant. Please note that this installation method is unsupported upstream",
              position: (80, 30),
             },
            ],
            position: (80, 29),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "configDir",
            position: (82, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (82, 17),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (83, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "/var/lib/hass",
                 position: (83, 18),
                },
               ],
               position: (83, 17),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (84, 7),
                },
               ],
              },
              to: PropertyAccess {
               expression: Variable {
                identifier: "types",
                position: (84, 14),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "path",
                  position: (84, 20),
                 },
                ],
               },
               default: None,
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (85, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "The config directory, where your <filename>configuration.yaml</filename> is located.",
                 position: (85, 22),
                },
               ],
               position: (85, 21),
              },
             },
            ],
            recursive: false,
            position: (82, 26),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "extraComponents",
            position: (88, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (88, 23),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (89, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: PropertyAccess {
                expression: Variable {
                 identifier: "types",
                 position: (89, 14),
                },
                attribute_path: AttributePath {
                 parts: [
                  Raw {
                   content: "listOf",
                   position: (89, 20),
                  },
                 ],
                },
                default: None,
               },
               arguments: [
                Parentheses {
                 expression: FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (89, 28),
                   },
                   attribute_path: AttributePath {
                    parts: [
                     Raw {
                      content: "enum",
                      position: (89, 34),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   Variable {
                    identifier: "availableComponents",
                    position: (89, 39),
                   },
                  ],
                 },
                 position: (89, 27),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (90, 7),
                },
               ],
              },
              to: BinaryOperation {
               operator: Concatenation,
               operands: [
                List {
                 elements: [
                  String {
                   parts: [
                    Raw {
                     content: "default_config",
                     position: (92, 10),
                    },
                   ],
                   position: (92, 9),
                  },
                  String {
                   parts: [
                    Raw {
                     content: "met",
                     position: (93, 10),
                    },
                   ],
                   position: (93, 9),
                  },
                  String {
                   parts: [
                    Raw {
                     content: "esphome",
                     position: (94, 10),
                    },
                   ],
                   position: (94, 9),
                  },
                 ],
                 position: (90, 17),
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "optionals",
                  position: (95, 12),
                 },
                 arguments: [
                  Parentheses {
                   expression: BinaryOperation {
                    operator: LogicalOr,
                    operands: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "pkgs",
                       position: (95, 23),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "stdenv",
                         position: (95, 28),
                        },
                        Raw {
                         content: "hostPlatform",
                         position: (95, 35),
                        },
                        Raw {
                         content: "isAarch32",
                         position: (95, 48),
                        },
                       ],
                      },
                      default: None,
                     },
                     PropertyAccess {
                      expression: Variable {
                       identifier: "pkgs",
                       position: (95, 61),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "stdenv",
                         position: (95, 66),
                        },
                        Raw {
                         content: "hostPlatform",
                         position: (95, 73),
                        },
                        Raw {
                         content: "isAarch64",
                         position: (95, 86),
                        },
                       ],
                      },
                      default: None,
                     },
                    ],
                    position: (95, 58),
                   },
                   position: (95, 22),
                  },
                  List {
                   elements: [
                    String {
                     parts: [
                      Raw {
                       content: "rpi_power",
                       position: (98, 10),
                      },
                     ],
                     position: (98, 9),
                    },
                   ],
                   position: (95, 97),
                  },
                 ],
                },
               ],
               position: (95, 9),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "example",
                 position: (100, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: Variable {
                identifier: "literalExpression",
                position: (100, 17),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "[\n  \"analytics\"\n  \"default_config\"\n  \"esphome\"\n  \"my\"\n  \"shopping_list\"\n  \"wled\"\n]\n",
                   position: (101, 1),
                  },
                 ],
                 position: (100, 35),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (110, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "List of <link xlink:href=\"https://www.home-assistant.io/integrations/\">components</link> that have their dependencies included in the package.\n\nThe component name can be found in the URL, for example <literal>https://www.home-assistant.io/integrations/ffmpeg/</literal> would map to <literal>ffmpeg</literal>.\n",
                 position: (111, 1),
                },
               ],
               position: (110, 21),
              },
             },
            ],
            recursive: false,
            position: (88, 32),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "extraPackages",
            position: (117, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (117, 21),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (118, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: PropertyAccess {
                expression: Variable {
                 identifier: "types",
                 position: (118, 14),
                },
                attribute_path: AttributePath {
                 parts: [
                  Raw {
                   content: "functionTo",
                   position: (118, 20),
                  },
                 ],
                },
                default: None,
               },
               arguments: [
                Parentheses {
                 expression: FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (118, 32),
                   },
                   attribute_path: AttributePath {
                    parts: [
                     Raw {
                      content: "listOf",
                      position: (118, 38),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   PropertyAccess {
                    expression: Variable {
                     identifier: "types",
                     position: (118, 45),
                    },
                    attribute_path: AttributePath {
                     parts: [
                      Raw {
                       content: "package",
                       position: (118, 51),
                      },
                     ],
                    },
                    default: None,
                   },
                  ],
                 },
                 position: (118, 31),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (119, 7),
                },
               ],
              },
              to: Function {
               argument: Simple {
                identifier: "_",
               },
               definition: List {
                elements: [],
                position: (119, 20),
               },
               position: (119, 17),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "defaultText",
                 position: (120, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: Variable {
                identifier: "literalExpression",
                position: (120, 21),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "python3Packages: with python3Packages; [];\n",
                   position: (121, 1),
                  },
                 ],
                 position: (120, 39),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "example",
                 position: (123, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: Variable {
                identifier: "literalExpression",
                position: (123, 17),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "python3Packages: with python3Packages; [\n  # postgresql support\n  psycopg2\n];\n",
                   position: (124, 1),
                  },
                 ],
                 position: (123, 35),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (129, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "List of packages to add to propagatedBuildInputs.\n\nA popular example is <package>python3Packages.psycopg2</package>\nfor PostgreSQL support in the recorder component.\n",
                 position: (130, 1),
                },
               ],
               position: (129, 21),
              },
             },
            ],
            recursive: false,
            position: (117, 30),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "config",
            position: (137, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (137, 14),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (138, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: PropertyAccess {
                expression: Variable {
                 identifier: "types",
                 position: (138, 14),
                },
                attribute_path: AttributePath {
                 parts: [
                  Raw {
                   content: "nullOr",
                   position: (138, 20),
                  },
                 ],
                },
                default: None,
               },
               arguments: [
                Parentheses {
                 expression: FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (138, 28),
                   },
                   attribute_path: AttributePath {
                    parts: [
                     Raw {
                      content: "submodule",
                      position: (138, 34),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   Map {
                    bindings: [
                     Binding {
                      from: AttributePath {
                       parts: [
                        Raw {
                         content: "freeformType",
                         position: (139, 9),
                        },
                       ],
                      },
                      to: PropertyAccess {
                       expression: Variable {
                        identifier: "format",
                        position: (139, 24),
                       },
                       attribute_path: AttributePath {
                        parts: [
                         Raw {
                          content: "type",
                          position: (139, 31),
                         },
                        ],
                       },
                       default: None,
                      },
                     },
                     Binding {
                      from: AttributePath {
                       parts: [
                        Raw {
                         content: "options",
                         position: (140, 9),
                        },
                       ],
                      },
                      to: Map {
                       bindings: [
                        Binding {
                         from: AttributePath {
                          parts: [
                           Raw {
                            content: "homeassistant",
                            position: (145, 11),
                           },
                          ],
                         },
                         to: Map {
                          bindings: [
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "name",
                               position: (147, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (147, 20),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (148, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (148, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "nullOr",
                                      position: (148, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   PropertyAccess {
                                    expression: Variable {
                                     identifier: "types",
                                     position: (148, 35),
                                    },
                                    attribute_path: AttributePath {
                                     parts: [
                                      Raw {
                                       content: "str",
                                       position: (148, 41),
                                      },
                                     ],
                                    },
                                    default: None,
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (149, 15),
                                   },
                                  ],
                                 },
                                 to: Variable {
                                  identifier: "null",
                                  position: (149, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (150, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Home",
                                    position: (150, 26),
                                   },
                                  ],
                                  position: (150, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (151, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Name of the location where Home Assistant is running.\n",
                                    position: (152, 1),
                                   },
                                  ],
                                  position: (151, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (147, 29),
                              },
                             ],
                            },
                           },
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "latitude",
                               position: (156, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (156, 24),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (157, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (157, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "nullOr",
                                      position: (157, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   Parentheses {
                                    expression: FunctionApplication {
                                     function: PropertyAccess {
                                      expression: Variable {
                                       identifier: "types",
                                       position: (157, 36),
                                      },
                                      attribute_path: AttributePath {
                                       parts: [
                                        Raw {
                                         content: "either",
                                         position: (157, 42),
                                        },
                                       ],
                                      },
                                      default: None,
                                     },
                                     arguments: [
                                      PropertyAccess {
                                       expression: Variable {
                                        identifier: "types",
                                        position: (157, 49),
                                       },
                                       attribute_path: AttributePath {
                                        parts: [
                                         Raw {
                                          content: "float",
                                          position: (157, 55),
                                         },
                                        ],
                                       },
                                       default: None,
                                      },
                                      PropertyAccess {
                                       expression: Variable {
                                        identifier: "types",
                                        position: (157, 61),
                                       },
                                       attribute_path: AttributePath {
                                        parts: [
                                         Raw {
                                          content: "str",
                                          position: (157, 67),
                                         },
                                        ],
                                       },
                                       default: None,
                                      },
                                     ],
                                    },
                                    position: (157, 35),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (158, 15),
                                   },
                                  ],
                                 },
                                 to: Variable {
                                  identifier: "null",
                                  position: (158, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (159, 15),
                                   },
                                  ],
                                 },
                                 to: Float {
                                  value: 52.3,
                                  position: (159, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (160, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Latitude of your location required to calculate the time the sun rises and sets.\n",
                                    position: (161, 1),
                                   },
                                  ],
                                  position: (160, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (156, 33),
                              },
                             ],
                            },
                           },
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "longitude",
                               position: (165, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (165, 25),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (166, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (166, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "nullOr",
                                      position: (166, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   Parentheses {
                                    expression: FunctionApplication {
                                     function: PropertyAccess {
                                      expression: Variable {
                                       identifier: "types",
                                       position: (166, 36),
                                      },
                                      attribute_path: AttributePath {
                                       parts: [
                                        Raw {
                                         content: "either",
                                         position: (166, 42),
                                        },
                                       ],
                                      },
                                      default: None,
                                     },
                                     arguments: [
                                      PropertyAccess {
                                       expression: Variable {
                                        identifier: "types",
                                        position: (166, 49),
                                       },
                                       attribute_path: AttributePath {
                                        parts: [
                                         Raw {
                                          content: "float",
                                          position: (166, 55),
                                         },
                                        ],
                                       },
                                       default: None,
                                      },
                                      PropertyAccess {
                                       expression: Variable {
                                        identifier: "types",
                                        position: (166, 61),
                                       },
                                       attribute_path: AttributePath {
                                        parts: [
                                         Raw {
                                          content: "str",
                                          position: (166, 67),
                                         },
                                        ],
                                       },
                                       default: None,
                                      },
                                     ],
                                    },
                                    position: (166, 35),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (167, 15),
                                   },
                                  ],
                                 },
                                 to: Variable {
                                  identifier: "null",
                                  position: (167, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (168, 15),
                                   },
                                  ],
                                 },
                                 to: Float {
                                  value: 4.9,
                                  position: (168, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (169, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Longitude of your location required to calculate the time the sun rises and sets.\n",
                                    position: (170, 1),
                                   },
                                  ],
                                  position: (169, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (165, 34),
                              },
                             ],
                            },
                           },
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "unit_system",
                               position: (174, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (174, 27),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (175, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (175, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "nullOr",
                                      position: (175, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   Parentheses {
                                    expression: FunctionApplication {
                                     function: PropertyAccess {
                                      expression: Variable {
                                       identifier: "types",
                                       position: (175, 36),
                                      },
                                      attribute_path: AttributePath {
                                       parts: [
                                        Raw {
                                         content: "enum",
                                         position: (175, 42),
                                        },
                                       ],
                                      },
                                      default: None,
                                     },
                                     arguments: [
                                      List {
                                       elements: [
                                        String {
                                         parts: [
                                          Raw {
                                           content: "metric",
                                           position: (175, 50),
                                          },
                                         ],
                                         position: (175, 49),
                                        },
                                        String {
                                         parts: [
                                          Raw {
                                           content: "imperial",
                                           position: (175, 59),
                                          },
                                         ],
                                         position: (175, 58),
                                        },
                                       ],
                                       position: (175, 47),
                                      },
                                     ],
                                    },
                                    position: (175, 35),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (176, 15),
                                   },
                                  ],
                                 },
                                 to: Variable {
                                  identifier: "null",
                                  position: (176, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (177, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "metric",
                                    position: (177, 26),
                                   },
                                  ],
                                  position: (177, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (178, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "The unit system to use. This also sets temperature_unit, Celsius for Metric and Fahrenheit for Imperial.\n",
                                    position: (179, 1),
                                   },
                                  ],
                                  position: (178, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (174, 36),
                              },
                             ],
                            },
                           },
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "temperature_unit",
                               position: (183, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (183, 32),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (184, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (184, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "nullOr",
                                      position: (184, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   Parentheses {
                                    expression: FunctionApplication {
                                     function: PropertyAccess {
                                      expression: Variable {
                                       identifier: "types",
                                       position: (184, 36),
                                      },
                                      attribute_path: AttributePath {
                                       parts: [
                                        Raw {
                                         content: "enum",
                                         position: (184, 42),
                                        },
                                       ],
                                      },
                                      default: None,
                                     },
                                     arguments: [
                                      List {
                                       elements: [
                                        String {
                                         parts: [
                                          Raw {
                                           content: "C",
                                           position: (184, 50),
                                          },
                                         ],
                                         position: (184, 49),
                                        },
                                        String {
                                         parts: [
                                          Raw {
                                           content: "F",
                                           position: (184, 54),
                                          },
                                         ],
                                         position: (184, 53),
                                        },
                                       ],
                                       position: (184, 47),
                                      },
                                     ],
                                    },
                                    position: (184, 35),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (185, 15),
                                   },
                                  ],
                                 },
                                 to: Variable {
                                  identifier: "null",
                                  position: (185, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (186, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "C",
                                    position: (186, 26),
                                   },
                                  ],
                                  position: (186, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (187, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Override temperature unit set by unit_system. <literal>C</literal> for Celsius, <literal>F</literal> for Fahrenheit.\n",
                                    position: (188, 1),
                                   },
                                  ],
                                  position: (187, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (183, 41),
                              },
                             ],
                            },
                           },
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "time_zone",
                               position: (192, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (192, 25),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (193, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (193, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "nullOr",
                                      position: (193, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   PropertyAccess {
                                    expression: Variable {
                                     identifier: "types",
                                     position: (193, 35),
                                    },
                                    attribute_path: AttributePath {
                                     parts: [
                                      Raw {
                                       content: "str",
                                       position: (193, 41),
                                      },
                                     ],
                                    },
                                    default: None,
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (194, 15),
                                   },
                                  ],
                                 },
                                 to: PropertyAccess {
                                  expression: Variable {
                                   identifier: "config",
                                   position: (194, 25),
                                  },
                                  attribute_path: AttributePath {
                                   parts: [
                                    Raw {
                                     content: "time",
                                     position: (194, 32),
                                    },
                                    Raw {
                                     content: "timeZone",
                                     position: (194, 37),
                                    },
                                   ],
                                  },
                                  default: Some(
                                   Variable {
                                    identifier: "null",
                                    position: (194, 49),
                                   },
                                  ),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "defaultText",
                                    position: (195, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: Variable {
                                   identifier: "literalExpression",
                                   position: (195, 29),
                                  },
                                  arguments: [
                                   String {
                                    parts: [
                                     Raw {
                                      content: "config.time.timeZone or null\n",
                                      position: (196, 1),
                                     },
                                    ],
                                    position: (195, 47),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (198, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Europe/Amsterdam",
                                    position: (198, 26),
                                   },
                                  ],
                                  position: (198, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (199, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Pick your time zone from the column TZ of Wikipedia’s <link xlink:href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\">list of tz database time zones</link>.\n",
                                    position: (200, 1),
                                   },
                                  ],
                                  position: (199, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (192, 34),
                              },
                             ],
                            },
                           },
                          ],
                          recursive: false,
                          position: (145, 27),
                         },
                        },
                        Binding {
                         from: AttributePath {
                          parts: [
                           Raw {
                            content: "http",
                            position: (205, 11),
                           },
                          ],
                         },
                         to: Map {
                          bindings: [
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "server_host",
                               position: (207, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (207, 27),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (208, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (208, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "either",
                                      position: (208, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   PropertyAccess {
                                    expression: Variable {
                                     identifier: "types",
                                     position: (208, 35),
                                    },
                                    attribute_path: AttributePath {
                                     parts: [
                                      Raw {
                                       content: "str",
                                       position: (208, 41),
                                      },
                                     ],
                                    },
                                    default: None,
                                   },
                                   Parentheses {
                                    expression: FunctionApplication {
                                     function: PropertyAccess {
                                      expression: Variable {
                                       identifier: "types",
                                       position: (208, 46),
                                      },
                                      attribute_path: AttributePath {
                                       parts: [
                                        Raw {
                                         content: "listOf",
                                         position: (208, 52),
                                        },
                                       ],
                                      },
                                      default: None,
                                     },
                                     arguments: [
                                      PropertyAccess {
                                       expression: Variable {
                                        identifier: "types",
                                        position: (208, 59),
                                       },
                                       attribute_path: AttributePath {
                                        parts: [
                                         Raw {
                                          content: "str",
                                          position: (208, 65),
                                         },
                                        ],
                                       },
                                       default: None,
                                      },
                                     ],
                                    },
                                    position: (208, 45),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (209, 15),
                                   },
                                  ],
                                 },
                                 to: List {
                                  elements: [
                                   String {
                                    parts: [
                                     Raw {
                                      content: "0.0.0.0",
                                      position: (210, 18),
                                     },
                                    ],
                                    position: (210, 17),
                                   },
                                   String {
                                    parts: [
                                     Raw {
                                      content: "::",
                                      position: (211, 18),
                                     },
                                    ],
                                    position: (211, 17),
                                   },
                                  ],
                                  position: (209, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (213, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "::1",
                                    position: (213, 26),
                                   },
                                  ],
                                  position: (213, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (214, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "Only listen to incoming requests on specific IP/host. The default listed assumes support for IPv4 and IPv6.\n",
                                    position: (215, 1),
                                   },
                                  ],
                                  position: (214, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (207, 36),
                              },
                             ],
                            },
                           },
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "server_port",
                               position: (219, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (219, 27),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (220, 15),
                                   },
                                  ],
                                 },
                                 to: Int {
                                  value: 8123,
                                  position: (220, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (221, 15),
                                   },
                                  ],
                                 },
                                 to: PropertyAccess {
                                  expression: Variable {
                                   identifier: "types",
                                   position: (221, 22),
                                  },
                                  attribute_path: AttributePath {
                                   parts: [
                                    Raw {
                                     content: "port",
                                     position: (221, 28),
                                    },
                                   ],
                                  },
                                  default: None,
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (222, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "The port on which to listen.\n",
                                    position: (223, 1),
                                   },
                                  ],
                                  position: (222, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (219, 36),
                              },
                             ],
                            },
                           },
                          ],
                          recursive: false,
                          position: (205, 18),
                         },
                        },
                        Binding {
                         from: AttributePath {
                          parts: [
                           Raw {
                            content: "lovelace",
                            position: (228, 11),
                           },
                          ],
                         },
                         to: Map {
                          bindings: [
                           Binding {
                            from: AttributePath {
                             parts: [
                              Raw {
                               content: "mode",
                               position: (230, 13),
                              },
                             ],
                            },
                            to: FunctionApplication {
                             function: Variable {
                              identifier: "mkOption",
                              position: (230, 20),
                             },
                             arguments: [
                              Map {
                               bindings: [
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "type",
                                    position: (231, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "types",
                                    position: (231, 22),
                                   },
                                   attribute_path: AttributePath {
                                    parts: [
                                     Raw {
                                      content: "enum",
                                      position: (231, 28),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   List {
                                    elements: [
                                     String {
                                      parts: [
                                       Raw {
                                        content: "yaml",
                                        position: (231, 36),
                                       },
                                      ],
                                      position: (231, 35),
                                     },
                                     String {
                                      parts: [
                                       Raw {
                                        content: "storage",
                                        position: (231, 43),
                                       },
                                      ],
                                      position: (231, 42),
                                     },
                                    ],
                                    position: (231, 33),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "default",
                                    position: (232, 15),
                                   },
                                  ],
                                 },
                                 to: IfThenElse {
                                  predicate: BinaryOperation {
                                   operator: NotEqualTo,
                                   operands: [
                                    PropertyAccess {
                                     expression: Variable {
                                      identifier: "cfg",
                                      position: (232, 28),
                                     },
                                     attribute_path: AttributePath {
                                      parts: [
                                       Raw {
                                        content: "lovelaceConfig",
                                        position: (232, 32),
                                       },
                                      ],
                                     },
                                     default: None,
                                    },
                                    Variable {
                                     identifier: "null",
                                     position: (232, 50),
                                    },
                                   ],
                                   position: (232, 47),
                                  },
                                  then: String {
                                   parts: [
                                    Raw {
                                     content: "yaml",
                                     position: (233, 23),
                                    },
                                   ],
                                   position: (233, 22),
                                  },
                                  else_: String {
                                   parts: [
                                    Raw {
                                     content: "storage",
                                     position: (234, 23),
                                    },
                                   ],
                                   position: (234, 22),
                                  },
                                  position: (232, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "defaultText",
                                    position: (235, 15),
                                   },
                                  ],
                                 },
                                 to: FunctionApplication {
                                  function: Variable {
                                   identifier: "literalExpression",
                                   position: (235, 29),
                                  },
                                  arguments: [
                                   String {
                                    parts: [
                                     Raw {
                                      content: "if cfg.lovelaceConfig != null\n  then \"yaml\"\nelse \"storage\";\n",
                                      position: (236, 1),
                                     },
                                    ],
                                    position: (235, 47),
                                   },
                                  ],
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "example",
                                    position: (240, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "yaml",
                                    position: (240, 26),
                                   },
                                  ],
                                  position: (240, 25),
                                 },
                                },
                                Binding {
                                 from: AttributePath {
                                  parts: [
                                   Raw {
                                    content: "description",
                                    position: (241, 15),
                                   },
                                  ],
                                 },
                                 to: String {
                                  parts: [
                                   Raw {
                                    content: "In what mode should the main Lovelace panel be, <literal>yaml</literal> or <literal>storage</literal> (UI managed).\n",
                                    position: (242, 1),
                                   },
                                  ],
                                  position: (241, 29),
                                 },
                                },
                               ],
                               recursive: false,
                               position: (230, 29),
                              },
                             ],
                            },
                           },
                          ],
                          recursive: false,
                          position: (228, 22),
                         },
                        },
                       ],
                       recursive: false,
                       position: (140, 19),
                      },
                     },
                    ],
                    recursive: false,
                    position: (138, 44),
                   },
                  ],
                 },
                 position: (138, 27),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "example",
                 position: (248, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: Variable {
                identifier: "literalExpression",
                position: (248, 17),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "{\n  homeassistant = {\n    name = \"Home\";\n    latitude = \"!secret latitude\";\n    longitude = \"!secret longitude\";\n    elevation = \"!secret elevation\";\n    unit_system = \"metric\";\n    time_zone = \"UTC\";\n  };\n  frontend = {\n    themes = \"!include_dir_merge_named themes\";\n  };\n  http = {};\n  feedreader.urls = [ \"https://nixos.org/blogs.xml\" ];\n}\n",
                   position: (249, 1),
                  },
                 ],
                 position: (248, 35),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (265, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "Your <filename>configuration.yaml</filename> as a Nix attribute set.\n\nYAML functions like <link xlink:href=\"https://www.home-assistant.io/docs/configuration/secrets/\">secrets</link>\ncan be passed as a string and will be unquoted automatically.\n\nUnless this option is explicitly set to <literal>null</literal>\nwe assume your <filename>configuration.yaml</filename> is\nmanaged through this module and thereby overwritten on startup.\n",
                 position: (266, 1),
                },
               ],
               position: (265, 21),
              },
             },
            ],
            recursive: false,
            position: (137, 23),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "configWritable",
            position: (277, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (277, 22),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (278, 7),
                },
               ],
              },
              to: Variable {
               identifier: "false",
               position: (278, 17),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (279, 7),
                },
               ],
              },
              to: PropertyAccess {
               expression: Variable {
                identifier: "types",
                position: (279, 14),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "bool",
                  position: (279, 20),
                 },
                ],
               },
               default: None,
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (280, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "Whether to make <filename>configuration.yaml</filename> writable.\n\nThis will allow you to edit it from Home Assistant's web interface.\n\nThis only has an effect if <option>config</option> is set.\nHowever, bear in mind that it will be overwritten at every start of the service.\n",
                 position: (281, 1),
                },
               ],
               position: (280, 21),
              },
             },
            ],
            recursive: false,
            position: (277, 31),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "lovelaceConfig",
            position: (290, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (290, 22),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (291, 7),
                },
               ],
              },
              to: Variable {
               identifier: "null",
               position: (291, 17),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (292, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: PropertyAccess {
                expression: Variable {
                 identifier: "types",
                 position: (292, 14),
                },
                attribute_path: AttributePath {
                 parts: [
                  Raw {
                   content: "nullOr",
                   position: (292, 20),
                  },
                 ],
                },
                default: None,
               },
               arguments: [
                PropertyAccess {
                 expression: Variable {
                  identifier: "format",
                  position: (292, 27),
                 },
                 attribute_path: AttributePath {
                  parts: [
                   Raw {
                    content: "type",
                    position: (292, 34),
                   },
                  ],
                 },
                 default: None,
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "example",
                 position: (294, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: Variable {
                identifier: "literalExpression",
                position: (294, 17),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "{\n  title = \"My Awesome Home\";\n  views = [ {\n    title = \"Example\";\n    cards = [ {\n      type = \"markdown\";\n      title = \"Lovelace\";\n      content = \"Welcome to your **Lovelace UI**.\";\n    } ];\n  } ];\n}\n",
                   position: (295, 1),
                  },
                 ],
                 position: (294, 35),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (307, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "Your <filename>ui-lovelace.yaml</filename> as a Nix attribute set.\nSetting this option will automatically set <literal>lovelace.mode</literal> to <literal>yaml</literal>.\n\nBeware that setting this option will delete your previous <filename>ui-lovelace.yaml</filename>\n",
                 position: (308, 1),
                },
               ],
               position: (307, 21),
              },
             },
            ],
            recursive: false,
            position: (290, 31),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "lovelaceConfigWritable",
            position: (315, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (315, 30),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (316, 7),
                },
               ],
              },
              to: Variable {
               identifier: "false",
               position: (316, 17),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (317, 7),
                },
               ],
              },
              to: PropertyAccess {
               expression: Variable {
                identifier: "types",
                position: (317, 14),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "bool",
                  position: (317, 20),
                 },
                ],
               },
               default: None,
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (318, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "Whether to make <filename>ui-lovelace.yaml</filename> writable.\n\nThis will allow you to edit it from Home Assistant's web interface.\n\nThis only has an effect if <option>lovelaceConfig</option> is set.\nHowever, bear in mind that it will be overwritten at every start of the service.\n",
                 position: (319, 1),
                },
               ],
               position: (318, 21),
              },
             },
            ],
            recursive: false,
            position: (315, 39),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "package",
            position: (328, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (328, 15),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (329, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: PropertyAccess {
                expression: Variable {
                 identifier: "pkgs",
                 position: (329, 17),
                },
                attribute_path: AttributePath {
                 parts: [
                  Raw {
                   content: "home-assistant",
                   position: (329, 22),
                  },
                  Raw {
                   content: "overrideAttrs",
                   position: (329, 37),
                  },
                 ],
                },
                default: None,
               },
               arguments: [
                Parentheses {
                 expression: Function {
                  argument: Simple {
                   identifier: "oldAttrs",
                  },
                  definition: Map {
                   bindings: [
                    Binding {
                     from: AttributePath {
                      parts: [
                       Raw {
                        content: "doInstallCheck",
                        position: (330, 9),
                       },
                      ],
                     },
                     to: Variable {
                      identifier: "false",
                      position: (330, 26),
                     },
                    },
                   ],
                   recursive: false,
                   position: (329, 62),
                  },
                  position: (329, 52),
                 },
                 position: (329, 51),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "defaultText",
                 position: (332, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: Variable {
                identifier: "literalExpression",
                position: (332, 21),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "pkgs.home-assistant.overrideAttrs (oldAttrs: {\n  doInstallCheck = false;\n})\n",
                   position: (333, 1),
                  },
                 ],
                 position: (332, 39),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (337, 7),
                },
               ],
              },
              to: PropertyAccess {
               expression: Variable {
                identifier: "types",
                position: (337, 14),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "package",
                  position: (337, 20),
                 },
                ],
               },
               default: None,
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "example",
                 position: (338, 7),
                },
               ],
              },
              to: FunctionApplication {
               function: Variable {
                identifier: "literalExpression",
                position: (338, 17),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "pkgs.home-assistant.override {\n  extraPackages = python3Packages: with python3Packages; [\n    psycopg2\n  ];\n  extraComponents = [\n    \"default_config\"\n    \"esphome\"\n    \"met\"\n  ];\n}\n",
                   position: (339, 1),
                  },
                 ],
                 position: (338, 35),
                },
               ],
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (350, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "The Home Assistant package to use.\n",
                 position: (351, 1),
                },
               ],
               position: (350, 21),
              },
             },
            ],
            recursive: false,
            position: (328, 24),
           },
          ],
         },
        },
        Binding {
         from: AttributePath {
          parts: [
           Raw {
            content: "openFirewall",
            position: (355, 5),
           },
          ],
         },
         to: FunctionApplication {
          function: Variable {
           identifier: "mkOption",
           position: (355, 20),
          },
          arguments: [
           Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "default",
                 position: (356, 7),
                },
               ],
              },
              to: Variable {
               identifier: "false",
               position: (356, 17),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "type",
                 position: (357, 7),
                },
               ],
              },
              to: PropertyAccess {
               expression: Variable {
                identifier: "types",
                position: (357, 14),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "bool",
                  position: (357, 20),
                 },
                ],
               },
               default: None,
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (358, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "Whether to open the firewall for the specified port.",
                 position: (358, 22),
                },
               ],
               position: (358, 21),
              },
             },
            ],
            recursive: false,
            position: (355, 29),
           },
          ],
         },
        },
       ],
       recursive: false,
       position: (77, 37),
      },
     },
     Binding {
      from: AttributePath {
       parts: [
        Raw {
         content: "config",
         position: (362, 3),
        },
       ],
      },
      to: FunctionApplication {
       function: Variable {
        identifier: "mkIf",
        position: (362, 12),
       },
       arguments: [
        PropertyAccess {
         expression: Variable {
          identifier: "cfg",
          position: (362, 17),
         },
         attribute_path: AttributePath {
          parts: [
           Raw {
            content: "enable",
            position: (362, 21),
           },
          ],
         },
         default: None,
        },
        Map {
         bindings: [
          Binding {
           from: AttributePath {
            parts: [
             Raw {
              content: "networking",
              position: (363, 5),
             },
             Raw {
              content: "firewall",
              position: (363, 16),
             },
             Raw {
              content: "allowedTCPPorts",
              position: (363, 25),
             },
            ],
           },
           to: FunctionApplication {
            function: Variable {
             identifier: "mkIf",
             position: (363, 43),
            },
            arguments: [
             PropertyAccess {
              expression: Variable {
               identifier: "cfg",
               position: (363, 48),
              },
              attribute_path: AttributePath {
               parts: [
                Raw {
                 content: "openFirewall",
                 position: (363, 52),
                },
               ],
              },
              default: None,
             },
             List {
              elements: [
               PropertyAccess {
                expression: Variable {
                 identifier: "cfg",
                 position: (363, 67),
                },
                attribute_path: AttributePath {
                 parts: [
                  Raw {
                   content: "port",
                   position: (363, 71),
                  },
                 ],
                },
                default: None,
               },
              ],
              position: (363, 65),
             },
            ],
           },
          },
          Binding {
           from: AttributePath {
            parts: [
             Raw {
              content: "systemd",
              position: (365, 5),
             },
             Raw {
              content: "services",
              position: (365, 13),
             },
             Raw {
              content: "home-assistant",
              position: (365, 22),
             },
            ],
           },
           to: Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (366, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "Home Assistant",
                 position: (366, 22),
                },
               ],
               position: (366, 21),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "after",
                 position: (367, 7),
                },
               ],
              },
              to: List {
               elements: [
                String {
                 parts: [
                  Raw {
                   content: "network-online.target",
                   position: (368, 10),
                  },
                 ],
                 position: (368, 9),
                },
                String {
                 parts: [
                  Raw {
                   content: "mysql.service",
                   position: (371, 10),
                  },
                 ],
                 position: (371, 9),
                },
                String {
                 parts: [
                  Raw {
                   content: "postgresql.service",
                   position: (372, 10),
                  },
                 ],
                 position: (372, 9),
                },
               ],
               position: (367, 15),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "preStart",
                 position: (374, 7),
                },
               ],
              },
              to: LetIn {
               bindings: [
                Binding {
                 from: AttributePath {
                  parts: [
                   Raw {
                    content: "copyConfig",
                    position: (375, 9),
                   },
                  ],
                 },
                 to: IfThenElse {
                  predicate: PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (375, 25),
                   },
                   attribute_path: AttributePath {
                    parts: [
                     Raw {
                      content: "configWritable",
                      position: (375, 29),
                     },
                    ],
                   },
                   default: None,
                  },
                  then: String {
                   parts: [
                    Raw {
                     content: "cp --no-preserve=mode ",
                     position: (376, 1),
                    },
                    Expression {
                     expression: Variable {
                      identifier: "configFile",
                      position: (376, 35),
                     },
                    },
                    Raw {
                     content: " \"",
                     position: (376, 46),
                    },
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (376, 50),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "configDir",
                         position: (376, 54),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "/configuration.yaml\"\n",
                     position: (376, 64),
                    },
                   ],
                   position: (375, 49),
                  },
                  else_: String {
                   parts: [
                    Raw {
                     content: "rm -f \"",
                     position: (378, 1),
                    },
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (378, 20),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "configDir",
                         position: (378, 24),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "/configuration.yaml\"\nln -s ",
                     position: (378, 34),
                    },
                    Expression {
                     expression: Variable {
                      identifier: "configFile",
                      position: (379, 19),
                     },
                    },
                    Raw {
                     content: " \"",
                     position: (379, 30),
                    },
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (379, 34),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "configDir",
                         position: (379, 38),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "/configuration.yaml\"\n",
                     position: (379, 48),
                    },
                   ],
                   position: (377, 17),
                  },
                  position: (375, 22),
                 },
                },
                Binding {
                 from: AttributePath {
                  parts: [
                   Raw {
                    content: "copyLovelaceConfig",
                    position: (381, 9),
                   },
                  ],
                 },
                 to: IfThenElse {
                  predicate: PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (381, 33),
                   },
                   attribute_path: AttributePath {
                    parts: [
                     Raw {
                      content: "lovelaceConfigWritable",
                      position: (381, 37),
                     },
                    ],
                   },
                   default: None,
                  },
                  then: String {
                   parts: [
                    Raw {
                     content: "cp --no-preserve=mode ",
                     position: (382, 1),
                    },
                    Expression {
                     expression: Variable {
                      identifier: "lovelaceConfigFile",
                      position: (382, 35),
                     },
                    },
                    Raw {
                     content: " \"",
                     position: (382, 54),
                    },
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (382, 58),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "configDir",
                         position: (382, 62),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "/ui-lovelace.yaml\"\n",
                     position: (382, 72),
                    },
                   ],
                   position: (381, 65),
                  },
                  else_: String {
                   parts: [
                    Raw {
                     content: "rm -f \"",
                     position: (384, 1),
                    },
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (384, 20),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "configDir",
                         position: (384, 24),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "/ui-lovelace.yaml\"\nln -s ",
                     position: (384, 34),
                    },
                    Expression {
                     expression: Variable {
                      identifier: "lovelaceConfigFile",
                      position: (385, 19),
                     },
                    },
                    Raw {
                     content: " \"",
                     position: (385, 38),
                    },
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (385, 42),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "configDir",
                         position: (385, 46),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "/ui-lovelace.yaml\"\n",
                     position: (385, 56),
                    },
                   ],
                   position: (383, 17),
                  },
                  position: (381, 30),
                 },
                },
               ],
               target: BinaryOperation {
                operator: Addition,
                operands: [
                 Parentheses {
                  expression: FunctionApplication {
                   function: Variable {
                    identifier: "optionalString",
                    position: (388, 10),
                   },
                   arguments: [
                    Parentheses {
                     expression: BinaryOperation {
                      operator: NotEqualTo,
                      operands: [
                       PropertyAccess {
                        expression: Variable {
                         identifier: "cfg",
                         position: (388, 26),
                        },
                        attribute_path: AttributePath {
                         parts: [
                          Raw {
                           content: "config",
                           position: (388, 30),
                          },
                         ],
                        },
                        default: None,
                       },
                       Variable {
                        identifier: "null",
                        position: (388, 40),
                       },
                      ],
                      position: (388, 37),
                     },
                     position: (388, 25),
                    },
                    Variable {
                     identifier: "copyConfig",
                     position: (388, 46),
                    },
                   ],
                  },
                  position: (388, 9),
                 },
                 Parentheses {
                  expression: FunctionApplication {
                   function: Variable {
                    identifier: "optionalString",
                    position: (389, 10),
                   },
                   arguments: [
                    Parentheses {
                     expression: BinaryOperation {
                      operator: NotEqualTo,
                      operands: [
                       PropertyAccess {
                        expression: Variable {
                         identifier: "cfg",
                         position: (389, 26),
                        },
                        attribute_path: AttributePath {
                         parts: [
                          Raw {
                           content: "lovelaceConfig",
                           position: (389, 30),
                          },
                         ],
                        },
                        default: None,
                       },
                       Variable {
                        identifier: "null",
                        position: (389, 48),
                       },
                      ],
                      position: (389, 45),
                     },
                     position: (389, 25),
                    },
                    Variable {
                     identifier: "copyLovelaceConfig",
                     position: (389, 54),
                    },
                   ],
                  },
                  position: (389, 9),
                 },
                ],
                position: (388, 58),
               },
               position: (374, 18),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "serviceConfig",
                 position: (391, 7),
                },
               ],
              },
              to: LetIn {
               bindings: [
                Binding {
                 from: AttributePath {
                  parts: [
                   Raw {
                    content: "capabilities",
                    position: (393, 9),
                   },
                  ],
                 },
                 to: BinaryOperation {
                  operator: Concatenation,
                  operands: [
                   List {
                    elements: [
                     String {
                      parts: [],
                      position: (396, 11),
                     },
                    ],
                    position: (393, 24),
                   },
                   Parentheses {
                    expression: FunctionApplication {
                     function: Variable {
                      identifier: "unique",
                      position: (397, 15),
                     },
                     arguments: [
                      Parentheses {
                       expression: BinaryOperation {
                        operator: Concatenation,
                        operands: [
                         FunctionApplication {
                          function: Variable {
                           identifier: "optionals",
                           position: (397, 23),
                          },
                          arguments: [
                           Parentheses {
                            expression: BinaryOperation {
                             operator: LogicalOr,
                             operands: [
                              FunctionApplication {
                               function: Variable {
                                identifier: "useComponent",
                                position: (397, 34),
                               },
                               arguments: [
                                String {
                                 parts: [
                                  Raw {
                                   content: "bluetooth_tracker",
                                   position: (397, 48),
                                  },
                                 ],
                                 position: (397, 47),
                                },
                               ],
                              },
                              FunctionApplication {
                               function: Variable {
                                identifier: "useComponent",
                                position: (397, 70),
                               },
                               arguments: [
                                String {
                                 parts: [
                                  Raw {
                                   content: "bluetooth_le_tracker",
                                   position: (397, 84),
                                  },
                                 ],
                                 position: (397, 83),
                                },
                               ],
                              },
                             ],
                             position: (397, 67),
                            },
                            position: (397, 33),
                           },
                           List {
                            elements: [
                             String {
                              parts: [
                               Raw {
                                content: "CAP_NET_ADMIN",
                                position: (400, 12),
                               },
                              ],
                              position: (400, 11),
                             },
                             String {
                              parts: [
                               Raw {
                                content: "CAP_NET_RAW",
                                position: (401, 12),
                               },
                              ],
                              position: (401, 11),
                             },
                            ],
                            position: (397, 107),
                           },
                          ],
                         },
                         BinaryOperation {
                          operator: Concatenation,
                          operands: [
                           FunctionApplication {
                            function: PropertyAccess {
                             expression: Variable {
                              identifier: "lib",
                              position: (402, 14),
                             },
                             attribute_path: AttributePath {
                              parts: [
                               Raw {
                                content: "optionals",
                                position: (402, 18),
                               },
                              ],
                             },
                             default: None,
                            },
                            arguments: [
                             Parentheses {
                              expression: FunctionApplication {
                               function: Variable {
                                identifier: "useComponent",
                                position: (402, 29),
                               },
                               arguments: [
                                String {
                                 parts: [
                                  Raw {
                                   content: "emulated_hue",
                                   position: (402, 43),
                                  },
                                 ],
                                 position: (402, 42),
                                },
                               ],
                              },
                              position: (402, 28),
                             },
                             List {
                              elements: [
                               String {
                                parts: [
                                 Raw {
                                  content: "CAP_NET_BIND_SERVICE",
                                  position: (405, 12),
                                 },
                                ],
                                position: (405, 11),
                               },
                              ],
                              position: (402, 58),
                             },
                            ],
                           },
                           FunctionApplication {
                            function: PropertyAccess {
                             expression: Variable {
                              identifier: "lib",
                              position: (406, 14),
                             },
                             attribute_path: AttributePath {
                              parts: [
                               Raw {
                                content: "optionals",
                                position: (406, 18),
                               },
                              ],
                             },
                             default: None,
                            },
                            arguments: [
                             Parentheses {
                              expression: FunctionApplication {
                               function: Variable {
                                identifier: "useComponent",
                                position: (406, 29),
                               },
                               arguments: [
                                String {
                                 parts: [
                                  Raw {
                                   content: "nmap_tracker",
                                   position: (406, 43),
                                  },
                                 ],
                                 position: (406, 42),
                                },
                               ],
                              },
                              position: (406, 28),
                             },
                             List {
                              elements: [
                               String {
                                parts: [
                                 Raw {
                                  content: "CAP_NET_ADMIN",
                                  position: (408, 12),
                                 },
                                ],
                                position: (408, 11),
                               },
                               String {
                                parts: [
                                 Raw {
                                  content: "CAP_NET_BIND_SERVICE",
                                  position: (409, 12),
                                 },
                                ],
                                position: (409, 11),
                               },
                               String {
                                parts: [
                                 Raw {
                                  content: "CAP_NET_RAW",
                                  position: (410, 12),
                                 },
                                ],
                                position: (410, 11),
                               },
                              ],
                              position: (406, 58),
                             },
                            ],
                           },
                          ],
                          position: (406, 11),
                         },
                        ],
                        position: (402, 11),
                       },
                       position: (397, 22),
                      },
                     ],
                    },
                    position: (397, 14),
                   },
                  ],
                  position: (397, 11),
                 },
                },
                Binding {
                 from: AttributePath {
                  parts: [
                   Raw {
                    content: "componentsUsingBluetooth",
                    position: (412, 9),
                   },
                  ],
                 },
                 to: List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "bluetooth_tracker",
                      position: (414, 12),
                     },
                    ],
                    position: (414, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "bluetooth_le_tracker",
                      position: (415, 12),
                     },
                    ],
                    position: (415, 11),
                   },
                  ],
                  position: (412, 36),
                 },
                },
                Binding {
                 from: AttributePath {
                  parts: [
                   Raw {
                    content: "componentsUsingPing",
                    position: (417, 9),
                   },
                  ],
                 },
                 to: List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "ping",
                      position: (419, 12),
                     },
                    ],
                    position: (419, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "wake_on_lan",
                      position: (420, 12),
                     },
                    ],
                    position: (420, 11),
                   },
                  ],
                  position: (417, 31),
                 },
                },
                Binding {
                 from: AttributePath {
                  parts: [
                   Raw {
                    content: "componentsUsingSerialDevices",
                    position: (422, 9),
                   },
                  ],
                 },
                 to: List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "acer_projector",
                      position: (430, 12),
                     },
                    ],
                    position: (430, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "alarmdecoder",
                      position: (431, 12),
                     },
                    ],
                    position: (431, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "arduino",
                      position: (432, 12),
                     },
                    ],
                    position: (432, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "blackbird",
                      position: (433, 12),
                     },
                    ],
                    position: (433, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "deconz",
                      position: (434, 12),
                     },
                    ],
                    position: (434, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "dsmr",
                      position: (435, 12),
                     },
                    ],
                    position: (435, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "edl21",
                      position: (436, 12),
                     },
                    ],
                    position: (436, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "elkm1",
                      position: (437, 12),
                     },
                    ],
                    position: (437, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "elv",
                      position: (438, 12),
                     },
                    ],
                    position: (438, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "enocean",
                      position: (439, 12),
                     },
                    ],
                    position: (439, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "firmata",
                      position: (440, 12),
                     },
                    ],
                    position: (440, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "flexit",
                      position: (441, 12),
                     },
                    ],
                    position: (441, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "gpsd",
                      position: (442, 12),
                     },
                    ],
                    position: (442, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "insteon",
                      position: (443, 12),
                     },
                    ],
                    position: (443, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "kwb",
                      position: (444, 12),
                     },
                    ],
                    position: (444, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "lacrosse",
                      position: (445, 12),
                     },
                    ],
                    position: (445, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "mhz19",
                      position: (446, 12),
                     },
                    ],
                    position: (446, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "modbus",
                      position: (447, 12),
                     },
                    ],
                    position: (447, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "modem_callerid",
                      position: (448, 12),
                     },
                    ],
                    position: (448, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "mysensors",
                      position: (449, 12),
                     },
                    ],
                    position: (449, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "nad",
                      position: (450, 12),
                     },
                    ],
                    position: (450, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "numato",
                      position: (451, 12),
                     },
                    ],
                    position: (451, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "rflink",
                      position: (452, 12),
                     },
                    ],
                    position: (452, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "rfxtrx",
                      position: (453, 12),
                     },
                    ],
                    position: (453, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "scsgate",
                      position: (454, 12),
                     },
                    ],
                    position: (454, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "serial",
                      position: (455, 12),
                     },
                    ],
                    position: (455, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "serial_pm",
                      position: (456, 12),
                     },
                    ],
                    position: (456, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "sms",
                      position: (457, 12),
                     },
                    ],
                    position: (457, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "upb",
                      position: (458, 12),
                     },
                    ],
                    position: (458, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "usb",
                      position: (459, 12),
                     },
                    ],
                    position: (459, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "velbus",
                      position: (460, 12),
                     },
                    ],
                    position: (460, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "w800rf32",
                      position: (461, 12),
                     },
                    ],
                    position: (461, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "xbee",
                      position: (462, 12),
                     },
                    ],
                    position: (462, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "zha",
                      position: (463, 12),
                     },
                    ],
                    position: (463, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "zwave",
                      position: (464, 12),
                     },
                    ],
                    position: (464, 11),
                   },
                   String {
                    parts: [
                     Raw {
                      content: "zwave_js",
                      position: (465, 12),
                     },
                    ],
                    position: (465, 11),
                   },
                  ],
                  position: (422, 40),
                 },
                },
               ],
               target: Map {
                bindings: [
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ExecStart",
                     position: (468, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Expression {
                     expression: Variable {
                      identifier: "package",
                      position: (468, 24),
                     },
                    },
                    Raw {
                     content: "/bin/hass --config '",
                     position: (468, 32),
                    },
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (468, 54),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "configDir",
                         position: (468, 58),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "'",
                     position: (468, 68),
                    },
                   ],
                   position: (468, 21),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ExecReload",
                     position: (469, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Expression {
                     expression: PropertyAccess {
                      expression: Variable {
                       identifier: "pkgs",
                       position: (469, 25),
                      },
                      attribute_path: AttributePath {
                       parts: [
                        Raw {
                         content: "coreutils",
                         position: (469, 30),
                        },
                       ],
                      },
                      default: None,
                     },
                    },
                    Raw {
                     content: "/bin/kill -HUP $MAINPID",
                     position: (469, 40),
                    },
                   ],
                   position: (469, 22),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "User",
                     position: (470, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "hass",
                     position: (470, 17),
                    },
                   ],
                   position: (470, 16),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "Group",
                     position: (471, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "hass",
                     position: (471, 18),
                    },
                   ],
                   position: (471, 17),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "Restart",
                     position: (472, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "on-failure",
                     position: (472, 20),
                    },
                   ],
                   position: (472, 19),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "RestartForceExitStatus",
                     position: (473, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "100",
                     position: (473, 35),
                    },
                   ],
                   position: (473, 34),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "SuccessExitStatus",
                     position: (474, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "100",
                     position: (474, 30),
                    },
                   ],
                   position: (474, 29),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "KillSignal",
                     position: (475, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "SIGINT",
                     position: (475, 23),
                    },
                   ],
                   position: (475, 22),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "AmbientCapabilities",
                     position: (478, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "capabilities",
                   position: (478, 31),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "CapabilityBoundingSet",
                     position: (479, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "capabilities",
                   position: (479, 33),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "DeviceAllow",
                     position: (480, 9),
                    },
                   ],
                  },
                  to: Parentheses {
                   expression: FunctionApplication {
                    function: Variable {
                     identifier: "optionals",
                     position: (480, 24),
                    },
                    arguments: [
                     Parentheses {
                      expression: FunctionApplication {
                       function: Variable {
                        identifier: "any",
                        position: (480, 35),
                       },
                       arguments: [
                        Variable {
                         identifier: "useComponent",
                         position: (480, 39),
                        },
                        Variable {
                         identifier: "componentsUsingSerialDevices",
                         position: (480, 52),
                        },
                       ],
                      },
                      position: (480, 34),
                     },
                     List {
                      elements: [
                       String {
                        parts: [
                         Raw {
                          content: "char-ttyACM rw",
                          position: (481, 12),
                         },
                        ],
                        position: (481, 11),
                       },
                       String {
                        parts: [
                         Raw {
                          content: "char-ttyAMA rw",
                          position: (482, 12),
                         },
                        ],
                        position: (482, 11),
                       },
                       String {
                        parts: [
                         Raw {
                          content: "char-ttyUSB rw",
                          position: (483, 12),
                         },
                        ],
                        position: (483, 11),
                       },
                      ],
                      position: (480, 82),
                     },
                    ],
                   },
                   position: (480, 23),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "DevicePolicy",
                     position: (485, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "closed",
                     position: (485, 25),
                    },
                   ],
                   position: (485, 24),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "LockPersonality",
                     position: (486, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (486, 27),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "MemoryDenyWriteExecute",
                     position: (487, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (487, 34),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "NoNewPrivileges",
                     position: (488, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (488, 27),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "PrivateTmp",
                     position: (489, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (489, 22),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "PrivateUsers",
                     position: (490, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "false",
                   position: (490, 24),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectClock",
                     position: (491, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (491, 24),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectControlGroups",
                     position: (492, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (492, 32),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectHome",
                     position: (493, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (493, 23),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectHostname",
                     position: (494, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (494, 27),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectKernelLogs",
                     position: (495, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (495, 29),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectKernelModules",
                     position: (496, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (496, 32),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectKernelTunables",
                     position: (497, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (497, 33),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectProc",
                     position: (498, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "invisible",
                     position: (498, 24),
                    },
                   ],
                   position: (498, 23),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProcSubset",
                     position: (499, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "all",
                     position: (499, 23),
                    },
                   ],
                   position: (499, 22),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ProtectSystem",
                     position: (500, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "strict",
                     position: (500, 26),
                    },
                   ],
                   position: (500, 25),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "RemoveIPC",
                     position: (501, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (501, 21),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "ReadWritePaths",
                     position: (502, 9),
                    },
                   ],
                  },
                  to: LetIn {
                   bindings: [
                    Binding {
                     from: AttributePath {
                      parts: [
                       Raw {
                        content: "cfgPath",
                        position: (504, 11),
                       },
                      ],
                     },
                     to: List {
                      elements: [
                       String {
                        parts: [
                         Raw {
                          content: "config",
                          position: (504, 24),
                         },
                        ],
                        position: (504, 23),
                       },
                       String {
                        parts: [
                         Raw {
                          content: "homeassistant",
                          position: (504, 33),
                         },
                        ],
                        position: (504, 32),
                       },
                       String {
                        parts: [
                         Raw {
                          content: "allowlist_external_dirs",
                          position: (504, 49),
                         },
                        ],
                        position: (504, 48),
                       },
                      ],
                      position: (504, 21),
                     },
                    },
                    Binding {
                     from: AttributePath {
                      parts: [
                       Raw {
                        content: "value",
                        position: (505, 11),
                       },
                      ],
                     },
                     to: FunctionApplication {
                      function: Variable {
                       identifier: "attrByPath",
                       position: (505, 19),
                      },
                      arguments: [
                       Variable {
                        identifier: "cfgPath",
                        position: (505, 30),
                       },
                       List {
                        elements: [],
                        position: (505, 38),
                       },
                       Variable {
                        identifier: "cfg",
                        position: (505, 41),
                       },
                      ],
                     },
                    },
                    Binding {
                     from: AttributePath {
                      parts: [
                       Raw {
                        content: "allowPaths",
                        position: (506, 11),
                       },
                      ],
                     },
                     to: IfThenElse {
                      predicate: FunctionApplication {
                       function: Variable {
                        identifier: "isList",
                        position: (506, 27),
                       },
                       arguments: [
                        Variable {
                         identifier: "value",
                         position: (506, 34),
                        },
                       ],
                      },
                      then: Variable {
                       identifier: "value",
                       position: (506, 45),
                      },
                      else_: FunctionApplication {
                       function: Variable {
                        identifier: "singleton",
                        position: (506, 56),
                       },
                       arguments: [
                        Variable {
                         identifier: "value",
                         position: (506, 66),
                        },
                       ],
                      },
                      position: (506, 24),
                     },
                    },
                   ],
                   target: BinaryOperation {
                    operator: Concatenation,
                    operands: [
                     List {
                      elements: [
                       String {
                        parts: [
                         Expression {
                          expression: PropertyAccess {
                           expression: Variable {
                            identifier: "cfg",
                            position: (507, 17),
                           },
                           attribute_path: AttributePath {
                            parts: [
                             Raw {
                              content: "configDir",
                              position: (507, 21),
                             },
                            ],
                           },
                           default: None,
                          },
                         },
                        ],
                        position: (507, 14),
                       },
                      ],
                      position: (507, 12),
                     },
                     Variable {
                      identifier: "allowPaths",
                      position: (507, 38),
                     },
                    ],
                    position: (507, 35),
                   },
                   position: (502, 26),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "RestrictAddressFamilies",
                     position: (508, 9),
                    },
                   ],
                  },
                  to: BinaryOperation {
                   operator: Concatenation,
                   operands: [
                    List {
                     elements: [
                      String {
                       parts: [
                        Raw {
                         content: "AF_INET",
                         position: (509, 12),
                        },
                       ],
                       position: (509, 11),
                      },
                      String {
                       parts: [
                        Raw {
                         content: "AF_INET6",
                         position: (510, 12),
                        },
                       ],
                       position: (510, 11),
                      },
                      String {
                       parts: [
                        Raw {
                         content: "AF_NETLINK",
                         position: (511, 12),
                        },
                       ],
                       position: (511, 11),
                      },
                      String {
                       parts: [
                        Raw {
                         content: "AF_UNIX",
                         position: (512, 12),
                        },
                       ],
                       position: (512, 11),
                      },
                     ],
                     position: (508, 35),
                    },
                    FunctionApplication {
                     function: Variable {
                      identifier: "optionals",
                      position: (513, 14),
                     },
                     arguments: [
                      Parentheses {
                       expression: FunctionApplication {
                        function: Variable {
                         identifier: "any",
                         position: (513, 25),
                        },
                        arguments: [
                         Variable {
                          identifier: "useComponent",
                          position: (513, 29),
                         },
                         Variable {
                          identifier: "componentsUsingBluetooth",
                          position: (513, 42),
                         },
                        ],
                       },
                       position: (513, 24),
                      },
                      List {
                       elements: [
                        String {
                         parts: [
                          Raw {
                           content: "AF_BLUETOOTH",
                           position: (514, 12),
                          },
                         ],
                         position: (514, 11),
                        },
                       ],
                       position: (513, 68),
                      },
                     ],
                    },
                   ],
                   position: (513, 11),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "RestrictNamespaces",
                     position: (516, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (516, 30),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "RestrictRealtime",
                     position: (517, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (517, 28),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "RestrictSUIDSGID",
                     position: (518, 9),
                    },
                   ],
                  },
                  to: Variable {
                   identifier: "true",
                   position: (518, 28),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "SupplementaryGroups",
                     position: (519, 9),
                    },
                   ],
                  },
                  to: FunctionApplication {
                   function: Variable {
                    identifier: "optionals",
                    position: (519, 31),
                   },
                   arguments: [
                    Parentheses {
                     expression: FunctionApplication {
                      function: Variable {
                       identifier: "any",
                       position: (519, 42),
                      },
                      arguments: [
                       Variable {
                        identifier: "useComponent",
                        position: (519, 46),
                       },
                       Variable {
                        identifier: "componentsUsingSerialDevices",
                        position: (519, 59),
                       },
                      ],
                     },
                     position: (519, 41),
                    },
                    List {
                     elements: [
                      String {
                       parts: [
                        Raw {
                         content: "dialout",
                         position: (520, 12),
                        },
                       ],
                       position: (520, 11),
                      },
                     ],
                     position: (519, 89),
                    },
                   ],
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "SystemCallArchitectures",
                     position: (522, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "native",
                     position: (522, 36),
                    },
                   ],
                   position: (522, 35),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "SystemCallFilter",
                     position: (523, 9),
                    },
                   ],
                  },
                  to: BinaryOperation {
                   operator: Concatenation,
                   operands: [
                    List {
                     elements: [
                      String {
                       parts: [
                        Raw {
                         content: "@system-service",
                         position: (524, 12),
                        },
                       ],
                       position: (524, 11),
                      },
                      String {
                       parts: [
                        Raw {
                         content: "~@privileged",
                         position: (525, 12),
                        },
                       ],
                       position: (525, 11),
                      },
                     ],
                     position: (523, 28),
                    },
                    FunctionApplication {
                     function: Variable {
                      identifier: "optionals",
                      position: (526, 14),
                     },
                     arguments: [
                      Parentheses {
                       expression: FunctionApplication {
                        function: Variable {
                         identifier: "any",
                         position: (526, 25),
                        },
                        arguments: [
                         Variable {
                          identifier: "useComponent",
                          position: (526, 29),
                         },
                         Variable {
                          identifier: "componentsUsingPing",
                          position: (526, 42),
                         },
                        ],
                       },
                       position: (526, 24),
                      },
                      List {
                       elements: [
                        String {
                         parts: [
                          Raw {
                           content: "capset",
                           position: (527, 12),
                          },
                         ],
                         position: (527, 11),
                        },
                       ],
                       position: (526, 63),
                      },
                     ],
                    },
                   ],
                   position: (526, 11),
                  },
                 },
                 Binding {
                  from: AttributePath {
                   parts: [
                    Raw {
                     content: "UMask",
                     position: (529, 9),
                    },
                   ],
                  },
                  to: String {
                   parts: [
                    Raw {
                     content: "0077",
                     position: (529, 18),
                    },
                   ],
                   position: (529, 17),
                  },
                 },
                ],
                recursive: false,
                position: (467, 10),
               },
               position: (391, 23),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "path",
                 position: (531, 7),
                },
               ],
              },
              to: List {
               elements: [
                String {
                 parts: [
                  Raw {
                   content: "/run/wrappers",
                   position: (532, 10),
                  },
                 ],
                 position: (532, 9),
                },
               ],
               position: (531, 14),
              },
             },
            ],
            recursive: false,
            position: (365, 39),
           },
          },
          Binding {
           from: AttributePath {
            parts: [
             Raw {
              content: "systemd",
              position: (536, 5),
             },
             Raw {
              content: "targets",
              position: (536, 13),
             },
             Raw {
              content: "home-assistant",
              position: (536, 21),
             },
            ],
           },
           to: Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "description",
                 position: (537, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "Home Assistant",
                 position: (537, 22),
                },
               ],
               position: (537, 21),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "wantedBy",
                 position: (538, 7),
                },
               ],
              },
              to: List {
               elements: [
                String {
                 parts: [
                  Raw {
                   content: "multi-user.target",
                   position: (538, 21),
                  },
                 ],
                 position: (538, 20),
                },
               ],
               position: (538, 18),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "wants",
                 position: (539, 7),
                },
               ],
              },
              to: List {
               elements: [
                String {
                 parts: [
                  Raw {
                   content: "home-assistant.service",
                   position: (539, 18),
                  },
                 ],
                 position: (539, 17),
                },
               ],
               position: (539, 15),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "after",
                 position: (540, 7),
                },
               ],
              },
              to: Variable {
               identifier: "wants",
               position: (540, 15),
              },
             },
            ],
            recursive: true,
            position: (536, 38),
           },
          },
          Binding {
           from: AttributePath {
            parts: [
             Raw {
              content: "users",
              position: (543, 5),
             },
             Raw {
              content: "users",
              position: (543, 11),
             },
             Raw {
              content: "hass",
              position: (543, 17),
             },
            ],
           },
           to: Map {
            bindings: [
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "home",
                 position: (544, 7),
                },
               ],
              },
              to: PropertyAccess {
               expression: Variable {
                identifier: "cfg",
                position: (544, 14),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "configDir",
                  position: (544, 18),
                 },
                ],
               },
               default: None,
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "createHome",
                 position: (545, 7),
                },
               ],
              },
              to: Variable {
               identifier: "true",
               position: (545, 20),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "group",
                 position: (546, 7),
                },
               ],
              },
              to: String {
               parts: [
                Raw {
                 content: "hass",
                 position: (546, 16),
                },
               ],
               position: (546, 15),
              },
             },
             Binding {
              from: AttributePath {
               parts: [
                Raw {
                 content: "uid",
                 position: (547, 7),
                },
               ],
              },
              to: PropertyAccess {
               expression: Variable {
                identifier: "config",
                position: (547, 13),
               },
               attribute_path: AttributePath {
                parts: [
                 Raw {
                  content: "ids",
                  position: (547, 20),
                 },
                 Raw {
                  content: "uids",
                  position: (547, 24),
                 },
                 Raw {
                  content: "hass",
                  position: (547, 29),
                 },
                ],
               },
               default: None,
              },
             },
            ],
            recursive: false,
            position: (543, 24),
           },
          },
          Binding {
           from: AttributePath {
            parts: [
             Raw {
              content: "users",
              position: (550, 5),
             },
             Raw {
              content: "groups",
              position: (550, 11),
             },
             Raw {
              content: "hass",
              position: (550, 18),
             },
             Raw {
              content: "gid",
              position: (550, 23),
             },
            ],
           },
           to: PropertyAccess {
            expression: Variable {
             identifier: "config",
             position: (550, 29),
            },
            attribute_path: AttributePath {
             parts: [
              Raw {
               content: "ids",
               position: (550, 36),
              },
              Raw {
               content: "gids",
               position: (550, 40),
              },
              Raw {
               content: "hass",
               position: (550, 45),
              },
             ],
            },
            default: None,
           },
          },
         ],
         recursive: false,
         position: (362, 28),
        },
       ],
      },
     },
    ],
    recursive: false,
    position: (64, 4),
   },
   position: (5, 1),
  },
  position: (3, 1),
 },
 position: (1, 1),
}