---
Function {
 argument: None,
 arguments: FunctionArguments {
  arguments: [
   FunctionArgument {
    identifier: "pkgs",
    default: None,
   },
   FunctionArgument {
    identifier: "lib",
    default: None,
   },
   FunctionArgument {
    identifier: "config",
    default: None,
   },
  ],
  ellipsis: true,
 },
 definition: With {
  expression: Variable {
   identifier: "lib",
   position: (3, 6),
  },
  target: LetIn {
   bindings: [
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "cfg",
        position: (6, 3),
       },
      ],
     },
     PropertyAccess {
      expression: Variable {
       identifier: "config",
       position: (6, 9),
      },
      attribute_path: AttributePath {
       attributes: [
        Raw {
         content: "services",
         position: (6, 16),
        },
        Raw {
         content: "nitter",
         position: (6, 25),
        },
       ],
      },
      default: None,
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "configFile",
        position: (7, 3),
       },
      ],
     },
     FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (7, 16),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "writeText",
          position: (7, 21),
         },
        ],
       },
       default: None,
      },
      arguments: [
       String {
        parts: [
         Raw {
          content: "nitter.conf",
          position: (7, 32),
         },
        ],
       },
       String {
        parts: [
         Raw {
          content: "",
          position: (8, 1),
         },
         Expression {
          expression: FunctionApplication {
           function: PropertyAccess {
            expression: Variable {
             identifier: "generators",
             position: (8, 7),
            },
            attribute_path: AttributePath {
             attributes: [
              Raw {
               content: "toINI",
               position: (8, 18),
              },
             ],
            },
            default: None,
           },
           arguments: [
            Map {
             bindings: [
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "mkKeyValue",
                  position: (10, 7),
                 },
                ],
               },
               FunctionApplication {
                function: PropertyAccess {
                 expression: Variable {
                  identifier: "generators",
                  position: (10, 20),
                 },
                 attribute_path: AttributePath {
                  attributes: [
                   Raw {
                    content: "mkKeyValueDefault",
                    position: (10, 31),
                   },
                  ],
                 },
                 default: None,
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "mkValueString",
                       position: (11, 9),
                      },
                     ],
                    },
                    Function {
                     argument: Some(
                      "v",
                     ),
                     arguments: FunctionArguments {
                      arguments: [],
                      ellipsis: false,
                     },
                     definition: IfThenElse {
                      predicate: FunctionApplication {
                       function: Variable {
                        identifier: "isString",
                        position: (12, 14),
                       },
                       arguments: [
                        Variable {
                         identifier: "v",
                         position: (12, 23),
                        },
                       ],
                      },
                      then: BinaryOperation {
                       operator: Addition,
                       operands: [
                        BinaryOperation {
                         operator: Addition,
                         operands: [
                          String {
                           parts: [
                            Raw {
                             content: "\"",
                             position: (12, 31),
                            },
                           ],
                          },
                          FunctionApplication {
                           function: PropertyAccess {
                            expression: Variable {
                             identifier: "strings",
                             position: (12, 38),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "escape",
                               position: (12, 46),
                              },
                             ],
                            },
                            default: None,
                           },
                           arguments: [
                            List {
                             elements: [
                              String {
                               parts: [
                                Raw {
                                 content: "\"",
                                 position: (12, 55),
                                },
                               ],
                              },
                             ],
                             position: (12, 53),
                            },
                            FunctionApplication {
                             function: Variable {
                              identifier: "toString",
                              position: (12, 61),
                             },
                             arguments: [
                              Variable {
                               identifier: "v",
                               position: (12, 70),
                              },
                             ],
                            },
                           ],
                          },
                         ],
                         position: (12, 35),
                        },
                        String {
                         parts: [
                          Raw {
                           content: "\"",
                           position: (12, 77),
                          },
                         ],
                        },
                       ],
                       position: (12, 74),
                      },
                      else_: FunctionApplication {
                       function: PropertyAccess {
                        expression: Variable {
                         identifier: "generators",
                         position: (13, 16),
                        },
                        attribute_path: AttributePath {
                         attributes: [
                          Raw {
                           content: "mkValueStringDefault",
                           position: (13, 27),
                          },
                         ],
                        },
                        default: None,
                       },
                       arguments: [
                        Map {
                         bindings: [],
                         recursive: false,
                         position: (13, 48),
                        },
                        Variable {
                         identifier: "v",
                         position: (13, 51),
                        },
                       ],
                      },
                      position: (12, 11),
                     },
                     position: (11, 25),
                    },
                   ),
                  ],
                  recursive: false,
                  position: (10, 49),
                 },
                 String {
                  parts: [
                   Raw {
                    content: " = ",
                    position: (14, 10),
                   },
                  ],
                 },
                ],
               },
              ),
             ],
             recursive: false,
             position: (8, 24),
            },
            FunctionApplication {
             function: PropertyAccess {
              expression: Variable {
               identifier: "lib",
               position: (15, 8),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "recursiveUpdate",
                 position: (15, 12),
                },
               ],
              },
              default: None,
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "Server",
                    position: (16, 7),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "cfg",
                   position: (16, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "server",
                     position: (16, 20),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "Cache",
                    position: (17, 7),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "cfg",
                   position: (17, 15),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "cache",
                     position: (17, 19),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "Config",
                    position: (18, 7),
                   },
                  ],
                 },
                 BinaryOperation {
                  operator: Update,
                  operands: [
                   PropertyAccess {
                    expression: Variable {
                     identifier: "cfg",
                     position: (18, 16),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "config",
                       position: (18, 20),
                      },
                     ],
                    },
                    default: None,
                   },
                   Map {
                    bindings: [
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "hmacKey",
                         position: (18, 32),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "@hmac@",
                         position: (18, 43),
                        },
                       ],
                      },
                     ),
                    ],
                    recursive: false,
                    position: (18, 30),
                   },
                  ],
                  position: (18, 27),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "Preferences",
                    position: (19, 7),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "cfg",
                   position: (19, 21),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "preferences",
                     position: (19, 25),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
               ],
               recursive: false,
               position: (15, 28),
              },
              PropertyAccess {
               expression: Variable {
                identifier: "cfg",
                position: (20, 7),
               },
               attribute_path: AttributePath {
                attributes: [
                 Raw {
                  content: "settings",
                  position: (20, 11),
                 },
                ],
               },
               default: None,
              },
             ],
            },
           ],
          },
         },
         Raw {
          content: "\n",
          position: (20, 21),
         },
        ],
       },
      ],
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "preStart",
        position: (26, 3),
       },
      ],
     },
     FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (26, 14),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "writers",
          position: (26, 19),
         },
         Raw {
          content: "writePython3",
          position: (26, 27),
         },
        ],
       },
       default: None,
      },
      arguments: [
       String {
        parts: [
         Raw {
          content: "nitter-prestart",
          position: (26, 41),
         },
        ],
       },
       Map {
        bindings: [],
        recursive: false,
        position: (26, 58),
       },
       String {
        parts: [
         Raw {
          content: "import os\nimport secrets\n\nstate_dir = os.environ.get(\"STATE_DIRECTORY\")\nif not os.path.isfile(f\"{state_dir}/hmac\"):\n    # Generate hmac on first launch\n    hmac = secrets.token_hex(32)\n    with open(f\"{state_dir}/hmac\", \"w\") as f:\n        f.write(hmac)\nelse:\n    # Load previously generated hmac\n    with open(f\"{state_dir}/hmac\", \"r\") as f:\n        hmac = f.read()\n\nconfigFile = \"",
          position: (27, 1),
         },
         Expression {
          expression: Variable {
           identifier: "configFile",
           position: (41, 21),
          },
         },
         Raw {
          content: "\"\nwith open(configFile, \"r\") as f_in:\n    with open(f\"{state_dir}/nitter.conf\", \"w\") as f_out:\n        f_out.write(f_in.read().replace(\"@hmac@\", hmac))\n",
          position: (41, 32),
         },
        ],
       },
      ],
     },
    ),
   ],
   target: Map {
    bindings: [
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "options",
         position: (48, 3),
        },
       ],
      },
      Map {
       bindings: [
        KeyValue(
         AttributePath {
          attributes: [
           Raw {
            content: "services",
            position: (49, 5),
           },
           Raw {
            content: "nitter",
            position: (49, 14),
           },
          ],
         },
         Map {
          bindings: [
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "enable",
               position: (50, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkEnableOption",
              position: (50, 16),
             },
             arguments: [
              String {
               parts: [
                Raw {
                 content: "If enabled, start Nitter.",
                 position: (50, 32),
                },
               ],
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "package",
               position: (52, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (52, 17),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (53, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "pkgs",
                   position: (53, 19),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "nitter",
                     position: (53, 24),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (54, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (54, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "package",
                     position: (54, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "defaultText",
                    position: (55, 9),
                   },
                  ],
                 },
                 FunctionApplication {
                  function: Variable {
                   identifier: "literalExpression",
                   position: (55, 23),
                  },
                  arguments: [
                   String {
                    parts: [
                     Raw {
                      content: "pkgs.nitter",
                      position: (55, 42),
                     },
                    ],
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (56, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "The nitter derivation to use.",
                    position: (56, 24),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (52, 26),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "server",
               position: (59, 7),
              },
             ],
            },
            Map {
             bindings: [
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "address",
                  position: (60, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (60, 19),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (61, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (61, 19),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (61, 25),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (62, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "0.0.0.0",
                       position: (62, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "example",
                       position: (63, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "127.0.0.1",
                       position: (63, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (64, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "The address to listen on.",
                       position: (64, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (60, 28),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "port",
                  position: (67, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (67, 16),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (68, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (68, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "port",
                        position: (68, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (69, 11),
                      },
                     ],
                    },
                    Int {
                     value: 8080,
                     position: (69, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "example",
                       position: (70, 11),
                      },
                     ],
                    },
                    Int {
                     value: 8000,
                     position: (70, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (71, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "The port to listen on.",
                       position: (71, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (67, 25),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "https",
                  position: (74, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (74, 17),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (75, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (75, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (75, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (76, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (76, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (77, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Set secure attribute on cookies. Keep it disabled to enable cookies when not using HTTPS.",
                       position: (77, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (74, 26),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "httpMaxConnections",
                  position: (80, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (80, 30),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (81, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (81, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "int",
                        position: (81, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (82, 11),
                      },
                     ],
                    },
                    Int {
                     value: 100,
                     position: (82, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (83, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Maximum number of HTTP connections.",
                       position: (83, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (80, 39),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "staticDir",
                  position: (86, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (86, 21),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (87, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (87, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "path",
                        position: (87, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (88, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Expression {
                       expression: PropertyAccess {
                        expression: Variable {
                         identifier: "cfg",
                         position: (88, 24),
                        },
                        attribute_path: AttributePath {
                         attributes: [
                          Raw {
                           content: "package",
                           position: (88, 28),
                          },
                         ],
                        },
                        default: None,
                       },
                      },
                      Raw {
                       content: "/share/nitter/public",
                       position: (88, 36),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "defaultText",
                       position: (89, 11),
                      },
                     ],
                    },
                    FunctionApplication {
                     function: Variable {
                      identifier: "literalExpression",
                      position: (89, 25),
                     },
                     arguments: [
                      String {
                       parts: [
                        Raw {
                         content: "\"",
                         position: (89, 45),
                        },
                        Raw {
                         content: "$",
                         position: (89, 46),
                        },
                        Raw {
                         content: "{config.services.nitter.package}/share/nitter/public\"",
                         position: (89, 49),
                        },
                       ],
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (90, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Path to the static files directory.",
                       position: (90, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (86, 30),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "title",
                  position: (93, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (93, 17),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (94, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (94, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (94, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (95, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "nitter",
                       position: (95, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (96, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Title of the instance.",
                       position: (96, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (93, 26),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "hostname",
                  position: (99, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (99, 20),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (100, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (100, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (100, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (101, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "localhost",
                       position: (101, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "example",
                       position: (102, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "nitter.net",
                       position: (102, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (103, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Hostname of the instance.",
                       position: (103, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (99, 29),
                 },
                ],
               },
              ),
             ],
             recursive: false,
             position: (59, 16),
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "cache",
               position: (107, 7),
              },
             ],
            },
            Map {
             bindings: [
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "listMinutes",
                  position: (108, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (108, 23),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (109, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (109, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "int",
                        position: (109, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (110, 11),
                      },
                     ],
                    },
                    Int {
                     value: 240,
                     position: (110, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (111, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "How long to cache list info (not the tweets, so keep it high).",
                       position: (111, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (108, 32),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "rssMinutes",
                  position: (114, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (114, 22),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (115, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (115, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "int",
                        position: (115, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (116, 11),
                      },
                     ],
                    },
                    Int {
                     value: 10,
                     position: (116, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (117, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "How long to cache RSS queries.",
                       position: (117, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (114, 31),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "redisHost",
                  position: (120, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (120, 21),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (121, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (121, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (121, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (122, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "localhost",
                       position: (122, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (123, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Redis host.",
                       position: (123, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (120, 30),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "redisPort",
                  position: (126, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (126, 21),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (127, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (127, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "port",
                        position: (127, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (128, 11),
                      },
                     ],
                    },
                    Int {
                     value: 6379,
                     position: (128, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (129, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Redis port.",
                       position: (129, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (126, 30),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "redisConnections",
                  position: (132, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (132, 28),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (133, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (133, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "int",
                        position: (133, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (134, 11),
                      },
                     ],
                    },
                    Int {
                     value: 20,
                     position: (134, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (135, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Redis connection pool size.",
                       position: (135, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (132, 37),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "redisMaxConnections",
                  position: (138, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (138, 31),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (139, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (139, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "int",
                        position: (139, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (140, 11),
                      },
                     ],
                    },
                    Int {
                     value: 30,
                     position: (140, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (141, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Maximum number of connections to Redis.\n\nNew connections are opened when none are available, but if the\npool size goes above this, they are closed when released, do not\nworry about this unless you receive tons of requests per second.\n",
                       position: (142, 1),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (138, 40),
                 },
                ],
               },
              ),
             ],
             recursive: false,
             position: (107, 15),
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "config",
               position: (151, 7),
              },
             ],
            },
            Map {
             bindings: [
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "base64Media",
                  position: (152, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (152, 23),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (153, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (153, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (153, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (154, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (154, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (155, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Use base64 encoding for proxied media URLs.",
                       position: (155, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (152, 32),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "tokenCount",
                  position: (158, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (158, 22),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (159, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (159, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "int",
                        position: (159, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (160, 11),
                      },
                     ],
                    },
                    Int {
                     value: 10,
                     position: (160, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (161, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Minimum amount of usable tokens.\n\nTokens are used to authorize API requests, but they expire after\n~1 hour, and have a limit of 187 requests. The limit gets reset\nevery 15 minutes, and the pool is filled up so there is always at\nleast tokenCount usable tokens. Only increase this if you receive\nmajor bursts all the time.\n",
                       position: (162, 1),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (158, 31),
                 },
                ],
               },
              ),
             ],
             recursive: false,
             position: (151, 16),
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "preferences",
               position: (173, 7),
              },
             ],
            },
            Map {
             bindings: [
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "replaceTwitter",
                  position: (174, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (174, 26),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (175, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (175, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (175, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (176, 11),
                      },
                     ],
                    },
                    String {
                     parts: [],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "example",
                       position: (177, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "nitter.net",
                       position: (177, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (178, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Replace Twitter links with links to this instance (blank to disable).",
                       position: (178, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (174, 35),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "replaceYouTube",
                  position: (181, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (181, 26),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (182, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (182, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (182, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (183, 11),
                      },
                     ],
                    },
                    String {
                     parts: [],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "example",
                       position: (184, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "piped.kavin.rocks",
                       position: (184, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (185, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Replace YouTube links with links to this instance (blank to disable).",
                       position: (185, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (181, 35),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "replaceInstagram",
                  position: (188, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (188, 28),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (189, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (189, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (189, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (190, 11),
                      },
                     ],
                    },
                    String {
                     parts: [],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (191, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Replace Instagram links with links to this instance (blank to disable).",
                       position: (191, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (188, 37),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "mp4Playback",
                  position: (194, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (194, 23),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (195, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (195, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (195, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (196, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "true",
                     position: (196, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (197, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Enable MP4 video playback.",
                       position: (197, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (194, 32),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "hlsPlayback",
                  position: (200, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (200, 23),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (201, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (201, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (201, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (202, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (202, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (203, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Enable HLS video streaming (requires JavaScript).",
                       position: (203, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (200, 32),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "proxyVideos",
                  position: (206, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (206, 23),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (207, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (207, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (207, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (208, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "true",
                     position: (208, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (209, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Proxy video streaming through the server (might be slow).",
                       position: (209, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (206, 32),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "muteVideos",
                  position: (212, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (212, 22),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (213, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (213, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (213, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (214, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (214, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (215, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Mute videos by default.",
                       position: (215, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (212, 31),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "autoplayGifs",
                  position: (218, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (218, 24),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (219, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (219, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (219, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (220, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "true",
                     position: (220, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (221, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Autoplay GIFs.",
                       position: (221, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (218, 33),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "theme",
                  position: (224, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (224, 17),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (225, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (225, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (225, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (226, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Nitter",
                       position: (226, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (227, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Instance theme.",
                       position: (227, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (224, 26),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "infiniteScroll",
                  position: (230, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (230, 26),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (231, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (231, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (231, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (232, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (232, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (233, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Infinite scrolling (requires JavaScript, experimental!).",
                       position: (233, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (230, 35),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "stickyProfile",
                  position: (236, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (236, 25),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (237, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (237, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (237, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (238, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "true",
                     position: (238, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (239, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Make profile sidebar stick to top.",
                       position: (239, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (236, 34),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "bidiSupport",
                  position: (242, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (242, 23),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (243, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (243, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (243, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (244, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (244, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (245, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Support bidirectional text (makes clicking on tweets harder).",
                       position: (245, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (242, 32),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "hideTweetStats",
                  position: (248, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (248, 26),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (249, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (249, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (249, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (250, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (250, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (251, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Hide tweet stats (replies, retweets, likes).",
                       position: (251, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (248, 35),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "hideBanner",
                  position: (254, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (254, 22),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (255, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (255, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (255, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (256, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (256, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (257, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Hide profile banner.",
                       position: (257, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (254, 31),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "hidePins",
                  position: (260, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (260, 20),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (261, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (261, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (261, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (262, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (262, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (263, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Hide pinned tweets.",
                       position: (263, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (260, 29),
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "hideReplies",
                  position: (266, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (266, 23),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (267, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (267, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "bool",
                        position: (267, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (268, 11),
                      },
                     ],
                    },
                    Variable {
                     identifier: "false",
                     position: (268, 21),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (269, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Hide tweet replies.",
                       position: (269, 26),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (266, 32),
                 },
                ],
               },
              ),
             ],
             recursive: false,
             position: (173, 21),
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "settings",
               position: (273, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (273, 18),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (274, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (274, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "attrs",
                     position: (274, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (275, 9),
                   },
                  ],
                 },
                 Map {
                  bindings: [],
                  recursive: false,
                  position: (275, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (276, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Add settings here to override NixOS module generated settings.\n\nCheck the official repository for the available settings:\nhttps://github.com/zedeus/nitter/blob/master/nitter.conf\n",
                    position: (277, 1),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (273, 27),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "redisCreateLocally",
               position: (284, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (284, 28),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (285, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (285, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "bool",
                     position: (285, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (286, 9),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (286, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (287, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Configure local Redis server for Nitter.",
                    position: (287, 24),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (284, 37),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "openFirewall",
               position: (290, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (290, 22),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (291, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (291, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "bool",
                     position: (291, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (292, 9),
                   },
                  ],
                 },
                 Variable {
                  identifier: "false",
                  position: (292, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (293, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Open ports in the firewall for Nitter web interface.",
                    position: (293, 24),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (290, 31),
              },
             ],
            },
           ),
          ],
          recursive: false,
          position: (49, 23),
         },
        ),
       ],
       recursive: false,
       position: (48, 13),
      },
     ),
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "config",
         position: (298, 3),
        },
       ],
      },
      FunctionApplication {
       function: Variable {
        identifier: "mkIf",
        position: (298, 12),
       },
       arguments: [
        PropertyAccess {
         expression: Variable {
          identifier: "cfg",
          position: (298, 17),
         },
         attribute_path: AttributePath {
          attributes: [
           Raw {
            content: "enable",
            position: (298, 21),
           },
          ],
         },
         default: None,
        },
        Map {
         bindings: [
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "assertions",
              position: (299, 5),
             },
            ],
           },
           List {
            elements: [
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "assertion",
                   position: (301, 9),
                  },
                 ],
                },
                BinaryOperation {
                 operator: LogicalOr,
                 operands: [
                  UnaryOperation {
                   operator: Not,
                   operand: PropertyAccess {
                    expression: Variable {
                     identifier: "cfg",
                     position: (301, 22),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "redisCreateLocally",
                       position: (301, 26),
                      },
                     ],
                    },
                    default: None,
                   },
                   position: (301, 21),
                  },
                  BinaryOperation {
                   operator: LogicalAnd,
                   operands: [
                    BinaryOperation {
                     operator: EqualTo,
                     operands: [
                      PropertyAccess {
                       expression: Variable {
                        identifier: "cfg",
                        position: (301, 49),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "cache",
                          position: (301, 53),
                         },
                         Raw {
                          content: "redisHost",
                          position: (301, 59),
                         },
                        ],
                       },
                       default: None,
                      },
                      String {
                       parts: [
                        Raw {
                         content: "localhost",
                         position: (301, 73),
                        },
                       ],
                      },
                     ],
                     position: (301, 69),
                    },
                    BinaryOperation {
                     operator: EqualTo,
                     operands: [
                      PropertyAccess {
                       expression: Variable {
                        identifier: "cfg",
                        position: (301, 87),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "cache",
                          position: (301, 91),
                         },
                         Raw {
                          content: "redisPort",
                          position: (301, 97),
                         },
                        ],
                       },
                       default: None,
                      },
                      Int {
                       value: 6379,
                       position: (301, 110),
                      },
                     ],
                     position: (301, 107),
                    },
                   ],
                   position: (301, 84),
                  },
                 ],
                 position: (301, 45),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "message",
                   position: (302, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "When services.nitter.redisCreateLocally is enabled, you need to use localhost:6379 as a cache server.",
                   position: (302, 20),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (300, 7),
             },
            ],
            position: (299, 18),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "systemd",
              position: (306, 5),
             },
             Raw {
              content: "services",
              position: (306, 13),
             },
             Raw {
              content: "nitter",
              position: (306, 22),
             },
            ],
           },
           Map {
            bindings: [
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "description",
                 position: (307, 9),
                },
               ],
              },
              String {
               parts: [
                Raw {
                 content: "Nitter (An alternative Twitter front-end)",
                 position: (307, 24),
                },
               ],
              },
             ),
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "wantedBy",
                 position: (308, 9),
                },
               ],
              },
              List {
               elements: [
                String {
                 parts: [
                  Raw {
                   content: "multi-user.target",
                   position: (308, 23),
                  },
                 ],
                },
               ],
               position: (308, 20),
              },
             ),
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "after",
                 position: (309, 9),
                },
               ],
              },
              List {
               elements: [
                String {
                 parts: [
                  Raw {
                   content: "network.target",
                   position: (309, 20),
                  },
                 ],
                },
               ],
               position: (309, 17),
              },
             ),
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "serviceConfig",
                 position: (310, 9),
                },
               ],
              },
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "DynamicUser",
                    position: (311, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (311, 25),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "StateDirectory",
                    position: (312, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "nitter",
                    position: (312, 29),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "Environment",
                    position: (313, 11),
                   },
                  ],
                 },
                 List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "NITTER_CONF_FILE=/var/lib/nitter/nitter.conf",
                      position: (313, 28),
                     },
                    ],
                   },
                  ],
                  position: (313, 25),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "WorkingDirectory",
                    position: (316, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Expression {
                    expression: PropertyAccess {
                     expression: Variable {
                      identifier: "cfg",
                      position: (316, 33),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "package",
                        position: (316, 37),
                       },
                      ],
                     },
                     default: None,
                    },
                   },
                   Raw {
                    content: "/share/nitter",
                    position: (316, 45),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ExecStart",
                    position: (317, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Expression {
                    expression: PropertyAccess {
                     expression: Variable {
                      identifier: "cfg",
                      position: (317, 26),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "package",
                        position: (317, 30),
                       },
                      ],
                     },
                     default: None,
                    },
                   },
                   Raw {
                    content: "/bin/nitter",
                    position: (317, 38),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ExecStartPre",
                    position: (318, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Expression {
                    expression: Variable {
                     identifier: "preStart",
                     position: (318, 29),
                    },
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "AmbientCapabilities",
                    position: (319, 11),
                   },
                  ],
                 },
                 FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "lib",
                    position: (319, 33),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "mkIf",
                      position: (319, 37),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   BinaryOperation {
                    operator: LessThan,
                    operands: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (319, 43),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "server",
                         position: (319, 47),
                        },
                        Raw {
                         content: "port",
                         position: (319, 54),
                        },
                       ],
                      },
                      default: None,
                     },
                     Int {
                      value: 1024,
                      position: (319, 61),
                     },
                    ],
                    position: (319, 59),
                   },
                   List {
                    elements: [
                     String {
                      parts: [
                       Raw {
                        content: "CAP_NET_BIND_SERVICE",
                        position: (319, 70),
                       },
                      ],
                     },
                    ],
                    position: (319, 67),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "Restart",
                    position: (320, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "on-failure",
                    position: (320, 22),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "RestartSec",
                    position: (321, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "5s",
                    position: (321, 25),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "CapabilityBoundingSet",
                    position: (323, 11),
                   },
                  ],
                 },
                 IfThenElse {
                  predicate: BinaryOperation {
                   operator: LessThan,
                   operands: [
                    PropertyAccess {
                     expression: Variable {
                      identifier: "cfg",
                      position: (323, 39),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "server",
                        position: (323, 43),
                       },
                       Raw {
                        content: "port",
                        position: (323, 50),
                       },
                      ],
                     },
                     default: None,
                    },
                    Int {
                     value: 1024,
                     position: (323, 57),
                    },
                   ],
                   position: (323, 55),
                  },
                  then: List {
                   elements: [
                    String {
                     parts: [
                      Raw {
                       content: "CAP_NET_BIND_SERVICE",
                       position: (323, 71),
                      },
                     ],
                    },
                   ],
                   position: (323, 68),
                  },
                  else_: List {
                   elements: [
                    String {
                     parts: [],
                    },
                   ],
                   position: (323, 100),
                  },
                  position: (323, 35),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "DeviceAllow",
                    position: (324, 11),
                   },
                  ],
                 },
                 List {
                  elements: [
                   String {
                    parts: [],
                   },
                  ],
                  position: (324, 25),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "LockPersonality",
                    position: (325, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (325, 29),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "MemoryDenyWriteExecute",
                    position: (326, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (326, 36),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "PrivateDevices",
                    position: (327, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (327, 28),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "PrivateUsers",
                    position: (330, 11),
                   },
                  ],
                 },
                 BinaryOperation {
                  operator: GreaterThanOrEqualTo,
                  operands: [
                   PropertyAccess {
                    expression: Variable {
                     identifier: "cfg",
                     position: (330, 27),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "server",
                       position: (330, 31),
                      },
                      Raw {
                       content: "port",
                       position: (330, 38),
                      },
                     ],
                    },
                    default: None,
                   },
                   Int {
                    value: 1024,
                    position: (330, 46),
                   },
                  ],
                  position: (330, 43),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProcSubset",
                    position: (331, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "pid",
                    position: (331, 25),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectClock",
                    position: (332, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (332, 26),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectControlGroups",
                    position: (333, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (333, 34),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectHome",
                    position: (334, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (334, 25),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectHostname",
                    position: (335, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (335, 29),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectKernelLogs",
                    position: (336, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (336, 31),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectKernelModules",
                    position: (337, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (337, 34),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectKernelTunables",
                    position: (338, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (338, 35),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "ProtectProc",
                    position: (339, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "invisible",
                    position: (339, 26),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "RestrictAddressFamilies",
                    position: (340, 11),
                   },
                  ],
                 },
                 List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "AF_INET",
                      position: (340, 40),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "AF_INET6",
                      position: (340, 50),
                     },
                    ],
                   },
                  ],
                  position: (340, 37),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "RestrictNamespaces",
                    position: (341, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (341, 32),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "RestrictRealtime",
                    position: (342, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (342, 30),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "RestrictSUIDSGID",
                    position: (343, 11),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (343, 30),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "SystemCallArchitectures",
                    position: (344, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "native",
                    position: (344, 38),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "SystemCallFilter",
                    position: (345, 11),
                   },
                  ],
                 },
                 List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "@system-service",
                      position: (345, 33),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "~@privileged",
                      position: (345, 51),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "~@resources",
                      position: (345, 66),
                     },
                    ],
                   },
                  ],
                  position: (345, 30),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "UMask",
                    position: (346, 11),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "0077",
                    position: (346, 20),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (310, 25),
              },
             ),
            ],
            recursive: false,
            position: (306, 31),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "services",
              position: (350, 5),
             },
             Raw {
              content: "redis",
              position: (350, 14),
             },
            ],
           },
           FunctionApplication {
            function: PropertyAccess {
             expression: Variable {
              identifier: "lib",
              position: (350, 22),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "mkIf",
                position: (350, 26),
               },
              ],
             },
             default: None,
            },
            arguments: [
             PropertyAccess {
              expression: Variable {
               identifier: "cfg",
               position: (350, 32),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "redisCreateLocally",
                 position: (350, 36),
                },
               ],
              },
              default: None,
             },
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "enable",
                   position: (351, 7),
                  },
                 ],
                },
                Variable {
                 identifier: "true",
                 position: (351, 16),
                },
               ),
              ],
              recursive: false,
              position: (350, 56),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "networking",
              position: (354, 5),
             },
             Raw {
              content: "firewall",
              position: (354, 16),
             },
            ],
           },
           FunctionApplication {
            function: Variable {
             identifier: "mkIf",
             position: (354, 27),
            },
            arguments: [
             PropertyAccess {
              expression: Variable {
               identifier: "cfg",
               position: (354, 32),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "openFirewall",
                 position: (354, 36),
                },
               ],
              },
              default: None,
             },
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "allowedTCPPorts",
                   position: (355, 7),
                  },
                 ],
                },
                List {
                 elements: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (355, 27),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "server",
                      position: (355, 31),
                     },
                     Raw {
                      content: "port",
                      position: (355, 38),
                     },
                    ],
                   },
                   default: None,
                  },
                 ],
                 position: (355, 25),
                },
               ),
              ],
              recursive: false,
              position: (354, 49),
             },
            ],
           },
          ),
         ],
         recursive: false,
         position: (298, 28),
        },
       ],
      },
     ),
    ],
    recursive: false,
    position: (47, 1),
   },
   position: (5, 1),
  },
  position: (3, 1),
 },
 position: (1, 1),
}