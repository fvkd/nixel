{ "{" (1, 1)
ID "appimageTools" (1, 3)
, "," (1, 16)
ID "fetchurl" (1, 18)
, "," (1, 26)
ID "lib" (1, 28)
, "," (1, 31)
ID "gsettings-desktop-schemas" (1, 33)
, "," (1, 58)
ID "gtk3" (1, 60)
} "}" (1, 65)
: ":" (1, 66)
LET "let" (3, 1)
ID "pname" (4, 3)
= "=" (4, 9)
" "\"" (4, 11)
STR "marktext" (4, 12)
" "\"" (4, 20)
; ";" (4, 21)
ID "version" (5, 3)
= "=" (5, 11)
" "\"" (5, 13)
STR "v0.17.1" (5, 14)
" "\"" (5, 21)
; ";" (5, 22)
ID "name" (6, 3)
= "=" (6, 8)
" "\"" (6, 10)
DOLLAR_CURLY "${" (6, 11)
ID "pname" (6, 13)
} "}" (6, 18)
STR "-" (6, 19)
DOLLAR_CURLY "${" (6, 20)
ID "version" (6, 22)
} "}" (6, 29)
STR "-binary" (6, 30)
" "\"" (6, 37)
; ";" (6, 38)
ID "src" (8, 3)
= "=" (8, 7)
ID "fetchurl" (8, 9)
{ "{" (8, 18)
ID "url" (9, 5)
= "=" (9, 9)
" "\"" (9, 11)
STR "https://github.com/marktext/marktext/releases/download/" (9, 12)
DOLLAR_CURLY "${" (9, 67)
ID "version" (9, 69)
} "}" (9, 76)
STR "/marktext-x86_64.AppImage" (9, 77)
" "\"" (9, 102)
; ";" (9, 103)
ID "sha256" (10, 5)
= "=" (10, 12)
" "\"" (10, 14)
STR "2e2555113e37df830ba3958efcccce7020907b12fd4162368cfd906aeda630b7" (10, 15)
" "\"" (10, 79)
; ";" (10, 80)
} "}" (11, 3)
; ";" (11, 4)
ID "appimageContents" (13, 3)
= "=" (13, 20)
ID "appimageTools" (13, 22)
. "." (13, 35)
ID "extractType2" (13, 36)
{ "{" (13, 49)
INHERIT "inherit" (14, 5)
ID "name" (14, 13)
ID "src" (14, 18)
; ";" (14, 21)
} "}" (15, 3)
; ";" (15, 4)
IN "in" (16, 1)
ID "appimageTools" (17, 1)
. "." (17, 14)
ID "wrapType2" (17, 15)
REC "rec" (17, 25)
{ "{" (17, 29)
INHERIT "inherit" (18, 3)
ID "name" (18, 11)
ID "src" (18, 16)
; ";" (18, 19)
ID "profile" (20, 3)
= "=" (20, 11)
IND_STRING_OPEN "''\n" (20, 13)
IND_STR "    export LC_ALL=C.UTF-8\n  " (21, 1)
IND_STRING_CLOSE "''" (22, 3)
+ "+" (26, 3)
IND_STRING_OPEN "''\n" (26, 5)
IND_STR "    export XDG_DATA_DIRS=" (27, 1)
DOLLAR_CURLY "${" (27, 26)
ID "gsettings-desktop-schemas" (27, 28)
} "}" (27, 53)
IND_STR "/share/gsettings-schemas/" (27, 54)
DOLLAR_CURLY "${" (27, 79)
ID "gsettings-desktop-schemas" (27, 81)
. "." (27, 106)
ID "name" (27, 107)
} "}" (27, 111)
IND_STR ":" (27, 112)
DOLLAR_CURLY "${" (27, 113)
ID "gtk3" (27, 115)
} "}" (27, 119)
IND_STR "/share/gsettings-schemas/" (27, 120)
DOLLAR_CURLY "${" (27, 145)
ID "gtk3" (27, 147)
. "." (27, 151)
ID "name" (27, 152)
} "}" (27, 156)
IND_STR ":$XDG_DATA_DIRS\n  " (27, 157)
IND_STRING_CLOSE "''" (28, 3)
; ";" (28, 5)
ID "multiPkgs" (30, 3)
= "=" (30, 13)
ID "null" (30, 15)
; ";" (30, 19)
ID "extraPkgs" (31, 3)
= "=" (31, 13)
ID "p" (31, 15)
: ":" (31, 16)
( "(" (31, 18)
ID "appimageTools" (31, 19)
. "." (31, 32)
ID "defaultFhsEnvArgs" (31, 33)
. "." (31, 50)
ID "multiPkgs" (31, 51)
ID "p" (31, 61)
) ")" (31, 62)
CONCAT "++" (31, 64)
[ "[" (31, 67)
ID "p" (32, 5)
. "." (32, 6)
ID "libsecret" (32, 7)
ID "p" (33, 5)
. "." (33, 6)
ID "xorg" (33, 7)
. "." (33, 11)
ID "libxkbfile" (33, 12)
] "]" (34, 3)
; ";" (34, 4)
ID "extraInstallCommands" (36, 3)
= "=" (36, 24)
IND_STRING_OPEN "''\n" (36, 26)
IND_STR "    # Strip version from binary name.\n    mv $out/bin/" (37, 1)
DOLLAR_CURLY "${" (38, 17)
ID "name" (38, 19)
} "}" (38, 23)
IND_STR " $out/bin/" (38, 24)
DOLLAR_CURLY "${" (38, 34)
ID "pname" (38, 36)
} "}" (38, 41)
IND_STR "\n\n    install -m 444 -D " (38, 42)
DOLLAR_CURLY "${" (40, 23)
ID "appimageContents" (40, 25)
} "}" (40, 41)
IND_STR "/marktext.desktop $out/share/applications/marktext.desktop\n    substituteInPlace $out/share/applications/marktext.desktop \\\n      --replace \"Exec=AppRun\" \"Exec=" (40, 42)
DOLLAR_CURLY "${" (42, 37)
ID "pname" (42, 39)
} "}" (42, 44)
IND_STR " --\"\n\n    cp -r " (42, 45)
DOLLAR_CURLY "${" (44, 11)
ID "appimageContents" (44, 13)
} "}" (44, 29)
IND_STR "/usr/share/icons $out/share\n  " (44, 30)
IND_STRING_CLOSE "''" (45, 3)
; ";" (45, 5)
ID "meta" (47, 3)
= "=" (47, 8)
WITH "with" (47, 10)
ID "lib" (47, 15)
; ";" (47, 18)
{ "{" (47, 20)
ID "description" (48, 5)
= "=" (48, 17)
" "\"" (48, 19)
STR "A simple and elegant markdown editor, available for Linux, macOS and Windows" (48, 20)
" "\"" (48, 96)
; ";" (48, 97)
ID "homepage" (49, 5)
= "=" (49, 14)
" "\"" (49, 16)
STR "https://marktext.app" (49, 17)
" "\"" (49, 37)
; ";" (49, 38)
ID "license" (50, 5)
= "=" (50, 13)
ID "licenses" (50, 15)
. "." (50, 23)
ID "mit" (50, 24)
; ";" (50, 27)
ID "maintainers" (51, 5)
= "=" (51, 17)
WITH "with" (51, 19)
ID "maintainers" (51, 24)
; ";" (51, 35)
[ "[" (51, 37)
ID "nh2" (51, 39)
ID "eduarrrd" (51, 43)
] "]" (51, 52)
; ";" (51, 53)
ID "platforms" (52, 5)
= "=" (52, 15)
[ "[" (52, 17)
" "\"" (52, 19)
STR "x86_64-linux" (52, 20)
" "\"" (52, 32)
] "]" (52, 34)
; ";" (52, 35)
ID "mainProgram" (53, 5)
= "=" (53, 17)
" "\"" (53, 19)
STR "marktext" (53, 20)
" "\"" (53, 28)
; ";" (53, 29)
} "}" (54, 3)
; ";" (54, 4)
} "}" (55, 1)