---
Function {
 argument: None,
 arguments: FunctionArguments {
  arguments: [
   FunctionArgument {
    identifier: "lib",
    default: None,
   },
   FunctionArgument {
    identifier: "pkgs",
    default: None,
   },
   FunctionArgument {
    identifier: "config",
    default: None,
   },
  ],
  ellipsis: true,
 },
 definition: With {
  expression: Variable {
   identifier: "lib",
   position: (3, 6),
  },
  target: LetIn {
   bindings: [
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "cfg",
        position: (7, 3),
       },
      ],
     },
     PropertyAccess {
      expression: Variable {
       identifier: "config",
       position: (7, 9),
      },
      attribute_path: AttributePath {
       attributes: [
        Raw {
         content: "services",
         position: (7, 16),
        },
        Raw {
         content: "mailman",
         position: (7, 25),
        },
       ],
      },
      default: None,
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "pythonEnv",
        position: (9, 3),
       },
      ],
     },
     FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (9, 15),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "python3",
          position: (9, 20),
         },
         Raw {
          content: "withPackages",
          position: (9, 28),
         },
        ],
       },
       default: None,
      },
      arguments: [
       Function {
        argument: Some(
         "ps",
        ),
        arguments: FunctionArguments {
         arguments: [],
         ellipsis: false,
        },
        definition: BinaryOperation {
         operator: Concatenation,
         operands: [
          List {
           elements: [
            PropertyAccess {
             expression: Variable {
              identifier: "ps",
              position: (10, 6),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "mailman",
                position: (10, 9),
               },
              ],
             },
             default: None,
            },
            PropertyAccess {
             expression: Variable {
              identifier: "ps",
              position: (10, 17),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "mailman-web",
                position: (10, 20),
               },
              ],
             },
             default: None,
            },
           ],
           position: (10, 5),
          },
          BinaryOperation {
           operator: Concatenation,
           operands: [
            FunctionApplication {
             function: PropertyAccess {
              expression: Variable {
               identifier: "lib",
               position: (11, 8),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "optional",
                 position: (11, 12),
                },
               ],
              },
              default: None,
             },
             arguments: [
              PropertyAccess {
               expression: Variable {
                identifier: "cfg",
                position: (11, 21),
               },
               attribute_path: AttributePath {
                attributes: [
                 Raw {
                  content: "hyperkitty",
                  position: (11, 25),
                 },
                 Raw {
                  content: "enable",
                  position: (11, 36),
                 },
                ],
               },
               default: None,
              },
              PropertyAccess {
               expression: Variable {
                identifier: "ps",
                position: (11, 43),
               },
               attribute_path: AttributePath {
                attributes: [
                 Raw {
                  content: "mailman-hyperkitty",
                  position: (11, 46),
                 },
                ],
               },
               default: None,
              },
             ],
            },
            PropertyAccess {
             expression: Variable {
              identifier: "cfg",
              position: (12, 8),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "extraPythonPackages",
                position: (12, 12),
               },
              ],
             },
             default: None,
            },
           ],
           position: (12, 5),
          },
         ],
         position: (11, 5),
        },
        position: (9, 42),
       },
      ],
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "webSettings",
        position: (16, 3),
       },
      ],
     },
     BinaryOperation {
      operator: Update,
      operands: [
       Map {
        bindings: [
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "DEFAULT_FROM_EMAIL",
             position: (17, 5),
            },
           ],
          },
          PropertyAccess {
           expression: Variable {
            identifier: "cfg",
            position: (17, 26),
           },
           attribute_path: AttributePath {
            attributes: [
             Raw {
              content: "siteOwner",
              position: (17, 30),
             },
            ],
           },
           default: None,
          },
         ),
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "SERVER_EMAIL",
             position: (18, 5),
            },
           ],
          },
          PropertyAccess {
           expression: Variable {
            identifier: "cfg",
            position: (18, 20),
           },
           attribute_path: AttributePath {
            attributes: [
             Raw {
              content: "siteOwner",
              position: (18, 24),
             },
            ],
           },
           default: None,
          },
         ),
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "ALLOWED_HOSTS",
             position: (19, 5),
            },
           ],
          },
          BinaryOperation {
           operator: Concatenation,
           operands: [
            List {
             elements: [
              String {
               parts: [
                Raw {
                 content: "localhost",
                 position: (19, 24),
                },
               ],
              },
              String {
               parts: [
                Raw {
                 content: "127.0.0.1",
                 position: (19, 36),
                },
               ],
              },
             ],
             position: (19, 21),
            },
            PropertyAccess {
             expression: Variable {
              identifier: "cfg",
              position: (19, 52),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "webHosts",
                position: (19, 56),
               },
              ],
             },
             default: None,
            },
           ],
           position: (19, 49),
          },
         ),
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "COMPRESS_OFFLINE",
             position: (20, 5),
            },
           ],
          },
          Variable {
           identifier: "true",
           position: (20, 24),
          },
         ),
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "STATIC_ROOT",
             position: (21, 5),
            },
           ],
          },
          String {
           parts: [
            Raw {
             content: "/var/lib/mailman-web-static",
             position: (21, 20),
            },
           ],
          },
         ),
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "MEDIA_ROOT",
             position: (22, 5),
            },
           ],
          },
          String {
           parts: [
            Raw {
             content: "/var/lib/mailman-web/media",
             position: (22, 19),
            },
           ],
          },
         ),
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "LOGGING",
             position: (23, 5),
            },
           ],
          },
          Map {
           bindings: [
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "version",
                position: (24, 7),
               },
              ],
             },
             Int {
              value: 1,
              position: (24, 17),
             },
            ),
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "disable_existing_loggers",
                position: (25, 7),
               },
              ],
             },
             Variable {
              identifier: "true",
              position: (25, 34),
             },
            ),
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "handlers",
                position: (26, 7),
               },
               Raw {
                content: "console",
                position: (26, 16),
               },
               Raw {
                content: "class",
                position: (26, 24),
               },
              ],
             },
             String {
              parts: [
               Raw {
                content: "logging.StreamHandler",
                position: (26, 33),
               },
              ],
             },
            ),
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "loggers",
                position: (27, 7),
               },
               Raw {
                content: "django",
                position: (27, 15),
               },
              ],
             },
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "handlers",
                   position: (28, 9),
                  },
                 ],
                },
                List {
                 elements: [
                  String {
                   parts: [
                    Raw {
                     content: "console",
                     position: (28, 23),
                    },
                   ],
                  },
                 ],
                 position: (28, 20),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "level",
                   position: (29, 9),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "INFO",
                   position: (29, 18),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (27, 24),
             },
            ),
           ],
           recursive: false,
           position: (23, 15),
          },
         ),
         KeyValue(
          AttributePath {
           attributes: [
            Raw {
             content: "HAYSTACK_CONNECTIONS",
             position: (32, 5),
            },
            Raw {
             content: "default",
             position: (32, 26),
            },
           ],
          },
          Map {
           bindings: [
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "ENGINE",
                position: (33, 7),
               },
              ],
             },
             String {
              parts: [
               Raw {
                content: "haystack.backends.whoosh_backend.WhooshEngine",
                position: (33, 17),
               },
              ],
             },
            ),
            KeyValue(
             AttributePath {
              attributes: [
               Raw {
                content: "PATH",
                position: (34, 7),
               },
              ],
             },
             String {
              parts: [
               Raw {
                content: "/var/lib/mailman-web/fulltext-index",
                position: (34, 15),
               },
              ],
             },
            ),
           ],
           recursive: false,
           position: (32, 36),
          },
         ),
        ],
        recursive: false,
        position: (16, 17),
       },
       PropertyAccess {
        expression: Variable {
         identifier: "cfg",
         position: (36, 8),
        },
        attribute_path: AttributePath {
         attributes: [
          Raw {
           content: "webSettings",
           position: (36, 12),
          },
         ],
        },
        default: None,
       },
      ],
      position: (36, 5),
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "webSettingsJSON",
        position: (38, 3),
       },
      ],
     },
     FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (38, 21),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "writeText",
          position: (38, 26),
         },
        ],
       },
       default: None,
      },
      arguments: [
       String {
        parts: [
         Raw {
          content: "settings.json",
          position: (38, 37),
         },
        ],
       },
       FunctionApplication {
        function: PropertyAccess {
         expression: Variable {
          identifier: "builtins",
          position: (38, 53),
         },
         attribute_path: AttributePath {
          attributes: [
           Raw {
            content: "toJSON",
            position: (38, 62),
           },
          ],
         },
         default: None,
        },
        arguments: [
         Variable {
          identifier: "webSettings",
          position: (38, 69),
         },
        ],
       },
      ],
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "postfixMtaConfig",
        position: (41, 3),
       },
      ],
     },
     FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (41, 22),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "writeText",
          position: (41, 27),
         },
        ],
       },
       default: None,
      },
      arguments: [
       String {
        parts: [
         Raw {
          content: "mailman-postfix.cfg",
          position: (41, 38),
         },
        ],
       },
       String {
        parts: [
         Raw {
          content: "[postfix]\npostmap_command: ",
          position: (42, 1),
         },
         Expression {
          expression: PropertyAccess {
           expression: Variable {
            identifier: "pkgs",
            position: (43, 24),
           },
           attribute_path: AttributePath {
            attributes: [
             Raw {
              content: "postfix",
              position: (43, 29),
             },
            ],
           },
           default: None,
          },
         },
         Raw {
          content: "/bin/postmap\ntransport_file_type: hash\n",
          position: (43, 37),
         },
        ],
       },
      ],
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "mailmanCfg",
        position: (47, 3),
       },
      ],
     },
     FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "lib",
        position: (47, 16),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "generators",
          position: (47, 20),
         },
         Raw {
          content: "toINI",
          position: (47, 31),
         },
        ],
       },
       default: None,
      },
      arguments: [
       Map {
        bindings: [],
        recursive: false,
        position: (47, 37),
       },
       PropertyAccess {
        expression: Variable {
         identifier: "cfg",
         position: (47, 40),
        },
        attribute_path: AttributePath {
         attributes: [
          Raw {
           content: "settings",
           position: (47, 44),
          },
         ],
        },
        default: None,
       },
      ],
     },
    ),
    KeyValue(
     AttributePath {
      attributes: [
       Raw {
        content: "mailmanHyperkittyCfg",
        position: (49, 3),
       },
      ],
     },
     FunctionApplication {
      function: PropertyAccess {
       expression: Variable {
        identifier: "pkgs",
        position: (49, 26),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "writeText",
          position: (49, 31),
         },
        ],
       },
       default: None,
      },
      arguments: [
       String {
        parts: [
         Raw {
          content: "mailman-hyperkitty.cfg",
          position: (49, 42),
         },
        ],
       },
       String {
        parts: [
         Raw {
          content: "[general]\n# This is your HyperKitty installation, preferably on the localhost. This\n# address will be used by Mailman to forward incoming emails to HyperKitty\n# for archiving. It does not need to be publicly available, in fact it's\n# better if it is not.\nbase_url: ",
          position: (50, 1),
         },
         Expression {
          expression: PropertyAccess {
           expression: Variable {
            identifier: "cfg",
            position: (55, 17),
           },
           attribute_path: AttributePath {
            attributes: [
             Raw {
              content: "hyperkitty",
              position: (55, 21),
             },
             Raw {
              content: "baseUrl",
              position: (55, 32),
             },
            ],
           },
           default: None,
          },
         },
         Raw {
          content: "\n\n# Shared API key, must be the identical to the value in HyperKitty's\n# settings.\napi_key: @API_KEY@\n",
          position: (55, 40),
         },
        ],
       },
      ],
     },
    ),
   ],
   target: Map {
    bindings: [
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "imports",
         position: (66, 3),
        },
       ],
      },
      List {
       elements: [
        FunctionApplication {
         function: Variable {
          identifier: "mkRenamedOptionModule",
          position: (67, 6),
         },
         arguments: [
          List {
           elements: [
            String {
             parts: [
              Raw {
               content: "services",
               position: (67, 31),
              },
             ],
            },
            String {
             parts: [
              Raw {
               content: "mailman",
               position: (67, 42),
              },
             ],
            },
            String {
             parts: [
              Raw {
               content: "hyperkittyBaseUrl",
               position: (67, 52),
              },
             ],
            },
           ],
           position: (67, 28),
          },
          List {
           elements: [
            String {
             parts: [
              Raw {
               content: "services",
               position: (68, 10),
              },
             ],
            },
            String {
             parts: [
              Raw {
               content: "mailman",
               position: (68, 21),
              },
             ],
            },
            String {
             parts: [
              Raw {
               content: "hyperkitty",
               position: (68, 31),
              },
             ],
            },
            String {
             parts: [
              Raw {
               content: "baseUrl",
               position: (68, 44),
              },
             ],
            },
           ],
           position: (68, 7),
          },
         ],
        },
        FunctionApplication {
         function: Variable {
          identifier: "mkRemovedOptionModule",
          position: (70, 6),
         },
         arguments: [
          List {
           elements: [
            String {
             parts: [
              Raw {
               content: "services",
               position: (70, 31),
              },
             ],
            },
            String {
             parts: [
              Raw {
               content: "mailman",
               position: (70, 42),
              },
             ],
            },
            String {
             parts: [
              Raw {
               content: "hyperkittyApiKey",
               position: (70, 52),
              },
             ],
            },
           ],
           position: (70, 28),
          },
          String {
           parts: [
            Raw {
             content: "The Hyperkitty API key is now generated on first run, and not\nstored in the world-readable Nix store.  To continue using\nHyperkitty, you must set services.mailman.hyperkitty.enable = true.\n",
             position: (71, 1),
            },
           ],
          },
         ],
        },
       ],
       position: (66, 13),
      },
     ),
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "options",
         position: (77, 3),
        },
       ],
      },
      Map {
       bindings: [
        KeyValue(
         AttributePath {
          attributes: [
           Raw {
            content: "services",
            position: (79, 5),
           },
           Raw {
            content: "mailman",
            position: (79, 14),
           },
          ],
         },
         Map {
          bindings: [
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "enable",
               position: (81, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (81, 16),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (82, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (82, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "bool",
                     position: (82, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (83, 9),
                   },
                  ],
                 },
                 Variable {
                  identifier: "false",
                  position: (83, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (84, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Enable Mailman on this host. Requires an active MTA on the host (e.g. Postfix).",
                    position: (84, 24),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (81, 25),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "package",
               position: (87, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (87, 17),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (88, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (88, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "package",
                     position: (88, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (89, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "pkgs",
                   position: (89, 19),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "mailman",
                     position: (89, 24),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "defaultText",
                    position: (90, 9),
                   },
                  ],
                 },
                 FunctionApplication {
                  function: Variable {
                   identifier: "literalExpression",
                   position: (90, 23),
                  },
                  arguments: [
                   String {
                    parts: [
                     Raw {
                      content: "pkgs.mailman",
                      position: (90, 42),
                     },
                    ],
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "example",
                    position: (91, 9),
                   },
                  ],
                 },
                 FunctionApplication {
                  function: Variable {
                   identifier: "literalExpression",
                   position: (91, 19),
                  },
                  arguments: [
                   String {
                    parts: [
                     Raw {
                      content: "pkgs.mailman.override { archivers = []; }",
                      position: (91, 38),
                     },
                    ],
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (92, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Mailman package to use",
                    position: (92, 24),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (87, 26),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "enablePostfix",
               position: (95, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (95, 23),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (96, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (96, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "bool",
                     position: (96, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (97, 9),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (97, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "example",
                    position: (98, 9),
                   },
                  ],
                 },
                 Variable {
                  identifier: "false",
                  position: (98, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (99, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Enable Postfix integration. Requires an active Postfix installation.\n\nIf you want to use another MTA, set this option to false and configure\nsettings in services.mailman.settings.mta.\n\nRefer to the Mailman manual for more info.\n",
                    position: (100, 1),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (95, 32),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "siteOwner",
               position: (109, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (109, 19),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (110, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (110, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "str",
                     position: (110, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "example",
                    position: (111, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "postmaster@example.org",
                    position: (111, 20),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (112, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Certain messages that must be delivered to a human, but which can't\nbe delivered to a list owner (e.g. a bounce from a list owner), will\nbe sent to this address. It should point to a human.\n",
                    position: (113, 1),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (109, 28),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "webHosts",
               position: (119, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (119, 18),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (120, 9),
                   },
                  ],
                 },
                 FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (120, 16),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "listOf",
                      position: (120, 22),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   PropertyAccess {
                    expression: Variable {
                     identifier: "types",
                     position: (120, 29),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "str",
                       position: (120, 35),
                      },
                     ],
                    },
                    default: None,
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (121, 9),
                   },
                  ],
                 },
                 List {
                  elements: [],
                  position: (121, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (122, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "The list of hostnames and/or IP addresses from which the Mailman Web\nUI will accept requests. By default, \"localhost\" and \"127.0.0.1\" are\nenabled. All additional names under which your web server accepts\nrequests for the UI must be listed here or incoming requests will be\nrejected.\n",
                    position: (123, 1),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (119, 27),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "webUser",
               position: (131, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (131, 17),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (132, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (132, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "str",
                     position: (132, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (133, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "mailman-web",
                    position: (133, 20),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (134, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "User to run mailman-web as\n",
                    position: (135, 1),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (131, 26),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "webSettings",
               position: (139, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (139, 21),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (140, 9),
                   },
                  ],
                 },
                 PropertyAccess {
                  expression: Variable {
                   identifier: "types",
                   position: (140, 16),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "attrs",
                     position: (140, 22),
                    },
                   ],
                  },
                  default: None,
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (141, 9),
                   },
                  ],
                 },
                 Map {
                  bindings: [],
                  recursive: false,
                  position: (141, 19),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (142, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Overrides for the default mailman-web Django settings.\n",
                    position: (143, 1),
                   },
                  ],
                 },
                ),
               ],
               recursive: false,
               position: (139, 30),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "serve",
               position: (147, 7),
              },
             ],
            },
            Map {
             bindings: [
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "enable",
                  position: (148, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkEnableOption",
                 position: (148, 18),
                },
                arguments: [
                 String {
                  parts: [
                   Raw {
                    content: "Automatic nginx and uwsgi setup for mailman-web",
                    position: (148, 34),
                   },
                  ],
                 },
                ],
               },
              ),
             ],
             recursive: false,
             position: (147, 15),
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "extraPythonPackages",
               position: (151, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (151, 29),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (152, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Packages to add to the python environment used by mailman and mailman-web",
                    position: (152, 24),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (153, 9),
                   },
                  ],
                 },
                 FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (153, 16),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "listOf",
                      position: (153, 22),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   PropertyAccess {
                    expression: Variable {
                     identifier: "types",
                     position: (153, 29),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "package",
                       position: (153, 35),
                      },
                     ],
                    },
                    default: None,
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (154, 9),
                   },
                  ],
                 },
                 List {
                  elements: [],
                  position: (154, 19),
                 },
                ),
               ],
               recursive: false,
               position: (151, 38),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "settings",
               position: (157, 7),
              },
             ],
            },
            FunctionApplication {
             function: Variable {
              identifier: "mkOption",
              position: (157, 18),
             },
             arguments: [
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "description",
                    position: (158, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "Settings for mailman.cfg",
                    position: (158, 24),
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "type",
                    position: (159, 9),
                   },
                  ],
                 },
                 FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "types",
                    position: (159, 16),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "attrsOf",
                      position: (159, 22),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   FunctionApplication {
                    function: PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (159, 31),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "attrsOf",
                        position: (159, 37),
                       },
                      ],
                     },
                     default: None,
                    },
                    arguments: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "types",
                       position: (159, 45),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "str",
                         position: (159, 51),
                        },
                       ],
                      },
                      default: None,
                     },
                    ],
                   },
                  ],
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "default",
                    position: (160, 9),
                   },
                  ],
                 },
                 Map {
                  bindings: [],
                  recursive: false,
                  position: (160, 19),
                 },
                ),
               ],
               recursive: false,
               position: (157, 27),
              },
             ],
            },
           ),
           KeyValue(
            AttributePath {
             attributes: [
              Raw {
               content: "hyperkitty",
               position: (163, 7),
              },
             ],
            },
            Map {
             bindings: [
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "enable",
                  position: (164, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkEnableOption",
                 position: (164, 18),
                },
                arguments: [
                 String {
                  parts: [
                   Raw {
                    content: "the Hyperkitty archiver for Mailman",
                    position: (164, 34),
                   },
                  ],
                 },
                ],
               },
              ),
              KeyValue(
               AttributePath {
                attributes: [
                 Raw {
                  content: "baseUrl",
                  position: (166, 9),
                 },
                ],
               },
               FunctionApplication {
                function: Variable {
                 identifier: "mkOption",
                 position: (166, 19),
                },
                arguments: [
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "type",
                       position: (167, 11),
                      },
                     ],
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "types",
                      position: (167, 18),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "str",
                        position: (167, 24),
                       },
                      ],
                     },
                     default: None,
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "default",
                       position: (168, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "http://localhost:18507/archives/",
                       position: (168, 22),
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "description",
                       position: (169, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "Where can Mailman connect to Hyperkitty's internal API, preferably on\nlocalhost?\n",
                       position: (170, 1),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (166, 28),
                 },
                ],
               },
              ),
             ],
             recursive: false,
             position: (163, 20),
            },
           ),
          ],
          recursive: false,
          position: (79, 24),
         },
        ),
       ],
       recursive: false,
       position: (77, 13),
      },
     ),
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "config",
         position: (181, 3),
        },
       ],
      },
      FunctionApplication {
       function: Variable {
        identifier: "mkIf",
        position: (181, 12),
       },
       arguments: [
        PropertyAccess {
         expression: Variable {
          identifier: "cfg",
          position: (181, 17),
         },
         attribute_path: AttributePath {
          attributes: [
           Raw {
            content: "enable",
            position: (181, 21),
           },
          ],
         },
         default: None,
        },
        Map {
         bindings: [
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "services",
              position: (183, 5),
             },
             Raw {
              content: "mailman",
              position: (183, 14),
             },
             Raw {
              content: "settings",
              position: (183, 22),
             },
            ],
           },
           BinaryOperation {
            operator: Update,
            operands: [
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mailman",
                   position: (184, 7),
                  },
                  Raw {
                   content: "site_owner",
                   position: (184, 15),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "lib",
                   position: (184, 28),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "mkDefault",
                     position: (184, 32),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (184, 42),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "siteOwner",
                      position: (184, 46),
                     },
                    ],
                   },
                   default: None,
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mailman",
                   position: (185, 7),
                  },
                  Raw {
                   content: "layout",
                   position: (185, 15),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "fhs",
                   position: (185, 25),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Expression {
                   expression: String {
                    parts: [
                     Raw {
                      content: "paths.fhs",
                      position: (187, 8),
                     },
                    ],
                   },
                  },
                 ],
                },
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "bin_dir",
                      position: (188, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Expression {
                      expression: PropertyAccess {
                       expression: Variable {
                        identifier: "pkgs",
                        position: (188, 22),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "python3Packages",
                          position: (188, 27),
                         },
                         Raw {
                          content: "mailman",
                          position: (188, 43),
                         },
                        ],
                       },
                       default: None,
                      },
                     },
                     Raw {
                      content: "/bin",
                      position: (188, 51),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "var_dir",
                      position: (189, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "/var/lib/mailman",
                      position: (189, 20),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "queue_dir",
                      position: (190, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "$var_dir/queue",
                      position: (190, 22),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "template_dir",
                      position: (191, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "$var_dir/templates",
                      position: (191, 25),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "log_dir",
                      position: (192, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "/var/log/mailman",
                      position: (192, 20),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "lock_dir",
                      position: (193, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "$var_dir/lock",
                      position: (193, 21),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "etc_dir",
                      position: (194, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "/etc",
                      position: (194, 20),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "pid_file",
                      position: (195, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "/run/mailman/master.pid",
                      position: (195, 21),
                     },
                    ],
                   },
                  ),
                 ],
                 recursive: false,
                 position: (187, 21),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mta",
                   position: (198, 7),
                  },
                  Raw {
                   content: "configuration",
                   position: (198, 11),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "lib",
                   position: (198, 27),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "mkDefault",
                     position: (198, 31),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  IfThenElse {
                   predicate: PropertyAccess {
                    expression: Variable {
                     identifier: "cfg",
                     position: (198, 45),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "enablePostfix",
                       position: (198, 49),
                      },
                     ],
                    },
                    default: None,
                   },
                   then: String {
                    parts: [
                     Expression {
                      expression: Variable {
                       identifier: "postfixMtaConfig",
                       position: (198, 71),
                      },
                     },
                    ],
                   },
                   else_: FunctionApplication {
                    function: Variable {
                     identifier: "throw",
                     position: (198, 95),
                    },
                    arguments: [
                     String {
                      parts: [
                       Raw {
                        content: "When Mailman Postfix integration is disabled, set `services.mailman.settings.mta.configuration` to the path of the config file required to integrate with your MTA.",
                        position: (198, 102),
                       },
                      ],
                     },
                    ],
                   },
                   position: (198, 42),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Expression {
                   expression: String {
                    parts: [
                     Raw {
                      content: "archiver.hyperkitty",
                      position: (200, 8),
                     },
                    ],
                   },
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "lib",
                   position: (200, 31),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "mkIf",
                     position: (200, 35),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (200, 40),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "hyperkitty",
                      position: (200, 44),
                     },
                     Raw {
                      content: "enable",
                      position: (200, 55),
                     },
                    ],
                   },
                   default: None,
                  },
                  Map {
                   bindings: [
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "class",
                        position: (201, 9),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "mailman_hyperkitty.Archiver",
                        position: (201, 18),
                       },
                      ],
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "enable",
                        position: (202, 9),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "yes",
                        position: (202, 19),
                       },
                      ],
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "configuration",
                        position: (203, 9),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "/var/lib/mailman/mailman-hyperkitty.cfg",
                        position: (203, 26),
                       },
                      ],
                     },
                    ),
                   ],
                   recursive: false,
                   position: (200, 62),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (183, 33),
             },
             LetIn {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "loggerNames",
                   position: (206, 7),
                  },
                 ],
                },
                List {
                 elements: [
                  String {
                   parts: [
                    Raw {
                     content: "root",
                     position: (206, 23),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "archiver",
                     position: (206, 30),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "bounce",
                     position: (206, 41),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "config",
                     position: (206, 50),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "database",
                     position: (206, 59),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "debug",
                     position: (206, 70),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "error",
                     position: (206, 78),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "fromusenet",
                     position: (206, 86),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "http",
                     position: (206, 99),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "locks",
                     position: (206, 106),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "mischief",
                     position: (206, 114),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "plugins",
                     position: (206, 125),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "runner",
                     position: (206, 135),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "smtp",
                     position: (206, 144),
                    },
                   ],
                  },
                 ],
                 position: (206, 21),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "loggerSectionNames",
                   position: (207, 7),
                  },
                 ],
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "map",
                  position: (207, 28),
                 },
                 arguments: [
                  Function {
                   argument: Some(
                    "n",
                   ),
                   arguments: FunctionArguments {
                    arguments: [],
                    ellipsis: false,
                   },
                   definition: String {
                    parts: [
                     Raw {
                      content: "logging.",
                      position: (207, 37),
                     },
                     Expression {
                      expression: Variable {
                       identifier: "n",
                       position: (207, 47),
                      },
                     },
                    ],
                   },
                   position: (207, 33),
                  },
                  Variable {
                   identifier: "loggerNames",
                   position: (207, 52),
                  },
                 ],
                },
               ),
              ],
              target: FunctionApplication {
               function: PropertyAccess {
                expression: Variable {
                 identifier: "lib",
                 position: (208, 10),
                },
                attribute_path: AttributePath {
                 attributes: [
                  Raw {
                   content: "genAttrs",
                   position: (208, 14),
                  },
                 ],
                },
                default: None,
               },
               arguments: [
                Variable {
                 identifier: "loggerSectionNames",
                 position: (208, 23),
                },
                Function {
                 argument: Some(
                  "name",
                 ),
                 arguments: FunctionArguments {
                  arguments: [],
                  ellipsis: false,
                 },
                 definition: Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "handler",
                       position: (208, 50),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "stderr",
                       position: (208, 61),
                      },
                     ],
                    },
                   ),
                  ],
                  recursive: false,
                  position: (208, 48),
                 },
                 position: (208, 42),
                },
               ],
              },
              position: (205, 11),
             },
            ],
            position: (205, 7),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "assertions",
              position: (211, 5),
             },
            ],
           },
           LetIn {
            bindings: [
             Inherit(
              Some(
               PropertyAccess {
                expression: Variable {
                 identifier: "config",
                 position: (212, 16),
                },
                attribute_path: AttributePath {
                 attributes: [
                  Raw {
                   content: "services",
                   position: (212, 23),
                  },
                 ],
                },
                default: None,
               },
              ),
              [
               Raw {
                content: "postfix",
                position: (212, 33),
               },
              ],
             ),
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "requirePostfixHash",
                 position: (214, 7),
                },
               ],
              },
              Function {
               argument: Some(
                "optionPath",
               ),
               arguments: FunctionArguments {
                arguments: [],
                ellipsis: false,
               },
               definition: Function {
                argument: Some(
                 "dataFile",
                ),
                arguments: FunctionArguments {
                 arguments: [],
                 ellipsis: false,
                },
                definition: With {
                 expression: Variable {
                  identifier: "lib",
                  position: (215, 14),
                 },
                 target: LetIn {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "expected",
                       position: (217, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "hash:/var/lib/mailman/data/",
                       position: (217, 23),
                      },
                      Expression {
                       expression: Variable {
                        identifier: "dataFile",
                        position: (217, 52),
                       },
                      },
                     ],
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "value",
                       position: (218, 11),
                      },
                     ],
                    },
                    FunctionApplication {
                     function: Variable {
                      identifier: "attrByPath",
                      position: (218, 19),
                     },
                     arguments: [
                      Variable {
                       identifier: "optionPath",
                       position: (218, 30),
                      },
                      List {
                       elements: [],
                       position: (218, 41),
                      },
                      Variable {
                       identifier: "postfix",
                       position: (218, 44),
                      },
                     ],
                    },
                   ),
                  ],
                  target: Map {
                   bindings: [
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "assertion",
                        position: (220, 13),
                       },
                      ],
                     },
                     BinaryOperation {
                      operator: Implication,
                      operands: [
                       PropertyAccess {
                        expression: Variable {
                         identifier: "postfix",
                         position: (220, 25),
                        },
                        attribute_path: AttributePath {
                         attributes: [
                          Raw {
                           content: "enable",
                           position: (220, 33),
                          },
                         ],
                        },
                        default: None,
                       },
                       BinaryOperation {
                        operator: LogicalAnd,
                        operands: [
                         FunctionApplication {
                          function: Variable {
                           identifier: "isList",
                           position: (220, 43),
                          },
                          arguments: [
                           Variable {
                            identifier: "value",
                            position: (220, 50),
                           },
                          ],
                         },
                         FunctionApplication {
                          function: Variable {
                           identifier: "elem",
                           position: (220, 59),
                          },
                          arguments: [
                           Variable {
                            identifier: "expected",
                            position: (220, 64),
                           },
                           Variable {
                            identifier: "value",
                            position: (220, 73),
                           },
                          ],
                         },
                        ],
                        position: (220, 56),
                       },
                      ],
                      position: (220, 40),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "message",
                        position: (221, 13),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "services.postfix.",
                        position: (222, 1),
                       },
                       Expression {
                        expression: FunctionApplication {
                         function: Variable {
                          identifier: "concatStringsSep",
                          position: (222, 34),
                         },
                         arguments: [
                          String {
                           parts: [
                            Raw {
                             content: ".",
                             position: (222, 52),
                            },
                           ],
                          },
                          Variable {
                           identifier: "optionPath",
                           position: (222, 55),
                          },
                         ],
                        },
                       },
                       Raw {
                        content: " must contain\n\"",
                        position: (222, 66),
                       },
                       Expression {
                        expression: Variable {
                         identifier: "expected",
                         position: (223, 18),
                        },
                       },
                       Raw {
                        content: "\".\nSee <https://mailman.readthedocs.io/en/latest/src/mailman/docs/mta.html>.\n",
                        position: (223, 27),
                       },
                      ],
                     },
                    ),
                   ],
                   recursive: false,
                   position: (220, 11),
                  },
                  position: (216, 9),
                 },
                 position: (215, 9),
                },
                position: (214, 40),
               },
               position: (214, 28),
              },
             ),
            ],
            target: BinaryOperation {
             operator: Concatenation,
             operands: [
              List {
               elements: [
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "assertion",
                      position: (228, 9),
                     },
                    ],
                   },
                   BinaryOperation {
                    operator: NotEqualTo,
                    operands: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (228, 21),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "webHosts",
                         position: (228, 25),
                        },
                       ],
                      },
                      default: None,
                     },
                     List {
                      elements: [],
                      position: (228, 37),
                     },
                    ],
                    position: (228, 34),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "message",
                      position: (229, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "services.mailman.serve.enable requires there to be at least one entry\nin services.mailman.webHosts.\n",
                      position: (230, 1),
                     },
                    ],
                   },
                  ),
                 ],
                 recursive: false,
                 position: (228, 7),
                },
               ],
               position: (227, 8),
              },
              FunctionApplication {
               function: PropertyAccess {
                expression: Variable {
                 identifier: "lib",
                 position: (234, 11),
                },
                attribute_path: AttributePath {
                 attributes: [
                  Raw {
                   content: "optionals",
                   position: (234, 15),
                  },
                 ],
                },
                default: None,
               },
               arguments: [
                PropertyAccess {
                 expression: Variable {
                  identifier: "cfg",
                  position: (234, 25),
                 },
                 attribute_path: AttributePath {
                  attributes: [
                   Raw {
                    content: "enablePostfix",
                    position: (234, 29),
                   },
                  ],
                 },
                 default: None,
                },
                List {
                 elements: [
                  Map {
                   bindings: [
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "assertion",
                        position: (235, 9),
                       },
                      ],
                     },
                     PropertyAccess {
                      expression: Variable {
                       identifier: "postfix",
                       position: (235, 21),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "enable",
                         position: (235, 29),
                        },
                       ],
                      },
                      default: None,
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "message",
                        position: (236, 9),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "Mailman's default NixOS configuration requires Postfix to be enabled.\n\nIf you want to use another MTA, set services.mailman.enablePostfix\nto false and configure settings in services.mailman.settings.mta.\n\nRefer to <https://mailman.readthedocs.io/en/latest/src/mailman/docs/mta.html>\nfor more info.\n",
                        position: (237, 1),
                       },
                      ],
                     },
                    ),
                   ],
                   recursive: false,
                   position: (235, 7),
                  },
                  FunctionApplication {
                   function: Variable {
                    identifier: "requirePostfixHash",
                    position: (246, 8),
                   },
                   arguments: [
                    List {
                     elements: [
                      String {
                       parts: [
                        Raw {
                         content: "relayDomains",
                         position: (246, 30),
                        },
                       ],
                      },
                     ],
                     position: (246, 27),
                    },
                    String {
                     parts: [
                      Raw {
                       content: "postfix_domains",
                       position: (246, 47),
                      },
                     ],
                    },
                   ],
                  },
                  FunctionApplication {
                   function: Variable {
                    identifier: "requirePostfixHash",
                    position: (247, 8),
                   },
                   arguments: [
                    List {
                     elements: [
                      String {
                       parts: [
                        Raw {
                         content: "config",
                         position: (247, 30),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "transport_maps",
                         position: (247, 39),
                        },
                       ],
                      },
                     ],
                     position: (247, 27),
                    },
                    String {
                     parts: [
                      Raw {
                       content: "postfix_lmtp",
                       position: (247, 58),
                      },
                     ],
                    },
                   ],
                  },
                  FunctionApplication {
                   function: Variable {
                    identifier: "requirePostfixHash",
                    position: (248, 8),
                   },
                   arguments: [
                    List {
                     elements: [
                      String {
                       parts: [
                        Raw {
                         content: "config",
                         position: (248, 30),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "local_recipient_maps",
                         position: (248, 39),
                        },
                       ],
                      },
                     ],
                     position: (248, 27),
                    },
                    String {
                     parts: [
                      Raw {
                       content: "postfix_lmtp",
                       position: (248, 64),
                      },
                     ],
                    },
                   ],
                  },
                 ],
                 position: (234, 43),
                },
               ],
              },
             ],
             position: (234, 7),
            },
            position: (211, 18),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "users",
              position: (251, 5),
             },
             Raw {
              content: "users",
              position: (251, 11),
             },
             Raw {
              content: "mailman",
              position: (251, 17),
             },
            ],
           },
           Map {
            bindings: [
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "description",
                 position: (252, 7),
                },
               ],
              },
              String {
               parts: [
                Raw {
                 content: "GNU Mailman",
                 position: (252, 22),
                },
               ],
              },
             ),
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "isSystemUser",
                 position: (253, 7),
                },
               ],
              },
              Variable {
               identifier: "true",
               position: (253, 22),
              },
             ),
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "group",
                 position: (254, 7),
                },
               ],
              },
              String {
               parts: [
                Raw {
                 content: "mailman",
                 position: (254, 16),
                },
               ],
              },
             ),
            ],
            recursive: false,
            position: (251, 27),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "users",
              position: (256, 5),
             },
             Raw {
              content: "users",
              position: (256, 11),
             },
             Raw {
              content: "mailman-web",
              position: (256, 17),
             },
            ],
           },
           FunctionApplication {
            function: PropertyAccess {
             expression: Variable {
              identifier: "lib",
              position: (256, 31),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "mkIf",
                position: (256, 35),
               },
              ],
             },
             default: None,
            },
            arguments: [
             BinaryOperation {
              operator: EqualTo,
              operands: [
               PropertyAccess {
                expression: Variable {
                 identifier: "cfg",
                 position: (256, 41),
                },
                attribute_path: AttributePath {
                 attributes: [
                  Raw {
                   content: "webUser",
                   position: (256, 45),
                  },
                 ],
                },
                default: None,
               },
               String {
                parts: [
                 Raw {
                  content: "mailman-web",
                  position: (256, 57),
                 },
                ],
               },
              ],
              position: (256, 53),
             },
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "description",
                   position: (257, 7),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "GNU Mailman web interface",
                   position: (257, 22),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "isSystemUser",
                   position: (258, 7),
                  },
                 ],
                },
                Variable {
                 identifier: "true",
                 position: (258, 22),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "group",
                   position: (259, 7),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "mailman",
                   position: (259, 16),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (256, 71),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "users",
              position: (261, 5),
             },
             Raw {
              content: "groups",
              position: (261, 11),
             },
             Raw {
              content: "mailman",
              position: (261, 18),
             },
            ],
           },
           Map {
            bindings: [],
            recursive: false,
            position: (261, 28),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "environment",
              position: (263, 5),
             },
             Raw {
              content: "etc",
              position: (263, 17),
             },
             Expression {
              expression: String {
               parts: [
                Raw {
                 content: "mailman.cfg",
                 position: (263, 22),
                },
               ],
              },
             },
             Raw {
              content: "text",
              position: (263, 35),
             },
            ],
           },
           Variable {
            identifier: "mailmanCfg",
            position: (263, 42),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "environment",
              position: (265, 5),
             },
             Raw {
              content: "etc",
              position: (265, 17),
             },
             Expression {
              expression: String {
               parts: [
                Raw {
                 content: "mailman3/settings.py",
                 position: (265, 22),
                },
               ],
              },
             },
             Raw {
              content: "text",
              position: (265, 44),
             },
            ],
           },
           String {
            parts: [
             Raw {
              content: "import os\n\n# Required by mailman_web.settings, but will be overridden when\n# settings_local.json is loaded.\nos.environ[\"SECRET_KEY\"] = \"\"\n\nfrom mailman_web.settings.base import *\nfrom mailman_web.settings.mailman import *\n\nimport json\n\nwith open(",
              position: (266, 1),
             },
             Raw {
              content: "'",
              position: (277, 17),
             },
             Expression {
              expression: Variable {
               identifier: "webSettingsJSON",
               position: (277, 20),
              },
             },
             Raw {
              content: "') as f:\n    globals().update(json.load(f))\n\nwith open('/var/lib/mailman-web/settings_local.json') as f:\n    globals().update(json.load(f))\n",
              position: (277, 36),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "services",
              position: (284, 5),
             },
             Raw {
              content: "nginx",
              position: (284, 14),
             },
            ],
           },
           FunctionApplication {
            function: Variable {
             identifier: "mkIf",
             position: (284, 22),
            },
            arguments: [
             BinaryOperation {
              operator: LogicalAnd,
              operands: [
               PropertyAccess {
                expression: Variable {
                 identifier: "cfg",
                 position: (284, 28),
                },
                attribute_path: AttributePath {
                 attributes: [
                  Raw {
                   content: "serve",
                   position: (284, 32),
                  },
                  Raw {
                   content: "enable",
                   position: (284, 38),
                  },
                 ],
                },
                default: None,
               },
               BinaryOperation {
                operator: NotEqualTo,
                operands: [
                 PropertyAccess {
                  expression: Variable {
                   identifier: "cfg",
                   position: (284, 48),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "webHosts",
                     position: (284, 52),
                    },
                   ],
                  },
                  default: None,
                 },
                 List {
                  elements: [],
                  position: (284, 64),
                 },
                ],
                position: (284, 61),
               },
              ],
              position: (284, 45),
             },
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "enable",
                   position: (285, 7),
                  },
                 ],
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "mkDefault",
                  position: (285, 16),
                 },
                 arguments: [
                  Variable {
                   identifier: "true",
                   position: (285, 26),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "virtualHosts",
                   position: (286, 7),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "lib",
                   position: (286, 22),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "genAttrs",
                     position: (286, 26),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (286, 35),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "webHosts",
                      position: (286, 39),
                     },
                    ],
                   },
                   default: None,
                  },
                  Function {
                   argument: Some(
                    "webHost",
                   ),
                   arguments: FunctionArguments {
                    arguments: [],
                    ellipsis: false,
                   },
                   definition: Map {
                    bindings: [
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "locations",
                         position: (287, 9),
                        },
                       ],
                      },
                      Map {
                       bindings: [
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Expression {
                            expression: String {
                             parts: [
                              Raw {
                               content: "/",
                               position: (288, 12),
                              },
                             ],
                            },
                           },
                           Raw {
                            content: "extraConfig",
                            position: (288, 15),
                           },
                          ],
                         },
                         String {
                          parts: [
                           Raw {
                            content: "uwsgi_pass unix:/run/mailman-web.socket;",
                            position: (288, 30),
                           },
                          ],
                         },
                        ),
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Expression {
                            expression: String {
                             parts: [
                              Raw {
                               content: "/static/",
                               position: (289, 12),
                              },
                             ],
                            },
                           },
                           Raw {
                            content: "alias",
                            position: (289, 22),
                           },
                          ],
                         },
                         BinaryOperation {
                          operator: Addition,
                          operands: [
                           PropertyAccess {
                            expression: Variable {
                             identifier: "webSettings",
                             position: (289, 30),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "STATIC_ROOT",
                               position: (289, 42),
                              },
                             ],
                            },
                            default: None,
                           },
                           String {
                            parts: [
                             Raw {
                              content: "/",
                              position: (289, 57),
                             },
                            ],
                           },
                          ],
                          position: (289, 54),
                         },
                        ),
                       ],
                       recursive: false,
                       position: (287, 21),
                      },
                     ),
                    ],
                    recursive: false,
                    position: (286, 58),
                   },
                   position: (286, 49),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (284, 68),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "environment",
              position: (294, 5),
             },
             Raw {
              content: "systemPackages",
              position: (294, 17),
             },
            ],
           },
           List {
            elements: [
             FunctionApplication {
              function: PropertyAccess {
               expression: Variable {
                identifier: "pkgs",
                position: (294, 37),
               },
               attribute_path: AttributePath {
                attributes: [
                 Raw {
                  content: "buildEnv",
                  position: (294, 42),
                 },
                ],
               },
               default: None,
              },
              arguments: [
               Map {
                bindings: [
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Raw {
                     content: "name",
                     position: (295, 7),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "mailman-tools",
                     position: (295, 15),
                    },
                   ],
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Raw {
                     content: "pathsToLink",
                     position: (299, 7),
                    },
                   ],
                  },
                  List {
                   elements: [
                    String {
                     parts: [
                      Raw {
                       content: "/bin",
                       position: (299, 23),
                      },
                     ],
                    },
                   ],
                   position: (299, 21),
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Raw {
                     content: "paths",
                     position: (300, 7),
                    },
                   ],
                  },
                  List {
                   elements: [
                    Variable {
                     identifier: "pythonEnv",
                     position: (300, 16),
                    },
                   ],
                   position: (300, 15),
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Raw {
                     content: "postBuild",
                     position: (301, 7),
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "find $out/bin/ -mindepth 1 -not -name \"mailman*\" -delete\n",
                     position: (302, 1),
                    },
                   ],
                  },
                 ),
                ],
                recursive: false,
                position: (294, 51),
               },
              ],
             },
            ],
            position: (294, 34),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "services",
              position: (306, 5),
             },
             Raw {
              content: "postfix",
              position: (306, 14),
             },
            ],
           },
           FunctionApplication {
            function: PropertyAccess {
             expression: Variable {
              identifier: "lib",
              position: (306, 24),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "mkIf",
                position: (306, 28),
               },
              ],
             },
             default: None,
            },
            arguments: [
             PropertyAccess {
              expression: Variable {
               identifier: "cfg",
               position: (306, 33),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "enablePostfix",
                 position: (306, 37),
                },
               ],
              },
              default: None,
             },
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "recipientDelimiter",
                   position: (307, 7),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "+",
                   position: (307, 29),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "config",
                   position: (308, 7),
                  },
                 ],
                },
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "owner_request_special",
                      position: (309, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "no",
                      position: (309, 34),
                     },
                    ],
                   },
                  ),
                 ],
                 recursive: false,
                 position: (308, 16),
                },
               ),
              ],
              recursive: false,
              position: (306, 51),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "systemd",
              position: (313, 5),
             },
             Raw {
              content: "sockets",
              position: (313, 13),
             },
             Raw {
              content: "mailman-uwsgi",
              position: (313, 21),
             },
            ],
           },
           FunctionApplication {
            function: PropertyAccess {
             expression: Variable {
              identifier: "lib",
              position: (313, 37),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "mkIf",
                position: (313, 41),
               },
              ],
             },
             default: None,
            },
            arguments: [
             PropertyAccess {
              expression: Variable {
               identifier: "cfg",
               position: (313, 46),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "serve",
                 position: (313, 50),
                },
                Raw {
                 content: "enable",
                 position: (313, 56),
                },
               ],
              },
              default: None,
             },
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "wantedBy",
                   position: (314, 7),
                  },
                 ],
                },
                List {
                 elements: [
                  String {
                   parts: [
                    Raw {
                     content: "sockets.target",
                     position: (314, 20),
                    },
                   ],
                  },
                 ],
                 position: (314, 18),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "before",
                   position: (315, 7),
                  },
                 ],
                },
                List {
                 elements: [
                  String {
                   parts: [
                    Raw {
                     content: "nginx.service",
                     position: (315, 18),
                    },
                   ],
                  },
                 ],
                 position: (315, 16),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "socketConfig",
                   position: (316, 7),
                  },
                  Raw {
                   content: "ListenStream",
                   position: (316, 20),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "/run/mailman-web.socket",
                   position: (316, 36),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (313, 63),
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "systemd",
              position: (318, 5),
             },
             Raw {
              content: "services",
              position: (318, 13),
             },
            ],
           },
           BinaryOperation {
            operator: Update,
            operands: [
             Map {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mailman",
                   position: (319, 7),
                  },
                 ],
                },
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "description",
                      position: (320, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "GNU Mailman Master Process",
                      position: (320, 24),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "after",
                      position: (321, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     String {
                      parts: [
                       Raw {
                        content: "network.target",
                        position: (321, 20),
                       },
                      ],
                     },
                    ],
                    position: (321, 17),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "restartTriggers",
                      position: (322, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "config",
                       position: (322, 29),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "environment",
                         position: (322, 36),
                        },
                        Raw {
                         content: "etc",
                         position: (322, 48),
                        },
                        Expression {
                         expression: String {
                          parts: [
                           Raw {
                            content: "mailman.cfg",
                            position: (322, 53),
                           },
                          ],
                         },
                        },
                        Raw {
                         content: "source",
                         position: (322, 66),
                        },
                       ],
                      },
                      default: None,
                     },
                    ],
                    position: (322, 27),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "wantedBy",
                      position: (323, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     String {
                      parts: [
                       Raw {
                        content: "multi-user.target",
                        position: (323, 23),
                       },
                      ],
                     },
                    ],
                    position: (323, 20),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "serviceConfig",
                      position: (324, 9),
                     },
                    ],
                   },
                   Map {
                    bindings: [
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "ExecStart",
                         position: (325, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Expression {
                         expression: Variable {
                          identifier: "pythonEnv",
                          position: (325, 26),
                         },
                        },
                        Raw {
                         content: "/bin/mailman start",
                         position: (325, 36),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "ExecStop",
                         position: (326, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Expression {
                         expression: Variable {
                          identifier: "pythonEnv",
                          position: (326, 25),
                         },
                        },
                        Raw {
                         content: "/bin/mailman stop",
                         position: (326, 35),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "User",
                         position: (327, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "mailman",
                         position: (327, 19),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "Group",
                         position: (328, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "mailman",
                         position: (328, 20),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "Type",
                         position: (329, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "forking",
                         position: (329, 19),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "RuntimeDirectory",
                         position: (330, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "mailman",
                         position: (330, 31),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "LogsDirectory",
                         position: (331, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "mailman",
                         position: (331, 28),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "PIDFile",
                         position: (332, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "/run/mailman/master.pid",
                         position: (332, 22),
                        },
                       ],
                      },
                     ),
                    ],
                    recursive: false,
                    position: (324, 25),
                   },
                  ),
                 ],
                 recursive: false,
                 position: (319, 17),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mailman-settings",
                   position: (336, 7),
                  },
                 ],
                },
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "description",
                      position: (337, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "Generate settings files (including secrets) for Mailman",
                      position: (337, 24),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "before",
                      position: (338, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     String {
                      parts: [
                       Raw {
                        content: "mailman.service",
                        position: (338, 21),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "mailman-web-setup.service",
                        position: (338, 39),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "mailman-uwsgi.service",
                        position: (338, 67),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "hyperkitty.service",
                        position: (338, 91),
                       },
                      ],
                     },
                    ],
                    position: (338, 18),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "requiredBy",
                      position: (339, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     String {
                      parts: [
                       Raw {
                        content: "mailman.service",
                        position: (339, 25),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "mailman-web-setup.service",
                        position: (339, 43),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "mailman-uwsgi.service",
                        position: (339, 71),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "hyperkitty.service",
                        position: (339, 95),
                       },
                      ],
                     },
                    ],
                    position: (339, 22),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "path",
                      position: (340, 9),
                     },
                    ],
                   },
                   With {
                    expression: Variable {
                     identifier: "pkgs",
                     position: (340, 21),
                    },
                    target: List {
                     elements: [
                      Variable {
                       identifier: "jq",
                       position: (340, 29),
                      },
                     ],
                     position: (340, 27),
                    },
                    position: (340, 16),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "serviceConfig",
                      position: (341, 9),
                     },
                     Raw {
                      content: "Type",
                      position: (341, 23),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "oneshot",
                      position: (341, 31),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "script",
                      position: (342, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "mailmanDir=/var/lib/mailman\nmailmanWebDir=/var/lib/mailman-web\n\nmailmanCfg=$mailmanDir/mailman-hyperkitty.cfg\nmailmanWebCfg=$mailmanWebDir/settings_local.json\n\ninstall -m 0775 -o mailman -g mailman -d /var/lib/mailman-web-static\ninstall -m 0770 -o mailman -g mailman -d $mailmanDir\ninstall -m 0770 -o ",
                      position: (343, 1),
                     },
                     Expression {
                      expression: PropertyAccess {
                       expression: Variable {
                        identifier: "cfg",
                        position: (351, 32),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "webUser",
                          position: (351, 36),
                         },
                        ],
                       },
                       default: None,
                      },
                     },
                     Raw {
                      content: " -g mailman -d $mailmanWebDir\n\nif [ ! -e $mailmanWebCfg ]; then\n    hyperkittyApiKey=$(tr -dc A-Za-z0-9 < /dev/urandom | head -c 64)\n    secretKey=$(tr -dc A-Za-z0-9 < /dev/urandom | head -c 64)\n\n    mailmanWebCfgTmp=$(mktemp)\n    jq -n '.MAILMAN_ARCHIVER_KEY=$archiver_key | .SECRET_KEY=$secret_key' \\\n        --arg archiver_key \"$hyperkittyApiKey\" \\\n        --arg secret_key \"$secretKey\" \\\n        >\"$mailmanWebCfgTmp\"\n    chown root:mailman \"$mailmanWebCfgTmp\"\n    chmod 440 \"$mailmanWebCfgTmp\"\n    mv -n \"$mailmanWebCfgTmp\" \"$mailmanWebCfg\"\nfi\n\nhyperkittyApiKey=\"$(jq -r .MAILMAN_ARCHIVER_KEY \"$mailmanWebCfg\")\"\nmailmanCfgTmp=$(mktemp)\nsed \"s/@API_KEY@/$hyperkittyApiKey/g\" ",
                      position: (351, 44),
                     },
                     Expression {
                      expression: Variable {
                       identifier: "mailmanHyperkittyCfg",
                       position: (369, 51),
                      },
                     },
                     Raw {
                      content: " >\"$mailmanCfgTmp\"\nchown mailman:mailman \"$mailmanCfgTmp\"\nmv \"$mailmanCfgTmp\" \"$mailmanCfg\"\n",
                      position: (369, 72),
                     },
                    ],
                   },
                  ),
                 ],
                 recursive: false,
                 position: (336, 26),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mailman-web-setup",
                   position: (375, 7),
                  },
                 ],
                },
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "description",
                      position: (376, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "Prepare mailman-web files and database",
                      position: (376, 24),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "before",
                      position: (377, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     String {
                      parts: [
                       Raw {
                        content: "mailman-uwsgi.service",
                        position: (377, 21),
                       },
                      ],
                     },
                    ],
                    position: (377, 18),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "requiredBy",
                      position: (378, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     String {
                      parts: [
                       Raw {
                        content: "mailman-uwsgi.service",
                        position: (378, 25),
                       },
                      ],
                     },
                    ],
                    position: (378, 22),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "restartTriggers",
                      position: (379, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "config",
                       position: (379, 29),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "environment",
                         position: (379, 36),
                        },
                        Raw {
                         content: "etc",
                         position: (379, 48),
                        },
                        Expression {
                         expression: String {
                          parts: [
                           Raw {
                            content: "mailman3/settings.py",
                            position: (379, 53),
                           },
                          ],
                         },
                        },
                        Raw {
                         content: "source",
                         position: (379, 75),
                        },
                       ],
                      },
                      default: None,
                     },
                    ],
                    position: (379, 27),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "script",
                      position: (380, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "[[ -e \"",
                      position: (381, 1),
                     },
                     Expression {
                      expression: PropertyAccess {
                       expression: Variable {
                        identifier: "webSettings",
                        position: (381, 20),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "STATIC_ROOT",
                          position: (381, 32),
                         },
                        ],
                       },
                       default: None,
                      },
                     },
                     Raw {
                      content: "\" ]] && find \"",
                      position: (381, 44),
                     },
                     Expression {
                      expression: PropertyAccess {
                       expression: Variable {
                        identifier: "webSettings",
                        position: (381, 60),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "STATIC_ROOT",
                          position: (381, 72),
                         },
                        ],
                       },
                       default: None,
                      },
                     },
                     Raw {
                      content: "/\" -mindepth 1 -delete\n",
                      position: (381, 84),
                     },
                     Expression {
                      expression: Variable {
                       identifier: "pythonEnv",
                       position: (382, 13),
                      },
                     },
                     Raw {
                      content: "/bin/mailman-web migrate\n",
                      position: (382, 23),
                     },
                     Expression {
                      expression: Variable {
                       identifier: "pythonEnv",
                       position: (383, 13),
                      },
                     },
                     Raw {
                      content: "/bin/mailman-web collectstatic\n",
                      position: (383, 23),
                     },
                     Expression {
                      expression: Variable {
                       identifier: "pythonEnv",
                       position: (384, 13),
                      },
                     },
                     Raw {
                      content: "/bin/mailman-web compress\n",
                      position: (384, 23),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "serviceConfig",
                      position: (386, 9),
                     },
                    ],
                   },
                   Map {
                    bindings: [
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "User",
                         position: (387, 11),
                        },
                       ],
                      },
                      PropertyAccess {
                       expression: Variable {
                        identifier: "cfg",
                        position: (387, 18),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "webUser",
                          position: (387, 22),
                         },
                        ],
                       },
                       default: None,
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "Group",
                         position: (388, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "mailman",
                         position: (388, 20),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "Type",
                         position: (389, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "oneshot",
                         position: (389, 19),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "WorkingDirectory",
                         position: (390, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "/var/lib/mailman-web",
                         position: (390, 31),
                        },
                       ],
                      },
                     ),
                    ],
                    recursive: false,
                    position: (386, 25),
                   },
                  ),
                 ],
                 recursive: false,
                 position: (375, 27),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mailman-uwsgi",
                   position: (394, 7),
                  },
                 ],
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "mkIf",
                  position: (394, 23),
                 },
                 arguments: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (394, 28),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "serve",
                      position: (394, 32),
                     },
                     Raw {
                      content: "enable",
                      position: (394, 38),
                     },
                    ],
                   },
                   default: None,
                  },
                  LetIn {
                   bindings: [
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "uwsgiConfig",
                        position: (395, 9),
                       },
                       Raw {
                        content: "uwsgi",
                        position: (395, 21),
                       },
                      ],
                     },
                     Map {
                      bindings: [
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "type",
                           position: (396, 11),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Raw {
                           content: "normal",
                           position: (396, 19),
                          },
                         ],
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "plugins",
                           position: (397, 11),
                          },
                         ],
                        },
                        List {
                         elements: [
                          String {
                           parts: [
                            Raw {
                             content: "python3",
                             position: (397, 23),
                            },
                           ],
                          },
                         ],
                         position: (397, 21),
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "home",
                           position: (398, 11),
                          },
                         ],
                        },
                        Variable {
                         identifier: "pythonEnv",
                         position: (398, 18),
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "module",
                           position: (399, 11),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Raw {
                           content: "mailman_web.wsgi",
                           position: (399, 21),
                          },
                         ],
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "http",
                           position: (400, 11),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Raw {
                           content: "127.0.0.1:18507",
                           position: (400, 19),
                          },
                         ],
                        },
                       ),
                      ],
                      recursive: false,
                      position: (395, 29),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "uwsgiConfigFile",
                        position: (402, 9),
                       },
                      ],
                     },
                     FunctionApplication {
                      function: PropertyAccess {
                       expression: Variable {
                        identifier: "pkgs",
                        position: (402, 27),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "writeText",
                          position: (402, 32),
                         },
                        ],
                       },
                       default: None,
                      },
                      arguments: [
                       String {
                        parts: [
                         Raw {
                          content: "uwsgi-mailman.json",
                          position: (402, 43),
                         },
                        ],
                       },
                       FunctionApplication {
                        function: PropertyAccess {
                         expression: Variable {
                          identifier: "builtins",
                          position: (402, 64),
                         },
                         attribute_path: AttributePath {
                          attributes: [
                           Raw {
                            content: "toJSON",
                            position: (402, 73),
                           },
                          ],
                         },
                         default: None,
                        },
                        arguments: [
                         Variable {
                          identifier: "uwsgiConfig",
                          position: (402, 80),
                         },
                        ],
                       },
                      ],
                     },
                    ),
                   ],
                   target: Map {
                    bindings: [
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "wantedBy",
                         position: (404, 9),
                        },
                       ],
                      },
                      List {
                       elements: [
                        String {
                         parts: [
                          Raw {
                           content: "multi-user.target",
                           position: (404, 22),
                          },
                         ],
                        },
                       ],
                       position: (404, 20),
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "requires",
                         position: (405, 9),
                        },
                       ],
                      },
                      List {
                       elements: [
                        String {
                         parts: [
                          Raw {
                           content: "mailman-uwsgi.socket",
                           position: (405, 22),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Raw {
                           content: "mailman-web-setup.service",
                           position: (405, 45),
                          },
                         ],
                        },
                       ],
                       position: (405, 20),
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "restartTriggers",
                         position: (406, 9),
                        },
                       ],
                      },
                      List {
                       elements: [
                        PropertyAccess {
                         expression: Variable {
                          identifier: "config",
                          position: (406, 29),
                         },
                         attribute_path: AttributePath {
                          attributes: [
                           Raw {
                            content: "environment",
                            position: (406, 36),
                           },
                           Raw {
                            content: "etc",
                            position: (406, 48),
                           },
                           Expression {
                            expression: String {
                             parts: [
                              Raw {
                               content: "mailman3/settings.py",
                               position: (406, 53),
                              },
                             ],
                            },
                           },
                           Raw {
                            content: "source",
                            position: (406, 75),
                           },
                          ],
                         },
                         default: None,
                        },
                       ],
                       position: (406, 27),
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "serviceConfig",
                         position: (407, 9),
                        },
                       ],
                      },
                      Map {
                       bindings: [
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Raw {
                            content: "ExecStart",
                            position: (411, 11),
                           },
                          ],
                         },
                         String {
                          parts: [
                           Expression {
                            expression: PropertyAccess {
                             expression: Variable {
                              identifier: "pkgs",
                              position: (411, 26),
                             },
                             attribute_path: AttributePath {
                              attributes: [
                               Raw {
                                content: "coreutils",
                                position: (411, 31),
                               },
                              ],
                             },
                             default: None,
                            },
                           },
                           Raw {
                            content: "/bin/env -C $RUNTIME_DIRECTORY ",
                            position: (411, 41),
                           },
                           Expression {
                            expression: FunctionApplication {
                             function: PropertyAccess {
                              expression: Variable {
                               identifier: "pkgs",
                               position: (411, 74),
                              },
                              attribute_path: AttributePath {
                               attributes: [
                                Raw {
                                 content: "uwsgi",
                                 position: (411, 79),
                                },
                                Raw {
                                 content: "override",
                                 position: (411, 85),
                                },
                               ],
                              },
                              default: None,
                             },
                             arguments: [
                              Map {
                               bindings: [
                                KeyValue(
                                 AttributePath {
                                  attributes: [
                                   Raw {
                                    content: "plugins",
                                    position: (411, 96),
                                   },
                                  ],
                                 },
                                 List {
                                  elements: [
                                   String {
                                    parts: [
                                     Raw {
                                      content: "python3",
                                      position: (411, 108),
                                     },
                                    ],
                                   },
                                  ],
                                  position: (411, 106),
                                 },
                                ),
                               ],
                               recursive: false,
                               position: (411, 94),
                              },
                             ],
                            },
                           },
                           Raw {
                            content: "/bin/uwsgi --json ",
                            position: (411, 121),
                           },
                           Expression {
                            expression: Variable {
                             identifier: "uwsgiConfigFile",
                             position: (411, 141),
                            },
                           },
                          ],
                         },
                        ),
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Raw {
                            content: "User",
                            position: (412, 11),
                           },
                          ],
                         },
                         PropertyAccess {
                          expression: Variable {
                           identifier: "cfg",
                           position: (412, 18),
                          },
                          attribute_path: AttributePath {
                           attributes: [
                            Raw {
                             content: "webUser",
                             position: (412, 22),
                            },
                           ],
                          },
                          default: None,
                         },
                        ),
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Raw {
                            content: "Group",
                            position: (413, 11),
                           },
                          ],
                         },
                         String {
                          parts: [
                           Raw {
                            content: "mailman",
                            position: (413, 20),
                           },
                          ],
                         },
                        ),
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Raw {
                            content: "RuntimeDirectory",
                            position: (414, 11),
                           },
                          ],
                         },
                         String {
                          parts: [
                           Raw {
                            content: "mailman-uwsgi",
                            position: (414, 31),
                           },
                          ],
                         },
                        ),
                       ],
                       recursive: false,
                       position: (407, 25),
                      },
                     ),
                    ],
                    recursive: false,
                    position: (403, 10),
                   },
                   position: (394, 46),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "mailman-daily",
                   position: (418, 7),
                  },
                 ],
                },
                Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "description",
                      position: (419, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "Trigger daily Mailman events",
                      position: (419, 24),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "startAt",
                      position: (420, 9),
                     },
                    ],
                   },
                   String {
                    parts: [
                     Raw {
                      content: "daily",
                      position: (420, 20),
                     },
                    ],
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "restartTriggers",
                      position: (421, 9),
                     },
                    ],
                   },
                   List {
                    elements: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "config",
                       position: (421, 29),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "environment",
                         position: (421, 36),
                        },
                        Raw {
                         content: "etc",
                         position: (421, 48),
                        },
                        Expression {
                         expression: String {
                          parts: [
                           Raw {
                            content: "mailman.cfg",
                            position: (421, 53),
                           },
                          ],
                         },
                        },
                        Raw {
                         content: "source",
                         position: (421, 66),
                        },
                       ],
                      },
                      default: None,
                     },
                    ],
                    position: (421, 27),
                   },
                  ),
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "serviceConfig",
                      position: (422, 9),
                     },
                    ],
                   },
                   Map {
                    bindings: [
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "ExecStart",
                         position: (423, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Expression {
                         expression: Variable {
                          identifier: "pythonEnv",
                          position: (423, 26),
                         },
                        },
                        Raw {
                         content: "/bin/mailman digests --send",
                         position: (423, 36),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "User",
                         position: (424, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "mailman",
                         position: (424, 19),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "Group",
                         position: (425, 11),
                        },
                       ],
                      },
                      String {
                       parts: [
                        Raw {
                         content: "mailman",
                         position: (425, 20),
                        },
                       ],
                      },
                     ),
                    ],
                    recursive: false,
                    position: (422, 25),
                   },
                  ),
                 ],
                 recursive: false,
                 position: (418, 23),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "hyperkitty",
                   position: (429, 7),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "lib",
                   position: (429, 20),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "mkIf",
                     position: (429, 24),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  PropertyAccess {
                   expression: Variable {
                    identifier: "cfg",
                    position: (429, 29),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "hyperkitty",
                      position: (429, 33),
                     },
                     Raw {
                      content: "enable",
                      position: (429, 44),
                     },
                    ],
                   },
                   default: None,
                  },
                  Map {
                   bindings: [
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "description",
                        position: (430, 9),
                       },
                      ],
                     },
                     String {
                      parts: [
                       Raw {
                        content: "GNU Hyperkitty QCluster Process",
                        position: (430, 24),
                       },
                      ],
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "after",
                        position: (431, 9),
                       },
                      ],
                     },
                     List {
                      elements: [
                       String {
                        parts: [
                         Raw {
                          content: "network.target",
                          position: (431, 20),
                         },
                        ],
                       },
                      ],
                      position: (431, 17),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "restartTriggers",
                        position: (432, 9),
                       },
                      ],
                     },
                     List {
                      elements: [
                       PropertyAccess {
                        expression: Variable {
                         identifier: "config",
                         position: (432, 29),
                        },
                        attribute_path: AttributePath {
                         attributes: [
                          Raw {
                           content: "environment",
                           position: (432, 36),
                          },
                          Raw {
                           content: "etc",
                           position: (432, 48),
                          },
                          Expression {
                           expression: String {
                            parts: [
                             Raw {
                              content: "mailman3/settings.py",
                              position: (432, 53),
                             },
                            ],
                           },
                          },
                          Raw {
                           content: "source",
                           position: (432, 75),
                          },
                         ],
                        },
                        default: None,
                       },
                      ],
                      position: (432, 27),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "wantedBy",
                        position: (433, 9),
                       },
                      ],
                     },
                     List {
                      elements: [
                       String {
                        parts: [
                         Raw {
                          content: "mailman.service",
                          position: (433, 23),
                         },
                        ],
                       },
                       String {
                        parts: [
                         Raw {
                          content: "multi-user.target",
                          position: (433, 41),
                         },
                        ],
                       },
                      ],
                      position: (433, 20),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "serviceConfig",
                        position: (434, 9),
                       },
                      ],
                     },
                     Map {
                      bindings: [
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "ExecStart",
                           position: (435, 11),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Expression {
                           expression: Variable {
                            identifier: "pythonEnv",
                            position: (435, 26),
                           },
                          },
                          Raw {
                           content: "/bin/mailman-web qcluster",
                           position: (435, 36),
                          },
                         ],
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "User",
                           position: (436, 11),
                          },
                         ],
                        },
                        PropertyAccess {
                         expression: Variable {
                          identifier: "cfg",
                          position: (436, 18),
                         },
                         attribute_path: AttributePath {
                          attributes: [
                           Raw {
                            content: "webUser",
                            position: (436, 22),
                           },
                          ],
                         },
                         default: None,
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "Group",
                           position: (437, 11),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Raw {
                           content: "mailman",
                           position: (437, 20),
                          },
                         ],
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "WorkingDirectory",
                           position: (438, 11),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Raw {
                           content: "/var/lib/mailman-web",
                           position: (438, 31),
                          },
                         ],
                        },
                       ),
                      ],
                      recursive: false,
                      position: (434, 25),
                     },
                    ),
                   ],
                   recursive: false,
                   position: (429, 51),
                  },
                 ],
                },
               ),
              ],
              recursive: false,
              position: (318, 24),
             },
             FunctionApplication {
              function: Variable {
               identifier: "flip",
               position: (441, 10),
              },
              arguments: [
               PropertyAccess {
                expression: Variable {
                 identifier: "lib",
                 position: (441, 15),
                },
                attribute_path: AttributePath {
                 attributes: [
                  Raw {
                   content: "mapAttrs'",
                   position: (441, 19),
                  },
                 ],
                },
                default: None,
               },
               Map {
                bindings: [
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Expression {
                     expression: String {
                      parts: [
                       Raw {
                        content: "minutely",
                        position: (442, 8),
                       },
                      ],
                     },
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "minutely",
                     position: (442, 21),
                    },
                   ],
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Expression {
                     expression: String {
                      parts: [
                       Raw {
                        content: "quarter_hourly",
                        position: (443, 8),
                       },
                      ],
                     },
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "*:00/15",
                     position: (443, 27),
                    },
                   ],
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Expression {
                     expression: String {
                      parts: [
                       Raw {
                        content: "hourly",
                        position: (444, 8),
                       },
                      ],
                     },
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "hourly",
                     position: (444, 19),
                    },
                   ],
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Expression {
                     expression: String {
                      parts: [
                       Raw {
                        content: "daily",
                        position: (445, 8),
                       },
                      ],
                     },
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "daily",
                     position: (445, 18),
                    },
                   ],
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Expression {
                     expression: String {
                      parts: [
                       Raw {
                        content: "weekly",
                        position: (446, 8),
                       },
                      ],
                     },
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "weekly",
                     position: (446, 19),
                    },
                   ],
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Expression {
                     expression: String {
                      parts: [
                       Raw {
                        content: "yearly",
                        position: (447, 8),
                       },
                      ],
                     },
                    },
                   ],
                  },
                  String {
                   parts: [
                    Raw {
                     content: "yearly",
                     position: (447, 19),
                    },
                   ],
                  },
                 ),
                ],
                recursive: false,
                position: (441, 29),
               },
               Function {
                argument: Some(
                 "name",
                ),
                arguments: FunctionArguments {
                 arguments: [],
                 ellipsis: false,
                },
                definition: Function {
                 argument: Some(
                  "startAt",
                 ),
                 arguments: FunctionArguments {
                  arguments: [],
                  ellipsis: false,
                 },
                 definition: FunctionApplication {
                  function: PropertyAccess {
                   expression: Variable {
                    identifier: "lib",
                    position: (449, 7),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "nameValuePair",
                      position: (449, 11),
                     },
                    ],
                   },
                   default: None,
                  },
                  arguments: [
                   String {
                    parts: [
                     Raw {
                      content: "hyperkitty-",
                      position: (449, 26),
                     },
                     Expression {
                      expression: Variable {
                       identifier: "name",
                       position: (449, 39),
                      },
                     },
                    ],
                   },
                   FunctionApplication {
                    function: PropertyAccess {
                     expression: Variable {
                      identifier: "lib",
                      position: (449, 47),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "mkIf",
                        position: (449, 51),
                       },
                      ],
                     },
                     default: None,
                    },
                    arguments: [
                     PropertyAccess {
                      expression: Variable {
                       identifier: "cfg",
                       position: (449, 56),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "hyperkitty",
                         position: (449, 60),
                        },
                        Raw {
                         content: "enable",
                         position: (449, 71),
                        },
                       ],
                      },
                      default: None,
                     },
                     Map {
                      bindings: [
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "description",
                           position: (450, 9),
                          },
                         ],
                        },
                        String {
                         parts: [
                          Raw {
                           content: "Trigger ",
                           position: (450, 24),
                          },
                          Expression {
                           expression: Variable {
                            identifier: "name",
                            position: (450, 34),
                           },
                          },
                          Raw {
                           content: " Hyperkitty events",
                           position: (450, 39),
                          },
                         ],
                        },
                       ),
                       Inherit(
                        None,
                        [
                         Raw {
                          content: "startAt",
                          position: (451, 17),
                         },
                        ],
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "restartTriggers",
                           position: (452, 9),
                          },
                         ],
                        },
                        List {
                         elements: [
                          PropertyAccess {
                           expression: Variable {
                            identifier: "config",
                            position: (452, 29),
                           },
                           attribute_path: AttributePath {
                            attributes: [
                             Raw {
                              content: "environment",
                              position: (452, 36),
                             },
                             Raw {
                              content: "etc",
                              position: (452, 48),
                             },
                             Expression {
                              expression: String {
                               parts: [
                                Raw {
                                 content: "mailman3/settings.py",
                                 position: (452, 53),
                                },
                               ],
                              },
                             },
                             Raw {
                              content: "source",
                              position: (452, 75),
                             },
                            ],
                           },
                           default: None,
                          },
                         ],
                         position: (452, 27),
                        },
                       ),
                       KeyValue(
                        AttributePath {
                         attributes: [
                          Raw {
                           content: "serviceConfig",
                           position: (453, 9),
                          },
                         ],
                        },
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "ExecStart",
                              position: (454, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Expression {
                              expression: Variable {
                               identifier: "pythonEnv",
                               position: (454, 26),
                              },
                             },
                             Raw {
                              content: "/bin/mailman-web runjobs ",
                              position: (454, 36),
                             },
                             Expression {
                              expression: Variable {
                               identifier: "name",
                               position: (454, 63),
                              },
                             },
                            ],
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "User",
                              position: (455, 11),
                             },
                            ],
                           },
                           PropertyAccess {
                            expression: Variable {
                             identifier: "cfg",
                             position: (455, 18),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "webUser",
                               position: (455, 22),
                              },
                             ],
                            },
                            default: None,
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "Group",
                              position: (456, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "mailman",
                              position: (456, 20),
                             },
                            ],
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "WorkingDirectory",
                              position: (457, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "/var/lib/mailman-web",
                              position: (457, 31),
                             },
                            ],
                           },
                          ),
                         ],
                         recursive: false,
                         position: (453, 25),
                        },
                       ),
                      ],
                      recursive: false,
                      position: (449, 78),
                     },
                    ],
                   },
                  ],
                 },
                 position: (448, 14),
                },
                position: (448, 8),
               },
              ],
             },
            ],
            position: (441, 7),
           },
          ),
         ],
         recursive: false,
         position: (181, 28),
        },
       ],
      },
     ),
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "meta",
         position: (462, 3),
        },
       ],
      },
      Map {
       bindings: [
        KeyValue(
         AttributePath {
          attributes: [
           Raw {
            content: "maintainers",
            position: (463, 5),
           },
          ],
         },
         With {
          expression: PropertyAccess {
           expression: Variable {
            identifier: "lib",
            position: (463, 24),
           },
           attribute_path: AttributePath {
            attributes: [
             Raw {
              content: "maintainers",
              position: (463, 28),
             },
            ],
           },
           default: None,
          },
          target: List {
           elements: [
            Variable {
             identifier: "lheckemann",
             position: (463, 43),
            },
            Variable {
             identifier: "qyliss",
             position: (463, 54),
            },
           ],
           position: (463, 41),
          },
          position: (463, 19),
         },
        ),
        KeyValue(
         AttributePath {
          attributes: [
           Raw {
            content: "doc",
            position: (464, 5),
           },
          ],
         },
         Path {
          parts: [
           Raw {
            content: "./mailman.xml",
            position: (464, 11),
           },
          ],
         },
        ),
       ],
       recursive: false,
       position: (462, 10),
      },
     ),
    ],
    recursive: false,
    position: (62, 4),
   },
   position: (5, 1),
  },
  position: (3, 1),
 },
 position: (1, 1),
}