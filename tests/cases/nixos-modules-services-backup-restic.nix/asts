---
Function {
 argument: None,
 arguments: FunctionArguments {
  arguments: [
   FunctionArgument {
    identifier: "utils",
    default: None,
   },
   FunctionArgument {
    identifier: "pkgs",
    default: None,
   },
   FunctionArgument {
    identifier: "lib",
    default: None,
   },
   FunctionArgument {
    identifier: "config",
    default: None,
   },
  ],
  ellipsis: true,
 },
 definition: With {
  expression: Variable {
   identifier: "lib",
   position: (3, 6),
  },
  target: LetIn {
   bindings: [
    Inherit(
     Some(
      PropertyAccess {
       expression: Variable {
        identifier: "utils",
        position: (7, 12),
       },
       attribute_path: AttributePath {
        attributes: [
         Raw {
          content: "systemdUtils",
          position: (7, 18),
         },
         Raw {
          content: "unitOptions",
          position: (7, 31),
         },
        ],
       },
       default: None,
      },
     ),
     [
      Raw {
       content: "unitOption",
       position: (7, 44),
      },
     ],
    ),
   ],
   target: Map {
    bindings: [
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "options",
         position: (10, 3),
        },
        Raw {
         content: "services",
         position: (10, 11),
        },
        Raw {
         content: "restic",
         position: (10, 20),
        },
        Raw {
         content: "backups",
         position: (10, 27),
        },
       ],
      },
      FunctionApplication {
       function: Variable {
        identifier: "mkOption",
        position: (10, 37),
       },
       arguments: [
        Map {
         bindings: [
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "description",
              position: (11, 5),
             },
            ],
           },
           String {
            parts: [
             Raw {
              content: "Periodic backups to create with Restic.\n",
             },
            ],
            position: (11, 19),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "type",
              position: (14, 5),
             },
            ],
           },
           FunctionApplication {
            function: PropertyAccess {
             expression: Variable {
              identifier: "types",
              position: (14, 12),
             },
             attribute_path: AttributePath {
              attributes: [
               Raw {
                content: "attrsOf",
                position: (14, 18),
               },
              ],
             },
             default: None,
            },
            arguments: [
             FunctionApplication {
              function: PropertyAccess {
               expression: Variable {
                identifier: "types",
                position: (14, 27),
               },
               attribute_path: AttributePath {
                attributes: [
                 Raw {
                  content: "submodule",
                  position: (14, 33),
                 },
                ],
               },
               default: None,
              },
              arguments: [
               Function {
                argument: None,
                arguments: FunctionArguments {
                 arguments: [
                  FunctionArgument {
                   identifier: "name",
                   default: None,
                  },
                  FunctionArgument {
                   identifier: "config",
                   default: None,
                  },
                 ],
                 ellipsis: true,
                },
                definition: Map {
                 bindings: [
                  KeyValue(
                   AttributePath {
                    attributes: [
                     Raw {
                      content: "options",
                      position: (15, 7),
                     },
                    ],
                   },
                   Map {
                    bindings: [
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "passwordFile",
                         position: (16, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (16, 24),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (17, 11),
                             },
                            ],
                           },
                           PropertyAccess {
                            expression: Variable {
                             identifier: "types",
                             position: (17, 18),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "str",
                               position: (17, 24),
                              },
                             ],
                            },
                            default: None,
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (18, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Read the repository password from a file.\n",
                             },
                            ],
                            position: (18, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (21, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "/etc/nixos/restic-password",
                             },
                            ],
                            position: (21, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (16, 33),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "environmentFile",
                         position: (24, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (24, 27),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (25, 11),
                             },
                            ],
                           },
                           With {
                            expression: Variable {
                             identifier: "types",
                             position: (25, 23),
                            },
                            target: FunctionApplication {
                             function: Variable {
                              identifier: "nullOr",
                              position: (25, 30),
                             },
                             arguments: [
                              Variable {
                               identifier: "str",
                               position: (25, 37),
                              },
                             ],
                            },
                            position: (25, 18),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (28, 11),
                             },
                            ],
                           },
                           PropertyAccess {
                            expression: Variable {
                             identifier: "config",
                             position: (28, 21),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "s3CredentialsFile",
                               position: (28, 28),
                              },
                             ],
                            },
                            default: None,
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (29, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "file containing the credentials to access the repository, in the\nformat of an EnvironmentFile as described by systemd.exec(5)\n",
                             },
                            ],
                            position: (29, 25),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (24, 36),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "s3CredentialsFile",
                         position: (35, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (35, 29),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (36, 11),
                             },
                            ],
                           },
                           With {
                            expression: Variable {
                             identifier: "types",
                             position: (36, 23),
                            },
                            target: FunctionApplication {
                             function: Variable {
                              identifier: "nullOr",
                              position: (36, 30),
                             },
                             arguments: [
                              Variable {
                               identifier: "str",
                               position: (36, 37),
                              },
                             ],
                            },
                            position: (36, 18),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (37, 11),
                             },
                            ],
                           },
                           Variable {
                            identifier: "null",
                            position: (37, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (38, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "file containing the AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY\nfor an S3-hosted repository, in the format of an EnvironmentFile\nas described by systemd.exec(5)\n",
                             },
                            ],
                            position: (38, 25),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (35, 38),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "rcloneOptions",
                         position: (45, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (45, 25),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (46, 11),
                             },
                            ],
                           },
                           With {
                            expression: Variable {
                             identifier: "types",
                             position: (46, 23),
                            },
                            target: FunctionApplication {
                             function: Variable {
                              identifier: "nullOr",
                              position: (46, 30),
                             },
                             arguments: [
                              FunctionApplication {
                               function: Variable {
                                identifier: "attrsOf",
                                position: (46, 38),
                               },
                               arguments: [
                                FunctionApplication {
                                 function: Variable {
                                  identifier: "oneOf",
                                  position: (46, 47),
                                 },
                                 arguments: [
                                  List {
                                   elements: [
                                    Variable {
                                     identifier: "str",
                                     position: (46, 55),
                                    },
                                    Variable {
                                     identifier: "bool",
                                     position: (46, 59),
                                    },
                                   ],
                                   position: (46, 53),
                                  },
                                 ],
                                },
                               ],
                              },
                             ],
                            },
                            position: (46, 18),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (47, 11),
                             },
                            ],
                           },
                           Variable {
                            identifier: "null",
                            position: (47, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (48, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Options to pass to rclone to control its behavior.\nSee <link xlink:href=\"https://rclone.org/docs/#options\"/> for\navailable options. When specifying option names, strip the\nleading <literal>--</literal>. To set a flag such as\n<literal>--drive-use-trash</literal>, which does not take a value,\nset the value to the Boolean <literal>true</literal>.\n",
                             },
                            ],
                            position: (48, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (56, 11),
                             },
                            ],
                           },
                           Map {
                            bindings: [
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "bwlimit",
                                 position: (57, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "10M",
                                },
                               ],
                               position: (57, 23),
                              },
                             ),
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "drive-use-trash",
                                 position: (58, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "true",
                                },
                               ],
                               position: (58, 31),
                              },
                             ),
                            ],
                            recursive: false,
                            position: (56, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (45, 34),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "rcloneConfig",
                         position: (62, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (62, 24),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (63, 11),
                             },
                            ],
                           },
                           With {
                            expression: Variable {
                             identifier: "types",
                             position: (63, 23),
                            },
                            target: FunctionApplication {
                             function: Variable {
                              identifier: "nullOr",
                              position: (63, 30),
                             },
                             arguments: [
                              FunctionApplication {
                               function: Variable {
                                identifier: "attrsOf",
                                position: (63, 38),
                               },
                               arguments: [
                                FunctionApplication {
                                 function: Variable {
                                  identifier: "oneOf",
                                  position: (63, 47),
                                 },
                                 arguments: [
                                  List {
                                   elements: [
                                    Variable {
                                     identifier: "str",
                                     position: (63, 55),
                                    },
                                    Variable {
                                     identifier: "bool",
                                     position: (63, 59),
                                    },
                                   ],
                                   position: (63, 53),
                                  },
                                 ],
                                },
                               ],
                              },
                             ],
                            },
                            position: (63, 18),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (64, 11),
                             },
                            ],
                           },
                           Variable {
                            identifier: "null",
                            position: (64, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (65, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Configuration for the rclone remote being used for backup.\nSee the remote's specific options under rclone's docs at\n<link xlink:href=\"https://rclone.org/docs/\"/>. When specifying\noption names, use the \"config\" name specified in the docs.\nFor example, to set <literal>--b2-hard-delete</literal> for a B2\nremote, use <literal>hard_delete = true</literal> in the\nattribute set.\nWarning: Secrets set in here will be world-readable in the Nix\nstore! Consider using the <literal>rcloneConfigFile</literal>\noption instead to specify secret values separately. Note that\noptions set here will override those set in the config file.\n",
                             },
                            ],
                            position: (65, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (78, 11),
                             },
                            ],
                           },
                           Map {
                            bindings: [
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "type",
                                 position: (79, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "b2",
                                },
                               ],
                               position: (79, 20),
                              },
                             ),
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "account",
                                 position: (80, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "xxx",
                                },
                               ],
                               position: (80, 23),
                              },
                             ),
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "key",
                                 position: (81, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "xxx",
                                },
                               ],
                               position: (81, 19),
                              },
                             ),
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "hard_delete",
                                 position: (82, 13),
                                },
                               ],
                              },
                              Variable {
                               identifier: "true",
                               position: (82, 27),
                              },
                             ),
                            ],
                            recursive: false,
                            position: (78, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (62, 33),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "rcloneConfigFile",
                         position: (86, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (86, 28),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (87, 11),
                             },
                            ],
                           },
                           With {
                            expression: Variable {
                             identifier: "types",
                             position: (87, 23),
                            },
                            target: FunctionApplication {
                             function: Variable {
                              identifier: "nullOr",
                              position: (87, 30),
                             },
                             arguments: [
                              Variable {
                               identifier: "path",
                               position: (87, 37),
                              },
                             ],
                            },
                            position: (87, 18),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (88, 11),
                             },
                            ],
                           },
                           Variable {
                            identifier: "null",
                            position: (88, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (89, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Path to the file containing rclone configuration. This file\nmust contain configuration for the remote specified in this backup\nset and also must be readable by root. Options set in\n<literal>rcloneConfig</literal> will override those set in this\nfile.\n",
                             },
                            ],
                            position: (89, 25),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (86, 37),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "repository",
                         position: (98, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (98, 22),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (99, 11),
                             },
                            ],
                           },
                           PropertyAccess {
                            expression: Variable {
                             identifier: "types",
                             position: (99, 18),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "str",
                               position: (99, 24),
                              },
                             ],
                            },
                            default: None,
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (100, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "repository to backup to.\n",
                             },
                            ],
                            position: (100, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (103, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "sftp:backup@192.168.1.100:/backups/",
                             },
                             Expression {
                              expression: Variable {
                               identifier: "name",
                               position: (103, 59),
                              },
                             },
                            ],
                            position: (103, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (98, 31),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "paths",
                         position: (106, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (106, 17),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (107, 11),
                             },
                            ],
                           },
                           FunctionApplication {
                            function: PropertyAccess {
                             expression: Variable {
                              identifier: "types",
                              position: (107, 18),
                             },
                             attribute_path: AttributePath {
                              attributes: [
                               Raw {
                                content: "nullOr",
                                position: (107, 24),
                               },
                              ],
                             },
                             default: None,
                            },
                            arguments: [
                             FunctionApplication {
                              function: PropertyAccess {
                               expression: Variable {
                                identifier: "types",
                                position: (107, 32),
                               },
                               attribute_path: AttributePath {
                                attributes: [
                                 Raw {
                                  content: "listOf",
                                  position: (107, 38),
                                 },
                                ],
                               },
                               default: None,
                              },
                              arguments: [
                               PropertyAccess {
                                expression: Variable {
                                 identifier: "types",
                                 position: (107, 45),
                                },
                                attribute_path: AttributePath {
                                 attributes: [
                                  Raw {
                                   content: "str",
                                   position: (107, 51),
                                  },
                                 ],
                                },
                                default: None,
                               },
                              ],
                             },
                            ],
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (108, 11),
                             },
                            ],
                           },
                           Variable {
                            identifier: "null",
                            position: (108, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (109, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Which paths to backup.  If null or an empty array, no\nbackup command will be run.  This can be used to create a\nprune-only job.\n",
                             },
                            ],
                            position: (109, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (114, 11),
                             },
                            ],
                           },
                           List {
                            elements: [
                             String {
                              parts: [
                               Raw {
                                content: "/var/lib/postgresql",
                               },
                              ],
                              position: (115, 13),
                             },
                             String {
                              parts: [
                               Raw {
                                content: "/home/user/backup",
                               },
                              ],
                              position: (116, 13),
                             },
                            ],
                            position: (114, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (106, 26),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "timerConfig",
                         position: (120, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (120, 23),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (121, 11),
                             },
                            ],
                           },
                           FunctionApplication {
                            function: PropertyAccess {
                             expression: Variable {
                              identifier: "types",
                              position: (121, 18),
                             },
                             attribute_path: AttributePath {
                              attributes: [
                               Raw {
                                content: "attrsOf",
                                position: (121, 24),
                               },
                              ],
                             },
                             default: None,
                            },
                            arguments: [
                             Variable {
                              identifier: "unitOption",
                              position: (121, 32),
                             },
                            ],
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (122, 11),
                             },
                            ],
                           },
                           Map {
                            bindings: [
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "OnCalendar",
                                 position: (123, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "daily",
                                },
                               ],
                               position: (123, 26),
                              },
                             ),
                            ],
                            recursive: false,
                            position: (122, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (125, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "When to run the backup. See man systemd.timer for details.\n",
                             },
                            ],
                            position: (125, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (128, 11),
                             },
                            ],
                           },
                           Map {
                            bindings: [
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "OnCalendar",
                                 position: (129, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "00:05",
                                },
                               ],
                               position: (129, 26),
                              },
                             ),
                             KeyValue(
                              AttributePath {
                               attributes: [
                                Raw {
                                 content: "RandomizedDelaySec",
                                 position: (130, 13),
                                },
                               ],
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "5h",
                                },
                               ],
                               position: (130, 34),
                              },
                             ),
                            ],
                            recursive: false,
                            position: (128, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (120, 32),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "user",
                         position: (134, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (134, 16),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (135, 11),
                             },
                            ],
                           },
                           PropertyAccess {
                            expression: Variable {
                             identifier: "types",
                             position: (135, 18),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "str",
                               position: (135, 24),
                              },
                             ],
                            },
                            default: None,
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (136, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "root",
                             },
                            ],
                            position: (136, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (137, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "As which user the backup should run.\n",
                             },
                            ],
                            position: (137, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (140, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "postgresql",
                             },
                            ],
                            position: (140, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (134, 25),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "extraBackupArgs",
                         position: (143, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (143, 27),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (144, 11),
                             },
                            ],
                           },
                           FunctionApplication {
                            function: PropertyAccess {
                             expression: Variable {
                              identifier: "types",
                              position: (144, 18),
                             },
                             attribute_path: AttributePath {
                              attributes: [
                               Raw {
                                content: "listOf",
                                position: (144, 24),
                               },
                              ],
                             },
                             default: None,
                            },
                            arguments: [
                             PropertyAccess {
                              expression: Variable {
                               identifier: "types",
                               position: (144, 31),
                              },
                              attribute_path: AttributePath {
                               attributes: [
                                Raw {
                                 content: "str",
                                 position: (144, 37),
                                },
                               ],
                              },
                              default: None,
                             },
                            ],
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (145, 11),
                             },
                            ],
                           },
                           List {
                            elements: [],
                            position: (145, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (146, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Extra arguments passed to restic backup.\n",
                             },
                            ],
                            position: (146, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (149, 11),
                             },
                            ],
                           },
                           List {
                            elements: [
                             String {
                              parts: [
                               Raw {
                                content: "--exclude-file=/etc/nixos/restic-ignore",
                               },
                              ],
                              position: (150, 13),
                             },
                            ],
                            position: (149, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (143, 36),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "extraOptions",
                         position: (154, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (154, 24),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (155, 11),
                             },
                            ],
                           },
                           FunctionApplication {
                            function: PropertyAccess {
                             expression: Variable {
                              identifier: "types",
                              position: (155, 18),
                             },
                             attribute_path: AttributePath {
                              attributes: [
                               Raw {
                                content: "listOf",
                                position: (155, 24),
                               },
                              ],
                             },
                             default: None,
                            },
                            arguments: [
                             PropertyAccess {
                              expression: Variable {
                               identifier: "types",
                               position: (155, 31),
                              },
                              attribute_path: AttributePath {
                               attributes: [
                                Raw {
                                 content: "str",
                                 position: (155, 37),
                                },
                               ],
                              },
                              default: None,
                             },
                            ],
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (156, 11),
                             },
                            ],
                           },
                           List {
                            elements: [],
                            position: (156, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (157, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Extra extended options to be passed to the restic --option flag.\n",
                             },
                            ],
                            position: (157, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (160, 11),
                             },
                            ],
                           },
                           List {
                            elements: [
                             String {
                              parts: [
                               Raw {
                                content: "sftp.command='ssh backup@192.168.1.100 -i /home/user/.ssh/id_rsa -s sftp'",
                               },
                              ],
                              position: (161, 13),
                             },
                            ],
                            position: (160, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (154, 33),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "initialize",
                         position: (165, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (165, 22),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (166, 11),
                             },
                            ],
                           },
                           PropertyAccess {
                            expression: Variable {
                             identifier: "types",
                             position: (166, 18),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "bool",
                               position: (166, 24),
                              },
                             ],
                            },
                            default: None,
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (167, 11),
                             },
                            ],
                           },
                           Variable {
                            identifier: "false",
                            position: (167, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (168, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "Create the repository if it doesn't exist.\n",
                             },
                            ],
                            position: (168, 25),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (165, 31),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "pruneOpts",
                         position: (173, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (173, 21),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (174, 11),
                             },
                            ],
                           },
                           FunctionApplication {
                            function: PropertyAccess {
                             expression: Variable {
                              identifier: "types",
                              position: (174, 18),
                             },
                             attribute_path: AttributePath {
                              attributes: [
                               Raw {
                                content: "listOf",
                                position: (174, 24),
                               },
                              ],
                             },
                             default: None,
                            },
                            arguments: [
                             PropertyAccess {
                              expression: Variable {
                               identifier: "types",
                               position: (174, 31),
                              },
                              attribute_path: AttributePath {
                               attributes: [
                                Raw {
                                 content: "str",
                                 position: (174, 37),
                                },
                               ],
                              },
                              default: None,
                             },
                            ],
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (175, 11),
                             },
                            ],
                           },
                           List {
                            elements: [],
                            position: (175, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (176, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "A list of options (--keep-* et al.) for 'restic forget\n--prune', to automatically prune old snapshots.  The\n'forget' command is run *after* the 'backup' command, so\nkeep that in mind when constructing the --keep-* options.\n",
                             },
                            ],
                            position: (176, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (182, 11),
                             },
                            ],
                           },
                           List {
                            elements: [
                             String {
                              parts: [
                               Raw {
                                content: "--keep-daily 7",
                               },
                              ],
                              position: (183, 13),
                             },
                             String {
                              parts: [
                               Raw {
                                content: "--keep-weekly 5",
                               },
                              ],
                              position: (184, 13),
                             },
                             String {
                              parts: [
                               Raw {
                                content: "--keep-monthly 12",
                               },
                              ],
                              position: (185, 13),
                             },
                             String {
                              parts: [
                               Raw {
                                content: "--keep-yearly 75",
                               },
                              ],
                              position: (186, 13),
                             },
                            ],
                            position: (182, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (173, 30),
                        },
                       ],
                      },
                     ),
                     KeyValue(
                      AttributePath {
                       attributes: [
                        Raw {
                         content: "dynamicFilesFrom",
                         position: (190, 9),
                        },
                       ],
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "mkOption",
                        position: (190, 28),
                       },
                       arguments: [
                        Map {
                         bindings: [
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "type",
                              position: (191, 11),
                             },
                            ],
                           },
                           With {
                            expression: Variable {
                             identifier: "types",
                             position: (191, 23),
                            },
                            target: FunctionApplication {
                             function: Variable {
                              identifier: "nullOr",
                              position: (191, 30),
                             },
                             arguments: [
                              Variable {
                               identifier: "str",
                               position: (191, 37),
                              },
                             ],
                            },
                            position: (191, 18),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "default",
                              position: (192, 11),
                             },
                            ],
                           },
                           Variable {
                            identifier: "null",
                            position: (192, 21),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "description",
                              position: (193, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "A script that produces a list of files to back up.  The\nresults of this command are given to the '--files-from'\noption.\n",
                             },
                            ],
                            position: (193, 25),
                           },
                          ),
                          KeyValue(
                           AttributePath {
                            attributes: [
                             Raw {
                              content: "example",
                              position: (198, 11),
                             },
                            ],
                           },
                           String {
                            parts: [
                             Raw {
                              content: "find /home/matt/git -type d -name .git",
                             },
                            ],
                            position: (198, 21),
                           },
                          ),
                         ],
                         recursive: false,
                         position: (190, 37),
                        },
                       ],
                      },
                     ),
                    ],
                    recursive: false,
                    position: (15, 17),
                   },
                  ),
                 ],
                 recursive: false,
                 position: (14, 67),
                },
                position: (14, 44),
               },
              ],
             },
            ],
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "default",
              position: (202, 5),
             },
            ],
           },
           Map {
            bindings: [],
            recursive: false,
            position: (202, 15),
           },
          ),
          KeyValue(
           AttributePath {
            attributes: [
             Raw {
              content: "example",
              position: (203, 5),
             },
            ],
           },
           Map {
            bindings: [
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "localbackup",
                 position: (204, 7),
                },
               ],
              },
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "paths",
                    position: (205, 9),
                   },
                  ],
                 },
                 List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "/home",
                     },
                    ],
                    position: (205, 19),
                   },
                  ],
                  position: (205, 17),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "repository",
                    position: (206, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "/mnt/backup-hdd",
                   },
                  ],
                  position: (206, 22),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "passwordFile",
                    position: (207, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "/etc/nixos/secrets/restic-password",
                   },
                  ],
                  position: (207, 24),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "initialize",
                    position: (208, 9),
                   },
                  ],
                 },
                 Variable {
                  identifier: "true",
                  position: (208, 22),
                 },
                ),
               ],
               recursive: false,
               position: (204, 21),
              },
             ),
             KeyValue(
              AttributePath {
               attributes: [
                Raw {
                 content: "remotebackup",
                 position: (210, 7),
                },
               ],
              },
              Map {
               bindings: [
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "paths",
                    position: (211, 9),
                   },
                  ],
                 },
                 List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "/home",
                     },
                    ],
                    position: (211, 19),
                   },
                  ],
                  position: (211, 17),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "repository",
                    position: (212, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "sftp:backup@host:/backups/home",
                   },
                  ],
                  position: (212, 22),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "passwordFile",
                    position: (213, 9),
                   },
                  ],
                 },
                 String {
                  parts: [
                   Raw {
                    content: "/etc/nixos/secrets/restic-password",
                   },
                  ],
                  position: (213, 24),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "extraOptions",
                    position: (214, 9),
                   },
                  ],
                 },
                 List {
                  elements: [
                   String {
                    parts: [
                     Raw {
                      content: "sftp.command='ssh backup@host -i /etc/nixos/secrets/backup-private-key -s sftp'",
                     },
                    ],
                    position: (215, 11),
                   },
                  ],
                  position: (214, 24),
                 },
                ),
                KeyValue(
                 AttributePath {
                  attributes: [
                   Raw {
                    content: "timerConfig",
                    position: (217, 9),
                   },
                  ],
                 },
                 Map {
                  bindings: [
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "OnCalendar",
                       position: (218, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "00:05",
                      },
                     ],
                     position: (218, 24),
                    },
                   ),
                   KeyValue(
                    AttributePath {
                     attributes: [
                      Raw {
                       content: "RandomizedDelaySec",
                       position: (219, 11),
                      },
                     ],
                    },
                    String {
                     parts: [
                      Raw {
                       content: "5h",
                      },
                     ],
                     position: (219, 32),
                    },
                   ),
                  ],
                  recursive: false,
                  position: (217, 23),
                 },
                ),
               ],
               recursive: false,
               position: (210, 22),
              },
             ),
            ],
            recursive: false,
            position: (203, 15),
           },
          ),
         ],
         recursive: false,
         position: (10, 46),
        },
       ],
      },
     ),
     KeyValue(
      AttributePath {
       attributes: [
        Raw {
         content: "config",
         position: (225, 3),
        },
       ],
      },
      Map {
       bindings: [
        KeyValue(
         AttributePath {
          attributes: [
           Raw {
            content: "warnings",
            position: (226, 5),
           },
          ],
         },
         FunctionApplication {
          function: Variable {
           identifier: "mapAttrsToList",
           position: (226, 16),
          },
          arguments: [
           Function {
            argument: Some(
             "n",
            ),
            arguments: FunctionArguments {
             arguments: [],
             ellipsis: false,
            },
            definition: Function {
             argument: Some(
              "v",
             ),
             arguments: FunctionArguments {
              arguments: [],
              ellipsis: false,
             },
             definition: String {
              parts: [
               Raw {
                content: "services.restic.backups.",
               },
               Expression {
                expression: Variable {
                 identifier: "n",
                 position: (226, 65),
                },
               },
               Raw {
                content: ".s3CredentialsFile is deprecated, please use services.restic.backups.",
               },
               Expression {
                expression: Variable {
                 identifier: "n",
                 position: (226, 138),
                },
               },
               Raw {
                content: ".environmentFile instead.",
               },
              ],
              position: (226, 38),
             },
             position: (226, 35),
            },
            position: (226, 32),
           },
           FunctionApplication {
            function: Variable {
             identifier: "filterAttrs",
             position: (226, 169),
            },
            arguments: [
             Function {
              argument: Some(
               "n",
              ),
              arguments: FunctionArguments {
               arguments: [],
               ellipsis: false,
              },
              definition: Function {
               argument: Some(
                "v",
               ),
               arguments: FunctionArguments {
                arguments: [],
                ellipsis: false,
               },
               definition: BinaryOperation {
                operator: NotEqualTo,
                operands: [
                 PropertyAccess {
                  expression: Variable {
                   identifier: "v",
                   position: (226, 188),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "s3CredentialsFile",
                     position: (226, 190),
                    },
                   ],
                  },
                  default: None,
                 },
                 Variable {
                  identifier: "null",
                  position: (226, 211),
                 },
                ],
                position: (226, 208),
               },
               position: (226, 185),
              },
              position: (226, 182),
             },
             PropertyAccess {
              expression: Variable {
               identifier: "config",
               position: (226, 217),
              },
              attribute_path: AttributePath {
               attributes: [
                Raw {
                 content: "services",
                 position: (226, 224),
                },
                Raw {
                 content: "restic",
                 position: (226, 233),
                },
                Raw {
                 content: "backups",
                 position: (226, 240),
                },
               ],
              },
              default: None,
             },
            ],
           },
          ],
         },
        ),
        KeyValue(
         AttributePath {
          attributes: [
           Raw {
            content: "systemd",
            position: (227, 5),
           },
           Raw {
            content: "services",
            position: (227, 13),
           },
          ],
         },
         FunctionApplication {
          function: Variable {
           identifier: "mapAttrs'",
           position: (228, 7),
          },
          arguments: [
           Function {
            argument: Some(
             "name",
            ),
            arguments: FunctionArguments {
             arguments: [],
             ellipsis: false,
            },
            definition: Function {
             argument: Some(
              "backup",
             ),
             arguments: FunctionArguments {
              arguments: [],
              ellipsis: false,
             },
             definition: LetIn {
              bindings: [
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "extraOptions",
                   position: (230, 11),
                  },
                 ],
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "concatMapStrings",
                  position: (230, 26),
                 },
                 arguments: [
                  Function {
                   argument: Some(
                    "arg",
                   ),
                   arguments: FunctionArguments {
                    arguments: [],
                    ellipsis: false,
                   },
                   definition: String {
                    parts: [
                     Raw {
                      content: " -o ",
                     },
                     Expression {
                      expression: Variable {
                       identifier: "arg",
                       position: (230, 56),
                      },
                     },
                    ],
                    position: (230, 49),
                   },
                   position: (230, 44),
                  },
                  PropertyAccess {
                   expression: Variable {
                    identifier: "backup",
                    position: (230, 63),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "extraOptions",
                      position: (230, 70),
                     },
                    ],
                   },
                   default: None,
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "resticCmd",
                   position: (231, 11),
                  },
                 ],
                },
                String {
                 parts: [
                  Expression {
                   expression: PropertyAccess {
                    expression: Variable {
                     identifier: "pkgs",
                     position: (231, 26),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "restic",
                       position: (231, 31),
                      },
                     ],
                    },
                    default: None,
                   },
                  },
                  Raw {
                   content: "/bin/restic",
                  },
                  Expression {
                   expression: Variable {
                    identifier: "extraOptions",
                    position: (231, 51),
                   },
                  },
                 ],
                 position: (231, 23),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "filesFromTmpFile",
                   position: (232, 11),
                  },
                 ],
                },
                String {
                 parts: [
                  Raw {
                   content: "/run/restic-backups-",
                  },
                  Expression {
                   expression: Variable {
                    identifier: "name",
                    position: (232, 53),
                   },
                  },
                  Raw {
                   content: "/includes",
                  },
                 ],
                 position: (232, 30),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "backupPaths",
                   position: (233, 11),
                  },
                 ],
                },
                IfThenElse {
                 predicate: BinaryOperation {
                  operator: EqualTo,
                  operands: [
                   PropertyAccess {
                    expression: Variable {
                     identifier: "backup",
                     position: (233, 29),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "dynamicFilesFrom",
                       position: (233, 36),
                      },
                     ],
                    },
                    default: None,
                   },
                   Variable {
                    identifier: "null",
                    position: (233, 56),
                   },
                  ],
                  position: (233, 53),
                 },
                 then: IfThenElse {
                  predicate: BinaryOperation {
                   operator: NotEqualTo,
                   operands: [
                    PropertyAccess {
                     expression: Variable {
                      identifier: "backup",
                      position: (234, 34),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "paths",
                        position: (234, 41),
                       },
                      ],
                     },
                     default: None,
                    },
                    Variable {
                     identifier: "null",
                     position: (234, 50),
                    },
                   ],
                   position: (234, 47),
                  },
                  then: FunctionApplication {
                   function: Variable {
                    identifier: "concatStringsSep",
                    position: (234, 61),
                   },
                   arguments: [
                    String {
                     parts: [
                      Raw {
                       content: " ",
                      },
                     ],
                     position: (234, 78),
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "backup",
                      position: (234, 82),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "paths",
                        position: (234, 89),
                       },
                      ],
                     },
                     default: None,
                    },
                   ],
                  },
                  else_: String {
                   parts: [],
                   position: (234, 100),
                  },
                  position: (234, 30),
                 },
                 else_: String {
                  parts: [
                   Raw {
                    content: "--files-from ",
                   },
                   Expression {
                    expression: Variable {
                     identifier: "filesFromTmpFile",
                     position: (235, 46),
                    },
                   },
                  ],
                  position: (235, 30),
                 },
                 position: (233, 25),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "pruneCmd",
                   position: (236, 11),
                  },
                 ],
                },
                FunctionApplication {
                 function: Variable {
                  identifier: "optionals",
                  position: (236, 22),
                 },
                 arguments: [
                  BinaryOperation {
                   operator: GreaterThan,
                   operands: [
                    FunctionApplication {
                     function: PropertyAccess {
                      expression: Variable {
                       identifier: "builtins",
                       position: (236, 33),
                      },
                      attribute_path: AttributePath {
                       attributes: [
                        Raw {
                         content: "length",
                         position: (236, 42),
                        },
                       ],
                      },
                      default: None,
                     },
                     arguments: [
                      PropertyAccess {
                       expression: Variable {
                        identifier: "backup",
                        position: (236, 49),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "pruneOpts",
                          position: (236, 56),
                         },
                        ],
                       },
                       default: None,
                      },
                     ],
                    },
                    Int {
                     value: 0,
                     position: (236, 68),
                    },
                   ],
                   position: (236, 66),
                  },
                  List {
                   elements: [
                    BinaryOperation {
                     operator: Addition,
                     operands: [
                      BinaryOperation {
                       operator: Addition,
                       operands: [
                        Variable {
                         identifier: "resticCmd",
                         position: (237, 15),
                        },
                        String {
                         parts: [
                          Raw {
                           content: " forget --prune ",
                          },
                         ],
                         position: (237, 27),
                        },
                       ],
                       position: (237, 25),
                      },
                      FunctionApplication {
                       function: Variable {
                        identifier: "concatStringsSep",
                        position: (237, 49),
                       },
                       arguments: [
                        String {
                         parts: [
                          Raw {
                           content: " ",
                          },
                         ],
                         position: (237, 66),
                        },
                        PropertyAccess {
                         expression: Variable {
                          identifier: "backup",
                          position: (237, 70),
                         },
                         attribute_path: AttributePath {
                          attributes: [
                           Raw {
                            content: "pruneOpts",
                            position: (237, 77),
                           },
                          ],
                         },
                         default: None,
                        },
                       ],
                      },
                     ],
                     position: (237, 46),
                    },
                    BinaryOperation {
                     operator: Addition,
                     operands: [
                      Variable {
                       identifier: "resticCmd",
                       position: (238, 15),
                      },
                      String {
                       parts: [
                        Raw {
                         content: " check",
                        },
                       ],
                       position: (238, 27),
                      },
                     ],
                     position: (238, 25),
                    },
                   ],
                   position: (236, 71),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "rcloneRemoteName",
                   position: (241, 11),
                  },
                 ],
                },
                FunctionApplication {
                 function: PropertyAccess {
                  expression: Variable {
                   identifier: "builtins",
                   position: (241, 30),
                  },
                  attribute_path: AttributePath {
                   attributes: [
                    Raw {
                     content: "elemAt",
                     position: (241, 39),
                    },
                   ],
                  },
                  default: None,
                 },
                 arguments: [
                  FunctionApplication {
                   function: Variable {
                    identifier: "splitString",
                    position: (241, 47),
                   },
                   arguments: [
                    String {
                     parts: [
                      Raw {
                       content: ":",
                      },
                     ],
                     position: (241, 59),
                    },
                    PropertyAccess {
                     expression: Variable {
                      identifier: "backup",
                      position: (241, 63),
                     },
                     attribute_path: AttributePath {
                      attributes: [
                       Raw {
                        content: "repository",
                        position: (241, 70),
                       },
                      ],
                     },
                     default: None,
                    },
                   ],
                  },
                  Int {
                   value: 1,
                   position: (241, 82),
                  },
                 ],
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "rcloneAttrToOpt",
                   position: (242, 11),
                  },
                 ],
                },
                Function {
                 argument: Some(
                  "v",
                 ),
                 arguments: FunctionArguments {
                  arguments: [],
                  ellipsis: false,
                 },
                 definition: BinaryOperation {
                  operator: Addition,
                  operands: [
                   String {
                    parts: [
                     Raw {
                      content: "RCLONE_",
                     },
                    ],
                    position: (242, 32),
                   },
                   FunctionApplication {
                    function: Variable {
                     identifier: "toUpper",
                     position: (242, 44),
                    },
                    arguments: [
                     FunctionApplication {
                      function: PropertyAccess {
                       expression: Variable {
                        identifier: "builtins",
                        position: (242, 53),
                       },
                       attribute_path: AttributePath {
                        attributes: [
                         Raw {
                          content: "replaceStrings",
                          position: (242, 62),
                         },
                        ],
                       },
                       default: None,
                      },
                      arguments: [
                       List {
                        elements: [
                         String {
                          parts: [
                           Raw {
                            content: "-",
                           },
                          ],
                          position: (242, 79),
                         },
                        ],
                        position: (242, 77),
                       },
                       List {
                        elements: [
                         String {
                          parts: [
                           Raw {
                            content: "_",
                           },
                          ],
                          position: (242, 87),
                         },
                        ],
                        position: (242, 85),
                       },
                       Variable {
                        identifier: "v",
                        position: (242, 93),
                       },
                      ],
                     },
                    ],
                   },
                  ],
                  position: (242, 42),
                 },
                 position: (242, 29),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "rcloneAttrToConf",
                   position: (243, 11),
                  },
                 ],
                },
                Function {
                 argument: Some(
                  "v",
                 ),
                 arguments: FunctionArguments {
                  arguments: [],
                  ellipsis: false,
                 },
                 definition: BinaryOperation {
                  operator: Addition,
                  operands: [
                   String {
                    parts: [
                     Raw {
                      content: "RCLONE_CONFIG_",
                     },
                    ],
                    position: (243, 33),
                   },
                   FunctionApplication {
                    function: Variable {
                     identifier: "toUpper",
                     position: (243, 52),
                    },
                    arguments: [
                     BinaryOperation {
                      operator: Addition,
                      operands: [
                       BinaryOperation {
                        operator: Addition,
                        operands: [
                         Variable {
                          identifier: "rcloneRemoteName",
                          position: (243, 61),
                         },
                         String {
                          parts: [
                           Raw {
                            content: "_",
                           },
                          ],
                          position: (243, 80),
                         },
                        ],
                        position: (243, 78),
                       },
                       Variable {
                        identifier: "v",
                        position: (243, 86),
                       },
                      ],
                      position: (243, 84),
                     },
                    ],
                   },
                  ],
                  position: (243, 50),
                 },
                 position: (243, 30),
                },
               ),
               KeyValue(
                AttributePath {
                 attributes: [
                  Raw {
                   content: "toRcloneVal",
                   position: (244, 11),
                  },
                 ],
                },
                Function {
                 argument: Some(
                  "v",
                 ),
                 arguments: FunctionArguments {
                  arguments: [],
                  ellipsis: false,
                 },
                 definition: IfThenElse {
                  predicate: FunctionApplication {
                   function: PropertyAccess {
                    expression: Variable {
                     identifier: "lib",
                     position: (244, 31),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "isBool",
                       position: (244, 35),
                      },
                     ],
                    },
                    default: None,
                   },
                   arguments: [
                    Variable {
                     identifier: "v",
                     position: (244, 42),
                    },
                   ],
                  },
                  then: FunctionApplication {
                   function: PropertyAccess {
                    expression: Variable {
                     identifier: "lib",
                     position: (244, 49),
                    },
                    attribute_path: AttributePath {
                     attributes: [
                      Raw {
                       content: "boolToString",
                       position: (244, 53),
                      },
                     ],
                    },
                    default: None,
                   },
                   arguments: [
                    Variable {
                     identifier: "v",
                     position: (244, 66),
                    },
                   ],
                  },
                  else_: Variable {
                   identifier: "v",
                   position: (244, 73),
                  },
                  position: (244, 28),
                 },
                 position: (244, 25),
                },
               ),
              ],
              target: FunctionApplication {
               function: Variable {
                identifier: "nameValuePair",
                position: (245, 12),
               },
               arguments: [
                String {
                 parts: [
                  Raw {
                   content: "restic-backups-",
                  },
                  Expression {
                   expression: Variable {
                    identifier: "name",
                    position: (245, 44),
                   },
                  },
                 ],
                 position: (245, 26),
                },
                BinaryOperation {
                 operator: Update,
                 operands: [
                  Map {
                   bindings: [
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "environment",
                        position: (246, 11),
                       },
                      ],
                     },
                     BinaryOperation {
                      operator: Update,
                      operands: [
                       Map {
                        bindings: [
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "RESTIC_PASSWORD_FILE",
                             position: (247, 13),
                            },
                           ],
                          },
                          PropertyAccess {
                           expression: Variable {
                            identifier: "backup",
                            position: (247, 36),
                           },
                           attribute_path: AttributePath {
                            attributes: [
                             Raw {
                              content: "passwordFile",
                              position: (247, 43),
                             },
                            ],
                           },
                           default: None,
                          },
                         ),
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "RESTIC_REPOSITORY",
                             position: (248, 13),
                            },
                           ],
                          },
                          PropertyAccess {
                           expression: Variable {
                            identifier: "backup",
                            position: (248, 33),
                           },
                           attribute_path: AttributePath {
                            attributes: [
                             Raw {
                              content: "repository",
                              position: (248, 40),
                             },
                            ],
                           },
                           default: None,
                          },
                         ),
                        ],
                        recursive: false,
                        position: (246, 25),
                       },
                       BinaryOperation {
                        operator: Update,
                        operands: [
                         FunctionApplication {
                          function: Variable {
                           identifier: "optionalAttrs",
                           position: (249, 16),
                          },
                          arguments: [
                           BinaryOperation {
                            operator: NotEqualTo,
                            operands: [
                             PropertyAccess {
                              expression: Variable {
                               identifier: "backup",
                               position: (249, 31),
                              },
                              attribute_path: AttributePath {
                               attributes: [
                                Raw {
                                 content: "rcloneOptions",
                                 position: (249, 38),
                                },
                               ],
                              },
                              default: None,
                             },
                             Variable {
                              identifier: "null",
                              position: (249, 55),
                             },
                            ],
                            position: (249, 52),
                           },
                           FunctionApplication {
                            function: Variable {
                             identifier: "mapAttrs'",
                             position: (249, 62),
                            },
                            arguments: [
                             Function {
                              argument: Some(
                               "name",
                              ),
                              arguments: FunctionArguments {
                               arguments: [],
                               ellipsis: false,
                              },
                              definition: Function {
                               argument: Some(
                                "value",
                               ),
                               arguments: FunctionArguments {
                                arguments: [],
                                ellipsis: false,
                               },
                               definition: FunctionApplication {
                                function: Variable {
                                 identifier: "nameValuePair",
                                 position: (250, 13),
                                },
                                arguments: [
                                 FunctionApplication {
                                  function: Variable {
                                   identifier: "rcloneAttrToOpt",
                                   position: (250, 28),
                                  },
                                  arguments: [
                                   Variable {
                                    identifier: "name",
                                    position: (250, 44),
                                   },
                                  ],
                                 },
                                 FunctionApplication {
                                  function: Variable {
                                   identifier: "toRcloneVal",
                                   position: (250, 51),
                                  },
                                  arguments: [
                                   Variable {
                                    identifier: "value",
                                    position: (250, 63),
                                   },
                                  ],
                                 },
                                ],
                               },
                               position: (249, 79),
                              },
                              position: (249, 73),
                             },
                             PropertyAccess {
                              expression: Variable {
                               identifier: "backup",
                               position: (251, 13),
                              },
                              attribute_path: AttributePath {
                               attributes: [
                                Raw {
                                 content: "rcloneOptions",
                                 position: (251, 20),
                                },
                               ],
                              },
                              default: None,
                             },
                            ],
                           },
                          ],
                         },
                         BinaryOperation {
                          operator: Update,
                          operands: [
                           FunctionApplication {
                            function: Variable {
                             identifier: "optionalAttrs",
                             position: (251, 38),
                            },
                            arguments: [
                             BinaryOperation {
                              operator: NotEqualTo,
                              operands: [
                               PropertyAccess {
                                expression: Variable {
                                 identifier: "backup",
                                 position: (251, 53),
                                },
                                attribute_path: AttributePath {
                                 attributes: [
                                  Raw {
                                   content: "rcloneConfigFile",
                                   position: (251, 60),
                                  },
                                 ],
                                },
                                default: None,
                               },
                               Variable {
                                identifier: "null",
                                position: (251, 80),
                               },
                              ],
                              position: (251, 77),
                             },
                             Map {
                              bindings: [
                               KeyValue(
                                AttributePath {
                                 attributes: [
                                  Raw {
                                   content: "RCLONE_CONFIG",
                                   position: (252, 13),
                                  },
                                 ],
                                },
                                PropertyAccess {
                                 expression: Variable {
                                  identifier: "backup",
                                  position: (252, 29),
                                 },
                                 attribute_path: AttributePath {
                                  attributes: [
                                   Raw {
                                    content: "rcloneConfigFile",
                                    position: (252, 36),
                                   },
                                  ],
                                 },
                                 default: None,
                                },
                               ),
                              ],
                              recursive: false,
                              position: (251, 86),
                             },
                            ],
                           },
                           FunctionApplication {
                            function: Variable {
                             identifier: "optionalAttrs",
                             position: (253, 16),
                            },
                            arguments: [
                             BinaryOperation {
                              operator: NotEqualTo,
                              operands: [
                               PropertyAccess {
                                expression: Variable {
                                 identifier: "backup",
                                 position: (253, 31),
                                },
                                attribute_path: AttributePath {
                                 attributes: [
                                  Raw {
                                   content: "rcloneConfig",
                                   position: (253, 38),
                                  },
                                 ],
                                },
                                default: None,
                               },
                               Variable {
                                identifier: "null",
                                position: (253, 54),
                               },
                              ],
                              position: (253, 51),
                             },
                             FunctionApplication {
                              function: Variable {
                               identifier: "mapAttrs'",
                               position: (253, 61),
                              },
                              arguments: [
                               Function {
                                argument: Some(
                                 "name",
                                ),
                                arguments: FunctionArguments {
                                 arguments: [],
                                 ellipsis: false,
                                },
                                definition: Function {
                                 argument: Some(
                                  "value",
                                 ),
                                 arguments: FunctionArguments {
                                  arguments: [],
                                  ellipsis: false,
                                 },
                                 definition: FunctionApplication {
                                  function: Variable {
                                   identifier: "nameValuePair",
                                   position: (254, 13),
                                  },
                                  arguments: [
                                   FunctionApplication {
                                    function: Variable {
                                     identifier: "rcloneAttrToConf",
                                     position: (254, 28),
                                    },
                                    arguments: [
                                     Variable {
                                      identifier: "name",
                                      position: (254, 45),
                                     },
                                    ],
                                   },
                                   FunctionApplication {
                                    function: Variable {
                                     identifier: "toRcloneVal",
                                     position: (254, 52),
                                    },
                                    arguments: [
                                     Variable {
                                      identifier: "value",
                                      position: (254, 64),
                                     },
                                    ],
                                   },
                                  ],
                                 },
                                 position: (253, 78),
                                },
                                position: (253, 72),
                               },
                               PropertyAccess {
                                expression: Variable {
                                 identifier: "backup",
                                 position: (255, 13),
                                },
                                attribute_path: AttributePath {
                                 attributes: [
                                  Raw {
                                   content: "rcloneConfig",
                                   position: (255, 20),
                                  },
                                 ],
                                },
                                default: None,
                               },
                              ],
                             },
                            ],
                           },
                          ],
                          position: (253, 13),
                         },
                        ],
                        position: (251, 35),
                       },
                      ],
                      position: (249, 13),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "path",
                        position: (256, 11),
                       },
                      ],
                     },
                     List {
                      elements: [
                       PropertyAccess {
                        expression: Variable {
                         identifier: "pkgs",
                         position: (256, 20),
                        },
                        attribute_path: AttributePath {
                         attributes: [
                          Raw {
                           content: "openssh",
                           position: (256, 25),
                          },
                         ],
                        },
                        default: None,
                       },
                      ],
                      position: (256, 18),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "restartIfChanged",
                        position: (257, 11),
                       },
                      ],
                     },
                     Variable {
                      identifier: "false",
                      position: (257, 30),
                     },
                    ),
                    KeyValue(
                     AttributePath {
                      attributes: [
                       Raw {
                        content: "serviceConfig",
                        position: (258, 11),
                       },
                      ],
                     },
                     BinaryOperation {
                      operator: Update,
                      operands: [
                       Map {
                        bindings: [
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "Type",
                             position: (259, 13),
                            },
                           ],
                          },
                          String {
                           parts: [
                            Raw {
                             content: "oneshot",
                            },
                           ],
                           position: (259, 20),
                          },
                         ),
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "ExecStart",
                             position: (260, 13),
                            },
                           ],
                          },
                          BinaryOperation {
                           operator: Concatenation,
                           operands: [
                            FunctionApplication {
                             function: Variable {
                              identifier: "optionals",
                              position: (260, 26),
                             },
                             arguments: [
                              BinaryOperation {
                               operator: NotEqualTo,
                               operands: [
                                Variable {
                                 identifier: "backupPaths",
                                 position: (260, 37),
                                },
                                String {
                                 parts: [],
                                 position: (260, 52),
                                },
                               ],
                               position: (260, 49),
                              },
                              List {
                               elements: [
                                String {
                                 parts: [
                                  Expression {
                                   expression: Variable {
                                    identifier: "resticCmd",
                                    position: (260, 61),
                                   },
                                  },
                                  Raw {
                                   content: " backup --cache-dir=%C/restic-backups-",
                                  },
                                  Expression {
                                   expression: Variable {
                                    identifier: "name",
                                    position: (260, 111),
                                   },
                                  },
                                  Raw {
                                   content: " ",
                                  },
                                  Expression {
                                   expression: FunctionApplication {
                                    function: Variable {
                                     identifier: "concatStringsSep",
                                     position: (260, 119),
                                    },
                                    arguments: [
                                     String {
                                      parts: [
                                       Raw {
                                        content: " ",
                                       },
                                      ],
                                      position: (260, 136),
                                     },
                                     PropertyAccess {
                                      expression: Variable {
                                       identifier: "backup",
                                       position: (260, 140),
                                      },
                                      attribute_path: AttributePath {
                                       attributes: [
                                        Raw {
                                         content: "extraBackupArgs",
                                         position: (260, 147),
                                        },
                                       ],
                                      },
                                      default: None,
                                     },
                                    ],
                                   },
                                  },
                                  Raw {
                                   content: " ",
                                  },
                                  Expression {
                                   expression: Variable {
                                    identifier: "backupPaths",
                                    position: (260, 166),
                                   },
                                  },
                                 ],
                                 position: (260, 58),
                                },
                               ],
                               position: (260, 56),
                              },
                             ],
                            },
                            Variable {
                             identifier: "pruneCmd",
                             position: (261, 28),
                            },
                           ],
                           position: (261, 25),
                          },
                         ),
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "User",
                             position: (262, 13),
                            },
                           ],
                          },
                          PropertyAccess {
                           expression: Variable {
                            identifier: "backup",
                            position: (262, 20),
                           },
                           attribute_path: AttributePath {
                            attributes: [
                             Raw {
                              content: "user",
                              position: (262, 27),
                             },
                            ],
                           },
                           default: None,
                          },
                         ),
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "RuntimeDirectory",
                             position: (263, 13),
                            },
                           ],
                          },
                          String {
                           parts: [
                            Raw {
                             content: "restic-backups-",
                            },
                            Expression {
                             expression: Variable {
                              identifier: "name",
                              position: (263, 50),
                             },
                            },
                           ],
                           position: (263, 32),
                          },
                         ),
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "CacheDirectory",
                             position: (264, 13),
                            },
                           ],
                          },
                          String {
                           parts: [
                            Raw {
                             content: "restic-backups-",
                            },
                            Expression {
                             expression: Variable {
                              identifier: "name",
                              position: (264, 48),
                             },
                            },
                           ],
                           position: (264, 30),
                          },
                         ),
                         KeyValue(
                          AttributePath {
                           attributes: [
                            Raw {
                             content: "CacheDirectoryMode",
                             position: (265, 13),
                            },
                           ],
                          },
                          String {
                           parts: [
                            Raw {
                             content: "0700",
                            },
                           ],
                           position: (265, 34),
                          },
                         ),
                        ],
                        recursive: false,
                        position: (258, 27),
                       },
                       FunctionApplication {
                        function: Variable {
                         identifier: "optionalAttrs",
                         position: (266, 16),
                        },
                        arguments: [
                         BinaryOperation {
                          operator: NotEqualTo,
                          operands: [
                           PropertyAccess {
                            expression: Variable {
                             identifier: "backup",
                             position: (266, 31),
                            },
                            attribute_path: AttributePath {
                             attributes: [
                              Raw {
                               content: "environmentFile",
                               position: (266, 38),
                              },
                             ],
                            },
                            default: None,
                           },
                           Variable {
                            identifier: "null",
                            position: (266, 57),
                           },
                          ],
                          position: (266, 54),
                         },
                         Map {
                          bindings: [
                           KeyValue(
                            AttributePath {
                             attributes: [
                              Raw {
                               content: "EnvironmentFile",
                               position: (267, 13),
                              },
                             ],
                            },
                            PropertyAccess {
                             expression: Variable {
                              identifier: "backup",
                              position: (267, 31),
                             },
                             attribute_path: AttributePath {
                              attributes: [
                               Raw {
                                content: "environmentFile",
                                position: (267, 38),
                               },
                              ],
                             },
                             default: None,
                            },
                           ),
                          ],
                          recursive: false,
                          position: (266, 63),
                         },
                        ],
                       },
                      ],
                      position: (266, 13),
                     },
                    ),
                   ],
                   recursive: false,
                   position: (245, 52),
                  },
                  BinaryOperation {
                   operator: Update,
                   operands: [
                    FunctionApplication {
                     function: Variable {
                      identifier: "optionalAttrs",
                      position: (269, 14),
                     },
                     arguments: [
                      BinaryOperation {
                       operator: LogicalOr,
                       operands: [
                        PropertyAccess {
                         expression: Variable {
                          identifier: "backup",
                          position: (269, 29),
                         },
                         attribute_path: AttributePath {
                          attributes: [
                           Raw {
                            content: "initialize",
                            position: (269, 36),
                           },
                          ],
                         },
                         default: None,
                        },
                        BinaryOperation {
                         operator: NotEqualTo,
                         operands: [
                          PropertyAccess {
                           expression: Variable {
                            identifier: "backup",
                            position: (269, 50),
                           },
                           attribute_path: AttributePath {
                            attributes: [
                             Raw {
                              content: "dynamicFilesFrom",
                              position: (269, 57),
                             },
                            ],
                           },
                           default: None,
                          },
                          Variable {
                           identifier: "null",
                           position: (269, 77),
                          },
                         ],
                         position: (269, 74),
                        },
                       ],
                       position: (269, 47),
                      },
                      Map {
                       bindings: [
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Raw {
                            content: "preStart",
                            position: (270, 11),
                           },
                          ],
                         },
                         String {
                          parts: [
                           Raw {
                            content: "",
                           },
                           Expression {
                            expression: FunctionApplication {
                             function: Variable {
                              identifier: "optionalString",
                              position: (271, 15),
                             },
                             arguments: [
                              PropertyAccess {
                               expression: Variable {
                                identifier: "backup",
                                position: (271, 31),
                               },
                               attribute_path: AttributePath {
                                attributes: [
                                 Raw {
                                  content: "initialize",
                                  position: (271, 38),
                                 },
                                ],
                               },
                               default: None,
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "",
                                },
                                Expression {
                                 expression: Variable {
                                  identifier: "resticCmd",
                                  position: (272, 17),
                                 },
                                },
                                Raw {
                                 content: " snapshots || ",
                                },
                                Expression {
                                 expression: Variable {
                                  identifier: "resticCmd",
                                  position: (272, 43),
                                 },
                                },
                                Raw {
                                 content: " init\n",
                                },
                               ],
                               position: (271, 50),
                              },
                             ],
                            },
                           },
                           Raw {
                            content: "\n",
                           },
                           Expression {
                            expression: FunctionApplication {
                             function: Variable {
                              identifier: "optionalString",
                              position: (274, 15),
                             },
                             arguments: [
                              BinaryOperation {
                               operator: NotEqualTo,
                               operands: [
                                PropertyAccess {
                                 expression: Variable {
                                  identifier: "backup",
                                  position: (274, 31),
                                 },
                                 attribute_path: AttributePath {
                                  attributes: [
                                   Raw {
                                    content: "dynamicFilesFrom",
                                    position: (274, 38),
                                   },
                                  ],
                                 },
                                 default: None,
                                },
                                Variable {
                                 identifier: "null",
                                 position: (274, 58),
                                },
                               ],
                               position: (274, 55),
                              },
                              String {
                               parts: [
                                Raw {
                                 content: "",
                                },
                                Expression {
                                 expression: FunctionApplication {
                                  function: PropertyAccess {
                                   expression: Variable {
                                    identifier: "pkgs",
                                    position: (275, 17),
                                   },
                                   attribute_path: AttributePath {
                                    attributes: [
                                     Raw {
                                      content: "writeScript",
                                      position: (275, 22),
                                     },
                                    ],
                                   },
                                   default: None,
                                  },
                                  arguments: [
                                   String {
                                    parts: [
                                     Raw {
                                      content: "dynamicFilesFromScript",
                                     },
                                    ],
                                    position: (275, 34),
                                   },
                                   PropertyAccess {
                                    expression: Variable {
                                     identifier: "backup",
                                     position: (275, 59),
                                    },
                                    attribute_path: AttributePath {
                                     attributes: [
                                      Raw {
                                       content: "dynamicFilesFrom",
                                       position: (275, 66),
                                      },
                                     ],
                                    },
                                    default: None,
                                   },
                                  ],
                                 },
                                },
                                Raw {
                                 content: " > ",
                                },
                                Expression {
                                 expression: Variable {
                                  identifier: "filesFromTmpFile",
                                  position: (275, 88),
                                 },
                                },
                                Raw {
                                 content: "\n",
                                },
                               ],
                               position: (274, 64),
                              },
                             ],
                            },
                           },
                           Raw {
                            content: "\n",
                           },
                          ],
                          position: (270, 22),
                         },
                        ),
                       ],
                       recursive: false,
                       position: (269, 83),
                      },
                     ],
                    },
                    FunctionApplication {
                     function: Variable {
                      identifier: "optionalAttrs",
                      position: (278, 14),
                     },
                     arguments: [
                      BinaryOperation {
                       operator: NotEqualTo,
                       operands: [
                        PropertyAccess {
                         expression: Variable {
                          identifier: "backup",
                          position: (278, 29),
                         },
                         attribute_path: AttributePath {
                          attributes: [
                           Raw {
                            content: "dynamicFilesFrom",
                            position: (278, 36),
                           },
                          ],
                         },
                         default: None,
                        },
                        Variable {
                         identifier: "null",
                         position: (278, 56),
                        },
                       ],
                       position: (278, 53),
                      },
                      Map {
                       bindings: [
                        KeyValue(
                         AttributePath {
                          attributes: [
                           Raw {
                            content: "postStart",
                            position: (279, 11),
                           },
                          ],
                         },
                         String {
                          parts: [
                           Raw {
                            content: "rm ",
                           },
                           Expression {
                            expression: Variable {
                             identifier: "filesFromTmpFile",
                             position: (280, 18),
                            },
                           },
                           Raw {
                            content: "\n",
                           },
                          ],
                          position: (279, 23),
                         },
                        ),
                       ],
                       recursive: false,
                       position: (278, 62),
                      },
                     ],
                    },
                   ],
                   position: (278, 11),
                  },
                 ],
                 position: (269, 11),
                },
               ],
              },
              position: (229, 9),
             },
             position: (228, 24),
            },
            position: (228, 18),
           },
           PropertyAccess {
            expression: Variable {
             identifier: "config",
             position: (283, 9),
            },
            attribute_path: AttributePath {
             attributes: [
              Raw {
               content: "services",
               position: (283, 16),
              },
              Raw {
               content: "restic",
               position: (283, 25),
              },
              Raw {
               content: "backups",
               position: (283, 32),
              },
             ],
            },
            default: None,
           },
          ],
         },
        ),
        KeyValue(
         AttributePath {
          attributes: [
           Raw {
            content: "systemd",
            position: (284, 5),
           },
           Raw {
            content: "timers",
            position: (284, 13),
           },
          ],
         },
         FunctionApplication {
          function: Variable {
           identifier: "mapAttrs'",
           position: (285, 7),
          },
          arguments: [
           Function {
            argument: Some(
             "name",
            ),
            arguments: FunctionArguments {
             arguments: [],
             ellipsis: false,
            },
            definition: Function {
             argument: Some(
              "backup",
             ),
             arguments: FunctionArguments {
              arguments: [],
              ellipsis: false,
             },
             definition: FunctionApplication {
              function: Variable {
               identifier: "nameValuePair",
               position: (285, 32),
              },
              arguments: [
               String {
                parts: [
                 Raw {
                  content: "restic-backups-",
                 },
                 Expression {
                  expression: Variable {
                   identifier: "name",
                   position: (285, 64),
                  },
                 },
                ],
                position: (285, 46),
               },
               Map {
                bindings: [
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Raw {
                     content: "wantedBy",
                     position: (286, 9),
                    },
                   ],
                  },
                  List {
                   elements: [
                    String {
                     parts: [
                      Raw {
                       content: "timers.target",
                      },
                     ],
                     position: (286, 22),
                    },
                   ],
                   position: (286, 20),
                  },
                 ),
                 KeyValue(
                  AttributePath {
                   attributes: [
                    Raw {
                     content: "timerConfig",
                     position: (287, 9),
                    },
                   ],
                  },
                  PropertyAccess {
                   expression: Variable {
                    identifier: "backup",
                    position: (287, 23),
                   },
                   attribute_path: AttributePath {
                    attributes: [
                     Raw {
                      content: "timerConfig",
                      position: (287, 30),
                     },
                    ],
                   },
                   default: None,
                  },
                 ),
                ],
                recursive: false,
                position: (285, 71),
               },
              ],
             },
             position: (285, 24),
            },
            position: (285, 18),
           },
           PropertyAccess {
            expression: Variable {
             identifier: "config",
             position: (288, 10),
            },
            attribute_path: AttributePath {
             attributes: [
              Raw {
               content: "services",
               position: (288, 17),
              },
              Raw {
               content: "restic",
               position: (288, 26),
              },
              Raw {
               content: "backups",
               position: (288, 33),
              },
             ],
            },
            default: None,
           },
          ],
         },
        ),
       ],
       recursive: false,
       position: (225, 12),
      },
     ),
    ],
    recursive: false,
    position: (9, 1),
   },
   position: (5, 1),
  },
  position: (3, 1),
 },
 position: (1, 1),
}